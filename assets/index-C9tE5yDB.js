(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cp={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function hw(){if(N1)return mf;N1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var c in o)c!=="key"&&(a[c]=o[c])}else a=o;return o=a.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:a}}return mf.Fragment=e,mf.jsx=n,mf.jsxs=n,mf}var C1;function pw(){return C1||(C1=1,Cp.exports=hw()),Cp.exports}var D=pw(),Rp={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function mw(){if(R1)return kt;R1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function S(W){return W===null||typeof W!="object"?null:(W=A&&W[A]||W["@@iterator"],typeof W=="function"?W:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(W,L,H){this.props=W,this.context=L,this.refs=k,this.updater=H||R}C.prototype.isReactComponent={},C.prototype.setState=function(W,L){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,L,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function U(){}U.prototype=C.prototype;function z(W,L,H){this.props=W,this.context=L,this.refs=k,this.updater=H||R}var Z=z.prototype=new U;Z.constructor=z,N(Z,C.prototype),Z.isPureReactComponent=!0;var fe=Array.isArray;function pe(){}var Q={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function me(W,L,H){var J=H.ref;return{$$typeof:t,type:W,key:L,ref:J!==void 0?J:null,props:H}}function Te(W,L){return me(W.type,L,W.props)}function V(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function j(W){var L={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(H){return L[H]})}var ie=/\/+/g;function ee(W,L){return typeof W=="object"&&W!==null&&W.key!=null?j(""+W.key):L.toString(36)}function Ie(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(pe,pe):(W.status="pending",W.then(function(L){W.status==="pending"&&(W.status="fulfilled",W.value=L)},function(L){W.status==="pending"&&(W.status="rejected",W.reason=L)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function $(W,L,H,J,te){var oe=typeof W;(oe==="undefined"||oe==="boolean")&&(W=null);var ve=!1;if(W===null)ve=!0;else switch(oe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(W.$$typeof){case t:case e:ve=!0;break;case g:return ve=W._init,$(ve(W._payload),L,H,J,te)}}if(ve)return te=te(W),ve=J===""?"."+ee(W,0):J,fe(te)?(H="",ve!=null&&(H=ve.replace(ie,"$&/")+"/"),$(te,L,H,"",function(je){return je})):te!=null&&(V(te)&&(te=Te(te,H+(te.key==null||W&&W.key===te.key?"":(""+te.key).replace(ie,"$&/")+"/")+ve)),L.push(te)),1;ve=0;var Ae=J===""?".":J+":";if(fe(W))for(var Se=0;Se<W.length;Se++)J=W[Se],oe=Ae+ee(J,Se),ve+=$(J,L,H,oe,te);else if(Se=S(W),typeof Se=="function")for(W=Se.call(W),Se=0;!(J=W.next()).done;)J=J.value,oe=Ae+ee(J,Se++),ve+=$(J,L,H,oe,te);else if(oe==="object"){if(typeof W.then=="function")return $(Ie(W),L,H,J,te);throw L=String(W),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ve}function re(W,L,H){if(W==null)return W;var J=[],te=0;return $(W,J,"","",function(oe){return L.call(H,oe,te++)}),J}function ce(W){if(W._status===-1){var L=W._result;L=L(),L.then(function(H){(W._status===0||W._status===-1)&&(W._status=1,W._result=H)},function(H){(W._status===0||W._status===-1)&&(W._status=2,W._result=H)}),W._status===-1&&(W._status=0,W._result=L)}if(W._status===1)return W._result.default;throw W._result}var Ne=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Re={map:re,forEach:function(W,L,H){re(W,function(){L.apply(this,arguments)},H)},count:function(W){var L=0;return re(W,function(){L++}),L},toArray:function(W){return re(W,function(L){return L})||[]},only:function(W){if(!V(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return kt.Activity=w,kt.Children=Re,kt.Component=C,kt.Fragment=n,kt.Profiler=o,kt.PureComponent=z,kt.StrictMode=i,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,kt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return Q.H.useMemoCache(W)}},kt.cache=function(W){return function(){return W.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(W,L,H){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var J=N({},W.props),te=W.key;if(L!=null)for(oe in L.key!==void 0&&(te=""+L.key),L)!K.call(L,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&L.ref===void 0||(J[oe]=L[oe]);var oe=arguments.length-2;if(oe===1)J.children=H;else if(1<oe){for(var ve=Array(oe),Ae=0;Ae<oe;Ae++)ve[Ae]=arguments[Ae+2];J.children=ve}return me(W.type,te,J)},kt.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},kt.createElement=function(W,L,H){var J,te={},oe=null;if(L!=null)for(J in L.key!==void 0&&(oe=""+L.key),L)K.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(te[J]=L[J]);var ve=arguments.length-2;if(ve===1)te.children=H;else if(1<ve){for(var Ae=Array(ve),Se=0;Se<ve;Se++)Ae[Se]=arguments[Se+2];te.children=Ae}if(W&&W.defaultProps)for(J in ve=W.defaultProps,ve)te[J]===void 0&&(te[J]=ve[J]);return me(W,oe,te)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(W){return{$$typeof:c,render:W}},kt.isValidElement=V,kt.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:ce}},kt.memo=function(W,L){return{$$typeof:h,type:W,compare:L===void 0?null:L}},kt.startTransition=function(W){var L=Q.T,H={};Q.T=H;try{var J=W(),te=Q.S;te!==null&&te(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(pe,Ne)}catch(oe){Ne(oe)}finally{L!==null&&H.types!==null&&(L.types=H.types),Q.T=L}},kt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},kt.use=function(W){return Q.H.use(W)},kt.useActionState=function(W,L,H){return Q.H.useActionState(W,L,H)},kt.useCallback=function(W,L){return Q.H.useCallback(W,L)},kt.useContext=function(W){return Q.H.useContext(W)},kt.useDebugValue=function(){},kt.useDeferredValue=function(W,L){return Q.H.useDeferredValue(W,L)},kt.useEffect=function(W,L){return Q.H.useEffect(W,L)},kt.useEffectEvent=function(W){return Q.H.useEffectEvent(W)},kt.useId=function(){return Q.H.useId()},kt.useImperativeHandle=function(W,L,H){return Q.H.useImperativeHandle(W,L,H)},kt.useInsertionEffect=function(W,L){return Q.H.useInsertionEffect(W,L)},kt.useLayoutEffect=function(W,L){return Q.H.useLayoutEffect(W,L)},kt.useMemo=function(W,L){return Q.H.useMemo(W,L)},kt.useOptimistic=function(W,L){return Q.H.useOptimistic(W,L)},kt.useReducer=function(W,L,H){return Q.H.useReducer(W,L,H)},kt.useRef=function(W){return Q.H.useRef(W)},kt.useState=function(W){return Q.H.useState(W)},kt.useSyncExternalStore=function(W,L,H){return Q.H.useSyncExternalStore(W,L,H)},kt.useTransition=function(){return Q.H.useTransition()},kt.version="19.2.3",kt}var I1;function j0(){return I1||(I1=1,Rp.exports=mw()),Rp.exports}var pt=j0();const w2=b2(pt);var Ip={exports:{}},gf={},kp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function gw(){return k1||(k1=1,(function(t){function e($,re){var ce=$.length;$.push(re);e:for(;0<ce;){var Ne=ce-1>>>1,Re=$[Ne];if(0<o(Re,re))$[Ne]=re,$[ce]=Re,ce=Ne;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var re=$[0],ce=$.pop();if(ce!==re){$[0]=ce;e:for(var Ne=0,Re=$.length,W=Re>>>1;Ne<W;){var L=2*(Ne+1)-1,H=$[L],J=L+1,te=$[J];if(0>o(H,ce))J<Re&&0>o(te,H)?($[Ne]=te,$[J]=ce,Ne=J):($[Ne]=H,$[L]=ce,Ne=L);else if(J<Re&&0>o(te,ce))$[Ne]=te,$[J]=ce,Ne=J;else break e}}return re}function o($,re){var ce=$.sortIndex-re.sortIndex;return ce!==0?ce:$.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],h=[],g=1,w=null,A=3,S=!1,R=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z($){for(var re=n(h);re!==null;){if(re.callback===null)i(h);else if(re.startTime<=$)i(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function fe($){if(N=!1,Z($),!R)if(n(f)!==null)R=!0,pe||(pe=!0,j());else{var re=n(h);re!==null&&Ie(fe,re.startTime-$)}}var pe=!1,Q=-1,K=5,me=-1;function Te(){return k?!0:!(t.unstable_now()-me<K)}function V(){if(k=!1,pe){var $=t.unstable_now();me=$;var re=!0;try{e:{R=!1,N&&(N=!1,U(Q),Q=-1),S=!0;var ce=A;try{t:{for(Z($),w=n(f);w!==null&&!(w.expirationTime>$&&Te());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,A=w.priorityLevel;var Re=Ne(w.expirationTime<=$);if($=t.unstable_now(),typeof Re=="function"){w.callback=Re,Z($),re=!0;break t}w===n(f)&&i(f),Z($)}else i(f);w=n(f)}if(w!==null)re=!0;else{var W=n(h);W!==null&&Ie(fe,W.startTime-$),re=!1}}break e}finally{w=null,A=ce,S=!1}re=void 0}}finally{re?j():pe=!1}}}var j;if(typeof z=="function")j=function(){z(V)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ee=ie.port2;ie.port1.onmessage=V,j=function(){ee.postMessage(null)}}else j=function(){C(V,0)};function Ie($,re){Q=C(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function($){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var ce=A;A=re;try{return $()}finally{A=ce}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ce=A;A=$;try{return re()}finally{A=ce}},t.unstable_scheduleCallback=function($,re,ce){var Ne=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ne+ce:Ne):ce=Ne,$){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ce+Re,$={id:g++,callback:re,priorityLevel:$,startTime:ce,expirationTime:Re,sortIndex:-1},ce>Ne?($.sortIndex=ce,e(h,$),n(f)===null&&$===n(h)&&(N?(U(Q),Q=-1):N=!0,Ie(fe,ce-Ne))):($.sortIndex=Re,e(f,$),R||S||(R=!0,pe||(pe=!0,j()))),$},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function($){var re=A;return function(){var ce=A;A=re;try{return $.apply(this,arguments)}finally{A=ce}}}})(Lp)),Lp}var L1;function vw(){return L1||(L1=1,kp.exports=gw()),kp.exports}var Mp={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function yw(){if(M1)return nr;M1=1;var t=j0();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(f,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,g)},nr.flushSync=function(f){var h=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=g,i.d.f()}},nr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},nr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},nr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,w=c(g,h.crossOrigin),A=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},nr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,w=c(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},nr.requestFormReset=function(f){i.d.r(f)},nr.unstable_batchedUpdates=function(f,h){return f(h)},nr.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},nr.useFormStatus=function(){return u.H.useHostTransitionStatus()},nr.version="19.2.3",nr}var P1;function bw(){if(P1)return Mp.exports;P1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=yw(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function ww(){if(D1)return gf;D1=1;var t=vw(),e=j0(),n=bw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=a(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,d=s;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return f(y),r;if(_===d)return f(y),s;_=_.sibling}throw Error(i(188))}if(l.return!==d.return)l=y,d=_;else{for(var I=!1,F=y.child;F;){if(F===l){I=!0,l=y,d=_;break}if(F===d){I=!0,d=y,l=_;break}F=F.sibling}if(!I){for(F=_.child;F;){if(F===l){I=!0,l=_,d=y;break}if(F===d){I=!0,d=_,l=y;break}F=F.sibling}if(!I)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case fe:return"Suspense";case pe:return"SuspenseList";case me:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case z:return r.displayName||"Context";case U:return(r._context.displayName||"Context")+".Consumer";case Z:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return s=r.displayName||null,s!==null?s:ee(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return ee(r(s))}catch{}}return null}var Ie=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ne=[],Re=-1;function W(r){return{current:r}}function L(r){0>Re||(r.current=Ne[Re],Ne[Re]=null,Re--)}function H(r,s){Re++,Ne[Re]=r.current,r.current=s}var J=W(null),te=W(null),oe=W(null),ve=W(null);function Ae(r,s){switch(H(oe,s),H(te,r),H(J,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Wg(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Wg(s),r=Xg(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(J),H(J,r)}function Se(){L(J),L(te),L(oe)}function je(r){r.memoizedState!==null&&H(ve,r);var s=J.current,l=Xg(s,r.type);s!==l&&(H(te,r),H(J,l))}function Ve(r){te.current===r&&(L(J),L(te)),ve.current===r&&(L(ve),ff._currentValue=ce)}var Qe,nt;function ct(r){if(Qe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Qe=s&&s[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+r+nt}var Pe=!1;function ne(r,s){if(!r||Pe)return"";Pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(ke){var Ce=ke}Reflect.construct(r,[],Fe)}else{try{Fe.call()}catch(ke){Ce=ke}r.call(Fe.prototype)}}else{try{throw Error()}catch(ke){Ce=ke}(Fe=r())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(ke){if(ke&&Ce&&typeof ke.stack=="string")return[ke.stack,Ce.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),I=_[0],F=_[1];if(I&&F){var se=I.split(`
`),Ee=F.split(`
`);for(y=d=0;d<se.length&&!se[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Ee.length&&!Ee[y].includes("DetermineComponentFrameRoot");)y++;if(d===se.length||y===Ee.length)for(d=se.length-1,y=Ee.length-1;1<=d&&0<=y&&se[d]!==Ee[y];)y--;for(;1<=d&&0<=y;d--,y--)if(se[d]!==Ee[y]){if(d!==1||y!==1)do if(d--,y--,0>y||se[d]!==Ee[y]){var De=`
`+se[d].replace(" at new "," at ");return r.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",r.displayName)),De}while(1<=d&&0<=y);break}}}finally{Pe=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ct(l):""}function Ct(r,s){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return r.child!==s&&s!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return ne(r.type,!1);case 11:return ne(r.type.render,!1);case 1:return ne(r.type,!0);case 31:return ct("Activity");default:return""}}function st(r){try{var s="",l=null;do s+=Ct(r,l),l=r,r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ge=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,ft=t.unstable_requestPaint,at=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,$t=t.unstable_UserBlockingPriority,tn=t.unstable_NormalPriority,St=t.unstable_LowPriority,Ot=t.unstable_IdlePriority,Ze=t.log,xi=t.unstable_setDisableYieldValue,Bt=null,Ln=null;function Jt(r){if(typeof Ze=="function"&&xi(r),Ln&&typeof Ln.setStrictMode=="function")try{Ln.setStrictMode(Bt,r)}catch{}}var Ft=Math.clz32?Math.clz32:zo,fs=Math.log,nn=Math.LN2;function zo(r){return r>>>=0,r===0?32:31-(fs(r)/nn|0)|0}var _n=256,Yi=262144,br=4194304;function cn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function At(r,s,l){var d=r.pendingLanes;if(d===0)return 0;var y=0,_=r.suspendedLanes,I=r.pingedLanes;r=r.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?y=cn(d):(I&=F,I!==0?y=cn(I):l||(l=F&~r,l!==0&&(y=cn(l))))):(F=d&~_,F!==0?y=cn(F):I!==0?y=cn(I):l||(l=d&~r,l!==0&&(y=cn(l)))),y===0?0:s!==0&&s!==y&&(s&_)===0&&(_=y&-y,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:y}function Yt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ho(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var r=br;return br<<=1,(br&62914560)===0&&(br=4194304),r}function wr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ki(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function mt(r,s,l,d,y,_){var I=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var F=r.entanglements,se=r.expirationTimes,Ee=r.hiddenUpdates;for(l=I&~l;0<l;){var De=31-Ft(l),Fe=1<<De;F[De]=0,se[De]=-1;var Ce=Ee[De];if(Ce!==null)for(Ee[De]=null,De=0;De<Ce.length;De++){var ke=Ce[De];ke!==null&&(ke.lane&=-536870913)}l&=~Fe}d!==0&&_r(r,d,0),_!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=_&~(I&~s))}function _r(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var d=31-Ft(s);r.entangledLanes|=s,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function Yr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Ft(l),y=1<<d;y&s|r[d]&s&&(r[d]|=s),l&=~y}}function Oi(r,s){var l=s&-s;return l=(l&42)!==0?1:Vn(l),(l&(r.suspendedLanes|s))!==0?0:l}function Vn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function On(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wi(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:w1(r.type))}function Go(r,s){var l=re.p;try{return re.p=r,s()}finally{re.p=l}}var Ei=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ei,Tn="__reactProps$"+Ei,Ti="__reactContainer$"+Ei,Sr="__reactEvents$"+Ei,Ar="__reactListeners$"+Ei,ds="__reactHandles$"+Ei,so="__reactResources$"+Ei,hs="__reactMarker$"+Ei;function oo(r){delete r[fn],delete r[Tn],delete r[Sr],delete r[Ar],delete r[ds]}function Kr(r){var s=r[fn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ti]||l[fn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=r1(r);r!==null;){if(l=r[fn])return l;r=r1(r)}return s}r=l,l=r.parentNode}return null}function Wr(r){if(r=r[fn]||r[Ti]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function ao(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function lo(r){var s=r[so];return s||(s=r[so]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Wn(r){r[hs]=!0}var Vo=new Set,yl={};function Ls(r,s){ps(r,s),ps(r+"Capture",s)}function ps(r,s){for(yl[r]=s,r=0;r<s.length;r++)Vo.add(s[r])}var kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},fu={};function xa(r){return Ge.call(fu,r)?!0:Ge.call(bl,r)?!1:kc.test(r)?fu[r]=!0:(bl[r]=!0,!1)}function Ea(r,s,l){if(xa(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Nn(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function xr(r,s,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+d)}}function qi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _l(r,s,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(I){l=""+I,_.call(this,I)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Sl(r){if(!r._valueTracker){var s=wl(r)?"checked":"value";r._valueTracker=_l(r,s,""+r[s])}}function Er(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=wl(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ms(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xi=/[\n"\\]/g;function Ni(r){return r.replace(Xi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ta(r,s,l,d,y,_,I,F){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),s!=null?I==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+qi(s)):r.value!==""+qi(s)&&(r.value=""+qi(s)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),s!=null?Na(r,I,qi(s)):l!=null?Na(r,I,qi(l)):d!=null&&r.removeAttribute("value"),y==null&&_!=null&&(r.defaultChecked=!!_),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+qi(F):r.removeAttribute("name")}function du(r,s,l,d,y,_,I,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Sl(r);return}l=l!=null?""+qi(l):"",s=s!=null?""+qi(s):l,F||s===r.value||(r.value=s),r.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=F?r.checked:!!d,r.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I),Sl(r)}function Na(r,s,l){s==="number"&&Ms(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function uo(r,s,l,d){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&d&&(r[l].defaultSelected=!0)}else{for(l=""+qi(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Al(r,s,l){if(s!=null&&(s=""+qi(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+qi(l):""}function hu(r,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(i(92));if(Ie(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=qi(s),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),Sl(r)}function ms(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(r,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":d?r.setProperty(s,l):typeof l!="number"||l===0||Lc.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function mu(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&l[y]!==d&&pu(r,y,d)}else for(var _ in s)s.hasOwnProperty(_)&&pu(r,_,s[_])}function Xr(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(r){return Ra.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Cn(){}var xl=null;function Ia(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gt=null,co=null;function gu(r){var s=Wr(r);if(s&&(r=s.stateNode)){var l=r[Tn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ta(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ni(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var y=d[Tn]||null;if(!y)throw Error(i(90));Ta(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===r.form&&Er(d)}break e;case"textarea":Al(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&uo(r,!!l.multiple,s,!1)}}}var Tr=!1;function El(r,s,l){if(Tr)return r(s,l);Tr=!0;try{var d=r(s);return d}finally{if(Tr=!1,(gt!==null||co!==null)&&(id(),gt&&(s=gt,r=co,co=gt=null,gu(s),r)))for(s=0;s<r.length;s++)gu(r[s])}}function fo(r,s){var l=r.stateNode;if(l===null)return null;var d=l[Tn]||null;if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(Qi)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{$o=!1}var gs=null,Tl=null,ho=null;function po(){if(ho)return ho;var r,s=Tl,l=s.length,d,y="value"in gs?gs.value:gs.textContent,_=y.length;for(r=0;r<l&&s[r]===y[r];r++);var I=l-r;for(d=1;d<=I&&s[l-d]===y[_-d];d++);return ho=y.slice(r,1<d?1-d:void 0)}function Qr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ka(){return!0}function mo(){return!1}function li(r){function s(l,d,y,_,I){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(l=r[F],this[F]=l?l(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ka:mo,this.isPropagationStopped=mo,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),s}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=li(Nr),go=w({},Nr,{view:0,detail:0}),vu=li(go),La,Zr,Cr,Ma=w({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cr&&(Cr&&r.type==="mousemove"?(La=r.screenX-Cr.screenX,Zr=r.screenY-Cr.screenY):Zr=La=0,Cr=r),La)},movementY:function(r){return"movementY"in r?r.movementY:Zr}}),Ps=li(Ma),es=w({},Ma,{dataTransfer:0}),Nl=li(es),Ko=w({},go,{relatedTarget:0}),Cl=li(Ko),Pa=w({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=li(Pa),Rl=w({},Nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Il=li(Rl),yu=w({},Nr,{data:0}),Wo=li(yu),kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=bu[r])?!!s[r]:!1}function vo(){return Pc}var Xo=w({},go,{key:function(r){if(r.key){var s=kl[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ll[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(r){return r.type==="keypress"?Qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ml=li(Xo),yo=w({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=li(yo),x=w({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),P=li(x),X=w({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=li(X),be=w({},Ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=li(be),He=w({},Nr,{newState:0,oldState:0}),et=li(He),dt=[9,13,27,32],Et=Qi&&"CompositionEvent"in window,Nt=null;Qi&&"documentMode"in document&&(Nt=document.documentMode);var Kt=Qi&&"TextEvent"in window&&!Nt,Rn=Qi&&(!Et||Nt&&8<Nt&&11>=Nt),Mn=" ",jn=!1;function gi(r,s){switch(r){case"keyup":return dt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ni(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ci=!1;function lr(r,s){switch(r){case"compositionend":return ni(s);case"keypress":return s.which!==32?null:(jn=!0,Mn);case"textInput":return r=s.data,r===Mn&&jn?null:r;default:return null}}function Ds(r,s){if(Ci)return r==="compositionend"||!Et&&gi(r,s)?(r=po(),ho=Tl=gs=null,Ci=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rn&&s.locale!=="ko"?null:s.data;default:return null}}var wu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wu[r.type]:s==="textarea"}function Oa(r,s,l,d){gt?co?co.push(d):co=[d]:gt=d,s=cd(s,"onChange"),0<s.length&&(l=new Yo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var vs=null,Us=null;function Pl(r){Vg(r,0)}function Os(r){var s=ao(r);if(Er(s))return r}function Bi(r,s){if(r==="change")return s}var Qo=!1;if(Qi){var bo;if(Qi){var wo="oninput"in document;if(!wo){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),wo=typeof qa.oninput=="function"}bo=wo}else bo=!1;Qo=bo&&(!document.documentMode||9<document.documentMode)}function Fi(){vs&&(vs.detachEvent("onpropertychange",_u),Us=vs=null)}function _u(r){if(r.propertyName==="value"&&Os(Us)){var s=[];Oa(s,Us,r,Ia(r)),El(Pl,s)}}function Dl(r,s,l){r==="focusin"?(Fi(),vs=s,Us=l,vs.attachEvent("onpropertychange",_u)):r==="focusout"&&Fi()}function Su(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Os(Us)}function ts(r,s){if(r==="click")return Os(s)}function Ul(r,s){if(r==="input"||r==="change")return Os(s)}function Dc(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zi=typeof Object.is=="function"?Object.is:Dc;function Rr(r,s){if(zi(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!Ge.call(s,y)||!zi(r[y],s[y]))return!1}return!0}function ur(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ir(r,s){var l=ur(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ur(l)}}function qs(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?qs(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ns(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ms(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ms(r.document)}return s}function is(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Ba=Qi&&"documentMode"in document&&11>=document.documentMode,Ri=null,_o=null,Bs=null,ys=!1;function kr(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ys||Ri==null||Ri!==Ms(d)||(d=Ri,"selectionStart"in d&&is(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Bs&&Rr(Bs,d)||(Bs=d,d=cd(_o,"onSelect"),0<d.length&&(s=new Yo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ri)))}function Hi(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Lr={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},So={},Ao={};Qi&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Zi(r){if(So[r])return So[r];if(!Lr[r])return r;var s=Lr[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ao)return So[r]=s[l];return r}var Fa=Zi("animationend"),cr=Zi("animationiteration"),bs=Zi("animationstart"),gn=Zi("transitionrun"),vn=Zi("transitionstart"),$n=Zi("transitioncancel"),Xn=Zi("transitionend"),ws=new Map,_s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_s.push("scrollEnd");function Ii(r,s){ws.set(r,s),Ls(s,[r])}var Zo=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},fr=[],ea=0,Au=0;function Ol(){for(var r=ea,s=Au=ea=0;s<r;){var l=fr[s];fr[s++]=null;var d=fr[s];fr[s++]=null;var y=fr[s];fr[s++]=null;var _=fr[s];if(fr[s++]=null,d!==null&&y!==null){var I=d.pending;I===null?y.next=y:(y.next=I.next,I.next=y),d.pending=y}_!==0&&Bl(l,y,_)}}function ql(r,s,l,d){fr[ea++]=r,fr[ea++]=s,fr[ea++]=l,fr[ea++]=d,Au|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function xu(r,s,l,d){return ql(r,s,l,d),ki(r)}function Fs(r,s){return ql(r,null,null,s),ki(r)}function Bl(r,s,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var y=!1,_=r.return;_!==null;)_.childLanes|=l,d=_.alternate,d!==null&&(d.childLanes|=l),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(y=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,y&&s!==null&&(y=31-Ft(l),r=_.hiddenUpdates,d=r[y],d===null?r[y]=[s]:d.push(s),s.lane=l|536870912),_):null}function ki(r){if(50<rf)throw rf=0,Qh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var vi={};function Eu(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(r,s,l,d){return new Eu(r,s,l,d)}function Tu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Mr(r,s){var l=r.alternate;return l===null?(l=Li(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Fl(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function za(r,s,l,d,y,_){var I=0;if(d=r,typeof r=="function")Tu(r)&&(I=1);else if(typeof r=="string")I=tw(r,l,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case me:return r=Li(31,l,s,y),r.elementType=me,r.lanes=_,r;case N:return xo(l.children,y,_,s);case k:I=8,y|=24;break;case C:return r=Li(12,l,s,y|2),r.elementType=C,r.lanes=_,r;case fe:return r=Li(13,l,s,y),r.elementType=fe,r.lanes=_,r;case pe:return r=Li(19,l,s,y),r.elementType=pe,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:I=10;break e;case U:I=9;break e;case Z:I=11;break e;case Q:I=14;break e;case K:I=16,d=null;break e}I=29,l=Error(i(130,r===null?"null":typeof r,"")),d=null}return s=Li(I,l,s,y),s.elementType=r,s.type=d,s.lanes=_,s}function xo(r,s,l,d){return r=Li(7,r,d,s),r.lanes=l,r}function zl(r,s,l){return r=Li(6,r,null,s),r.lanes=l,r}function Nu(r){var s=Li(18,null,null,0);return s.stateNode=r,s}function Ha(r,s,l){return s=Li(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Cu=new WeakMap;function Pr(r,s){if(typeof r=="object"&&r!==null){var l=Cu.get(r);return l!==void 0?l:(s={value:r,source:s,stack:st(s)},Cu.set(r,s),s)}return{value:r,source:s,stack:st(s)}}var Ga=[],ta=0,Ru=null,Hl=0,Dr=[],Ur=0,Eo=null,Or=1,qr="";function dr(r,s){Ga[ta++]=Hl,Ga[ta++]=Ru,Ru=r,Hl=s}function Uf(r,s,l){Dr[Ur++]=Or,Dr[Ur++]=qr,Dr[Ur++]=Eo,Eo=r;var d=Or;r=qr;var y=32-Ft(d)-1;d&=~(1<<y),l+=1;var _=32-Ft(s)+y;if(30<_){var I=y-y%5;_=(d&(1<<I)-1).toString(32),d>>=I,y-=I,Or=1<<32-Ft(s)+y|l<<y|d,qr=_+r}else Or=1<<_|l<<y|d,qr=r}function Uc(r){r.return!==null&&(dr(r,1),Uf(r,1,0))}function Iu(r){for(;r===Ru;)Ru=Ga[--ta],Ga[ta]=null,Hl=Ga[--ta],Ga[ta]=null;for(;r===Eo;)Eo=Dr[--Ur],Dr[Ur]=null,qr=Dr[--Ur],Dr[Ur]=null,Or=Dr[--Ur],Dr[Ur]=null}function Of(r,s){Dr[Ur++]=Or,Dr[Ur++]=qr,Dr[Ur++]=Eo,Or=s.id,qr=s.overflow,Eo=r}var yi=null,Sn=null,Ht=!1,Gi=null,qn=!1,rs=Error(i(519));function To(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Va(Pr(s,r)),rs}function Oc(r){var s=r.stateNode,l=r.type,d=r.memoizedProps;switch(s[fn]=r,s[Tn]=d,l){case"dialog":jt("cancel",s),jt("close",s);break;case"iframe":case"object":case"embed":jt("load",s);break;case"video":case"audio":for(l=0;l<of.length;l++)jt(of[l],s);break;case"source":jt("error",s);break;case"img":case"image":case"link":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"input":jt("invalid",s),du(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":jt("invalid",s);break;case"textarea":jt("invalid",s),hu(s,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||Yg(s.textContent,l)?(d.popover!=null&&(jt("beforetoggle",s),jt("toggle",s)),d.onScroll!=null&&jt("scroll",s),d.onScrollEnd!=null&&jt("scrollend",s),d.onClick!=null&&(s.onclick=Cn),s=!0):s=!1,s||To(r,!0)}function zs(r){for(yi=r.return;yi;)switch(yi.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:yi=yi.return}}function bi(r){if(r!==yi)return!1;if(!Ht)return zs(r),Ht=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||hp(r.type,r.memoizedProps)),l=!l),l&&Sn&&To(r),zs(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Sn=i1(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Sn=i1(r)}else s===27?(s=Sn,rl(r.type)?(r=yp,yp=null,Sn=r):Sn=s):Sn=yi?Cs(r.stateNode.nextSibling):null;return!0}function na(){Sn=yi=null,Ht=!1}function qc(){var r=Gi;return r!==null&&(Vr===null?Vr=r:Vr.push.apply(Vr,r),Gi=null),r}function Va(r){Gi===null?Gi=[r]:Gi.push(r)}var ku=W(null),No=null,Ss=null;function Co(r,s,l){H(ku,s._currentValue),s._currentValue=l}function Br(r){r._currentValue=ku.current,L(ku)}function ja(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function ia(r,s,l,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){var I=y.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=y;for(var se=0;se<s.length;se++)if(F.context===s[se]){_.lanes|=l,F=_.alternate,F!==null&&(F.lanes|=l),ja(_.return,l,r),d||(I=null);break e}_=F.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(i(341));I.lanes|=l,_=I.alternate,_!==null&&(_.lanes|=l),ja(I,l,r),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===r){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function Ro(r,s,l,d){r=null;for(var y=s,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var F=y.type;zi(y.pendingProps.value,I.value)||(r!==null?r.push(F):r=[F])}}else if(y===ve.current){if(I=y.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(ff):r=[ff])}y=y.return}r!==null&&ia(s,r,l,d),s.flags|=262144}function Lu(r){for(r=r.firstContext;r!==null;){if(!zi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Io(r){No=r,Ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wi(r){return qf(No,r)}function Mu(r,s){return No===null&&Io(r),qf(r,s)}function qf(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ss===null){if(r===null)throw Error(i(308));Ss=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ss=Ss.next=s;return l}var vh=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},yh=t.unstable_scheduleCallback,bh=t.unstable_NormalPriority,Jn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new vh,data:new Map,refCount:0}}function Gl(r){r.refCount--,r.refCount===0&&yh(bh,function(){r.controller.abort()})}var Vl=null,Pu=0,m=0,b=null;function E(r,s){if(Vl===null){var l=Vl=[];Pu=0,m=rp(),b={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Pu++,s.then(T,T),s}function T(){if(--Pu===0&&Vl!==null){b!==null&&(b.status="fulfilled");var r=Vl;Vl=null,m=0,b=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function M(r,s){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var O=$.S;$.S=function(r,s){yg=at(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&E(r,s),O!==null&&O(r,s)};var q=W(null);function B(){var r=q.current;return r!==null?r:xn.pooledCache}function G(r,s){s===null?H(q,q.current):H(q,s.pool)}function Y(){var r=B();return r===null?null:{parent:Jn._currentValue,pool:r}}var le=Error(i(460)),_e=Error(i(474)),we=Error(i(542)),ge={then:function(){}};function Be(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Le(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Cn,Cn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ze(r),r;default:if(typeof s.status=="string")s.then(Cn,Cn);else{if(r=xn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ze(r),r}throw he=s,le}}function ue(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(he=l,le):l}}var he=null;function Oe(){if(he===null)throw Error(i(459));var r=he;return he=null,r}function ze(r){if(r===le||r===we)throw Error(i(483))}var Ue=null,Xe=0;function $e(r){var s=Xe;return Xe+=1,Ue===null&&(Ue=[]),Le(Ue,r,s)}function lt(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ye(r,s){throw s.$$typeof===A?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function en(r){function s(ye,de){if(r){var xe=ye.deletions;xe===null?(ye.deletions=[de],ye.flags|=16):xe.push(de)}}function l(ye,de){if(!r)return null;for(;de!==null;)s(ye,de),de=de.sibling;return null}function d(ye){for(var de=new Map;ye!==null;)ye.key!==null?de.set(ye.key,ye):de.set(ye.index,ye),ye=ye.sibling;return de}function y(ye,de){return ye=Mr(ye,de),ye.index=0,ye.sibling=null,ye}function _(ye,de,xe){return ye.index=xe,r?(xe=ye.alternate,xe!==null?(xe=xe.index,xe<de?(ye.flags|=67108866,de):xe):(ye.flags|=67108866,de)):(ye.flags|=1048576,de)}function I(ye){return r&&ye.alternate===null&&(ye.flags|=67108866),ye}function F(ye,de,xe,qe){return de===null||de.tag!==6?(de=zl(xe,ye.mode,qe),de.return=ye,de):(de=y(de,xe),de.return=ye,de)}function se(ye,de,xe,qe){var ht=xe.type;return ht===N?De(ye,de,xe.props.children,qe,xe.key):de!==null&&(de.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===K&&ue(ht)===de.type)?(de=y(de,xe.props),lt(de,xe),de.return=ye,de):(de=za(xe.type,xe.key,xe.props,null,ye.mode,qe),lt(de,xe),de.return=ye,de)}function Ee(ye,de,xe,qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==xe.containerInfo||de.stateNode.implementation!==xe.implementation?(de=Ha(xe,ye.mode,qe),de.return=ye,de):(de=y(de,xe.children||[]),de.return=ye,de)}function De(ye,de,xe,qe,ht){return de===null||de.tag!==7?(de=xo(xe,ye.mode,qe,ht),de.return=ye,de):(de=y(de,xe),de.return=ye,de)}function Fe(ye,de,xe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=zl(""+de,ye.mode,xe),de.return=ye,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case S:return xe=za(de.type,de.key,de.props,null,ye.mode,xe),lt(xe,de),xe.return=ye,xe;case R:return de=Ha(de,ye.mode,xe),de.return=ye,de;case K:return de=ue(de),Fe(ye,de,xe)}if(Ie(de)||j(de))return de=xo(de,ye.mode,xe,null),de.return=ye,de;if(typeof de.then=="function")return Fe(ye,$e(de),xe);if(de.$$typeof===z)return Fe(ye,Mu(ye,de),xe);Ye(ye,de)}return null}function Ce(ye,de,xe,qe){var ht=de!==null?de.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ht!==null?null:F(ye,de,""+xe,qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case S:return xe.key===ht?se(ye,de,xe,qe):null;case R:return xe.key===ht?Ee(ye,de,xe,qe):null;case K:return xe=ue(xe),Ce(ye,de,xe,qe)}if(Ie(xe)||j(xe))return ht!==null?null:De(ye,de,xe,qe,null);if(typeof xe.then=="function")return Ce(ye,de,$e(xe),qe);if(xe.$$typeof===z)return Ce(ye,de,Mu(ye,xe),qe);Ye(ye,xe)}return null}function ke(ye,de,xe,qe,ht){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return ye=ye.get(xe)||null,F(de,ye,""+qe,ht);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case S:return ye=ye.get(qe.key===null?xe:qe.key)||null,se(de,ye,qe,ht);case R:return ye=ye.get(qe.key===null?xe:qe.key)||null,Ee(de,ye,qe,ht);case K:return qe=ue(qe),ke(ye,de,xe,qe,ht)}if(Ie(qe)||j(qe))return ye=ye.get(xe)||null,De(de,ye,qe,ht,null);if(typeof qe.then=="function")return ke(ye,de,xe,$e(qe),ht);if(qe.$$typeof===z)return ke(ye,de,xe,Mu(de,qe),ht);Ye(de,qe)}return null}function it(ye,de,xe,qe){for(var ht=null,sn=null,ot=de,Dt=de=0,Qt=null;ot!==null&&Dt<xe.length;Dt++){ot.index>Dt?(Qt=ot,ot=null):Qt=ot.sibling;var on=Ce(ye,ot,xe[Dt],qe);if(on===null){ot===null&&(ot=Qt);break}r&&ot&&on.alternate===null&&s(ye,ot),de=_(on,de,Dt),sn===null?ht=on:sn.sibling=on,sn=on,ot=Qt}if(Dt===xe.length)return l(ye,ot),Ht&&dr(ye,Dt),ht;if(ot===null){for(;Dt<xe.length;Dt++)ot=Fe(ye,xe[Dt],qe),ot!==null&&(de=_(ot,de,Dt),sn===null?ht=ot:sn.sibling=ot,sn=ot);return Ht&&dr(ye,Dt),ht}for(ot=d(ot);Dt<xe.length;Dt++)Qt=ke(ot,ye,Dt,xe[Dt],qe),Qt!==null&&(r&&Qt.alternate!==null&&ot.delete(Qt.key===null?Dt:Qt.key),de=_(Qt,de,Dt),sn===null?ht=Qt:sn.sibling=Qt,sn=Qt);return r&&ot.forEach(function(ul){return s(ye,ul)}),Ht&&dr(ye,Dt),ht}function yt(ye,de,xe,qe){if(xe==null)throw Error(i(151));for(var ht=null,sn=null,ot=de,Dt=de=0,Qt=null,on=xe.next();ot!==null&&!on.done;Dt++,on=xe.next()){ot.index>Dt?(Qt=ot,ot=null):Qt=ot.sibling;var ul=Ce(ye,ot,on.value,qe);if(ul===null){ot===null&&(ot=Qt);break}r&&ot&&ul.alternate===null&&s(ye,ot),de=_(ul,de,Dt),sn===null?ht=ul:sn.sibling=ul,sn=ul,ot=Qt}if(on.done)return l(ye,ot),Ht&&dr(ye,Dt),ht;if(ot===null){for(;!on.done;Dt++,on=xe.next())on=Fe(ye,on.value,qe),on!==null&&(de=_(on,de,Dt),sn===null?ht=on:sn.sibling=on,sn=on);return Ht&&dr(ye,Dt),ht}for(ot=d(ot);!on.done;Dt++,on=xe.next())on=ke(ot,ye,Dt,on.value,qe),on!==null&&(r&&on.alternate!==null&&ot.delete(on.key===null?Dt:on.key),de=_(on,de,Dt),sn===null?ht=on:sn.sibling=on,sn=on);return r&&ot.forEach(function(dw){return s(ye,dw)}),Ht&&dr(ye,Dt),ht}function wn(ye,de,xe,qe){if(typeof xe=="object"&&xe!==null&&xe.type===N&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case S:e:{for(var ht=xe.key;de!==null;){if(de.key===ht){if(ht=xe.type,ht===N){if(de.tag===7){l(ye,de.sibling),qe=y(de,xe.props.children),qe.return=ye,ye=qe;break e}}else if(de.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===K&&ue(ht)===de.type){l(ye,de.sibling),qe=y(de,xe.props),lt(qe,xe),qe.return=ye,ye=qe;break e}l(ye,de);break}else s(ye,de);de=de.sibling}xe.type===N?(qe=xo(xe.props.children,ye.mode,qe,xe.key),qe.return=ye,ye=qe):(qe=za(xe.type,xe.key,xe.props,null,ye.mode,qe),lt(qe,xe),qe.return=ye,ye=qe)}return I(ye);case R:e:{for(ht=xe.key;de!==null;){if(de.key===ht)if(de.tag===4&&de.stateNode.containerInfo===xe.containerInfo&&de.stateNode.implementation===xe.implementation){l(ye,de.sibling),qe=y(de,xe.children||[]),qe.return=ye,ye=qe;break e}else{l(ye,de);break}else s(ye,de);de=de.sibling}qe=Ha(xe,ye.mode,qe),qe.return=ye,ye=qe}return I(ye);case K:return xe=ue(xe),wn(ye,de,xe,qe)}if(Ie(xe))return it(ye,de,xe,qe);if(j(xe)){if(ht=j(xe),typeof ht!="function")throw Error(i(150));return xe=ht.call(xe),yt(ye,de,xe,qe)}if(typeof xe.then=="function")return wn(ye,de,$e(xe),qe);if(xe.$$typeof===z)return wn(ye,de,Mu(ye,xe),qe);Ye(ye,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,de!==null&&de.tag===6?(l(ye,de.sibling),qe=y(de,xe),qe.return=ye,ye=qe):(l(ye,de),qe=zl(xe,ye.mode,qe),qe.return=ye,ye=qe),I(ye)):l(ye,de)}return function(ye,de,xe,qe){try{Xe=0;var ht=wn(ye,de,xe,qe);return Ue=null,ht}catch(ot){if(ot===le||ot===we)throw ot;var sn=Li(29,ot,null,ye.mode);return sn.lanes=qe,sn.return=ye,sn}finally{}}}var Gt=en(!0),Wt=en(!1),Rt=!1;function ln(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rn(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function vt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function dn(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(un&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=ki(r),Bl(r,null,l),s}return ql(r,d,s,l),ki(r)}function ui(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Yr(r,l)}}function Bn(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?y=_=s:_=_.next=s}else y=_=s;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Mi=!1;function Zt(){if(Mi){var r=b;if(r!==null)throw r}}function _i(r,s,l,d){Mi=!1;var y=r.updateQueue;Rt=!1;var _=y.firstBaseUpdate,I=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var se=F,Ee=se.next;se.next=null,I===null?_=Ee:I.next=Ee,I=se;var De=r.alternate;De!==null&&(De=De.updateQueue,F=De.lastBaseUpdate,F!==I&&(F===null?De.firstBaseUpdate=Ee:F.next=Ee,De.lastBaseUpdate=se))}if(_!==null){var Fe=y.baseState;I=0,De=Ee=se=null,F=_;do{var Ce=F.lane&-536870913,ke=Ce!==F.lane;if(ke?(Xt&Ce)===Ce:(d&Ce)===Ce){Ce!==0&&Ce===m&&(Mi=!0),De!==null&&(De=De.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var it=r,yt=F;Ce=s;var wn=l;switch(yt.tag){case 1:if(it=yt.payload,typeof it=="function"){Fe=it.call(wn,Fe,Ce);break e}Fe=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=yt.payload,Ce=typeof it=="function"?it.call(wn,Fe,Ce):it,Ce==null)break e;Fe=w({},Fe,Ce);break e;case 2:Rt=!0}}Ce=F.callback,Ce!==null&&(r.flags|=64,ke&&(r.flags|=8192),ke=y.callbacks,ke===null?y.callbacks=[Ce]:ke.push(Ce))}else ke={lane:Ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},De===null?(Ee=De=ke,se=Fe):De=De.next=ke,I|=Ce;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ke=F,F=ke.next,ke.next=null,y.lastBaseUpdate=ke,y.shared.pending=null}}while(!0);De===null&&(se=Fe),y.baseState=se,y.firstBaseUpdate=Ee,y.lastBaseUpdate=De,_===null&&(y.shared.lanes=0),Za|=I,r.lanes=I,r.memoizedState=Fe}}function er(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ii(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)er(l[r],s)}var Fn=W(null),ci=W(0);function hr(r,s){r=ma,H(ci,r),H(Fn,s),ma=r|s.baseLanes}function Fr(){H(ci,ma),H(Fn,Fn.current)}function Qn(){ma=ci.current,L(Fn),L(ci)}var Yn=W(null),fi=null;function pr(r){var s=r.alternate;H(zn,zn.current&1),H(Yn,r),fi===null&&(s===null||Fn.current!==null||s.memoizedState!==null)&&(fi=r)}function As(r){H(zn,zn.current),H(Yn,r),fi===null&&(fi=r)}function Pn(r){r.tag===22?(H(zn,zn.current),H(Yn,r),fi===null&&(fi=r)):xs()}function xs(){H(zn,zn.current),H(Yn,Yn.current)}function tr(r){L(Yn),fi===r&&(fi=null),L(zn)}var zn=W(0);function ra(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||gp(l)||vp(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mr=0,Tt=null,qt=null,An=null,Hs=!1,sa=!1,Es=!1,jl=0,ko=0,Lo=null,Du=0;function yn(){throw Error(i(321))}function Bc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zi(r[l],s[l]))return!1;return!0}function Fc(r,s,l,d,y,_){return mr=_,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?Rm:Nh,Es=!1,_=l(d,y),Es=!1,sa&&(_=Gs(s,l,d,y)),Uu(r),_}function Uu(r){$.H=Yc;var s=qt!==null&&qt.next!==null;if(mr=0,An=qt=Tt=null,Hs=!1,ko=0,Lo=null,s)throw Error(i(300));r===null||hi||(r=r.dependencies,r!==null&&Lu(r)&&(hi=!0))}function Gs(r,s,l,d){Tt=r;var y=0;do{if(sa&&(Lo=null),ko=0,sa=!1,25<=y)throw Error(i(301));if(y+=1,An=qt=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=Im,_=s(l,d)}while(sa);return _}function wh(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Mo(s):s,r=r.useState()[0],(qt!==null?qt.memoizedState:null)!==r&&(Tt.flags|=1024),s}function zc(){var r=jl!==0;return jl=0,r}function Hc(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Ou(r){if(Hs){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hs=!1}mr=0,An=qt=Tt=null,sa=!1,ko=jl=0,Lo=null}function di(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Tt.memoizedState=An=r:An=An.next=r,An}function Hn(){if(qt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=qt.next;var s=An===null?Tt.memoizedState:An.next;if(s!==null)An=s,qt=r;else{if(r===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));qt=r,r={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},An===null?Tt.memoizedState=An=r:An=An.next=r}return An}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(r){var s=ko;return ko+=1,Lo===null&&(Lo=[]),r=Le(Lo,r,s),s=Tt,(An===null?s.memoizedState:An.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Rm:Nh),r}function Ja(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Mo(r);if(r.$$typeof===z)return wi(r)}throw Error(i(438,String(r)))}function oa(r){var s=null,l=Tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=Tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=$l(),Tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),d=0;d<r;d++)l[d]=Te;return s.index++,l}function Ts(r,s){return typeof s=="function"?s(r):s}function qu(r){var s=Hn();return Ya(s,qt,r)}function Ya(r,s,l){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var y=r.baseQueue,_=d.pending;if(_!==null){if(y!==null){var I=y.next;y.next=_.next,_.next=I}s.baseQueue=y=_,d.pending=null}if(_=r.baseState,y===null)r.memoizedState=_;else{s=y.next;var F=I=null,se=null,Ee=s,De=!1;do{var Fe=Ee.lane&-536870913;if(Fe!==Ee.lane?(Xt&Fe)===Fe:(mr&Fe)===Fe){var Ce=Ee.revertLane;if(Ce===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Fe===m&&(De=!0);else if((mr&Ce)===Ce){Ee=Ee.next,Ce===m&&(De=!0);continue}else Fe={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},se===null?(F=se=Fe,I=_):se=se.next=Fe,Tt.lanes|=Ce,Za|=Ce;Fe=Ee.action,Es&&l(_,Fe),_=Ee.hasEagerState?Ee.eagerState:l(_,Fe)}else Ce={lane:Fe,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},se===null?(F=se=Ce,I=_):se=se.next=Ce,Tt.lanes|=Fe,Za|=Fe;Ee=Ee.next}while(Ee!==null&&Ee!==s);if(se===null?I=_:se.next=F,!zi(_,r.memoizedState)&&(hi=!0,De&&(l=b,l!==null)))throw l;r.memoizedState=_,r.baseState=I,r.baseQueue=se,d.lastRenderedState=_}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Bu(r){var s=Hn(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=l.dispatch,y=l.pending,_=s.memoizedState;if(y!==null){l.pending=null;var I=y=y.next;do _=r(_,I.action),I=I.next;while(I!==y);zi(_,s.memoizedState)||(hi=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,d]}function Fu(r,s,l){var d=Tt,y=Hn(),_=Ht;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var I=!zi((qt||y).memoizedState,l);if(I&&(y.memoizedState=l,hi=!0),y=y.queue,_h(Vc.bind(null,d,y,r),[r]),y.getSnapshot!==s||I||An!==null&&An.memoizedState.tag&1){if(d.flags|=2048,la(9,{destroy:void 0},Gc.bind(null,d,y,l,s),null),xn===null)throw Error(i(349));_||(mr&127)!==0||Vs(d,s,l)}return l}function Vs(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s=$l(),Tt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Gc(r,s,l,d){s.value=l,s.getSnapshot=d,Bf(s)&&jc(r)}function Vc(r,s,l){return l(function(){Bf(s)&&jc(r)})}function Bf(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zi(r,l)}catch{return!0}}function jc(r){var s=Fs(r,2);s!==null&&jr(s,r,2)}function Po(r){var s=di();if(typeof r=="function"){var l=r;if(r=l(),Es){Jt(!0);try{l()}finally{Jt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:r},s}function Ff(r,s,l,d){return r.baseState=l,Ya(r,qt,typeof d=="function"?d:Ts)}function zf(r,s,l,d,y){if(jf(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};$.T!==null?l(!0):_.isTransition=!1,d(_),l=s.pending,l===null?(_.next=s.pending=_,Hf(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Hf(r,s){var l=s.action,d=s.payload,y=r.state;if(s.isTransition){var _=$.T,I={};$.T=I;try{var F=l(y,d),se=$.S;se!==null&&se(I,F),$c(r,s,F)}catch(Ee){aa(r,s,Ee)}finally{_!==null&&I.types!==null&&(_.types=I.types),$.T=_}}else try{_=l(y,d),$c(r,s,_)}catch(Ee){aa(r,s,Ee)}}function $c(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Gf(r,s,d)},function(d){return aa(r,s,d)}):Gf(r,s,l)}function Gf(r,s,l){s.status="fulfilled",s.value=l,zu(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Hf(r,l)))}function aa(r,s,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,zu(s),s=s.next;while(s!==d)}r.action=null}function zu(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Jl(r,s){return s}function Ns(r,s){if(Ht){var l=xn.formState;if(l!==null){e:{var d=Tt;if(Ht){if(Sn){t:{for(var y=Sn,_=qn;y.nodeType!==8;){if(!_){y=null;break t}if(y=Cs(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Sn=Cs(y.nextSibling),d=y.data==="F!";break e}}To(d)}d=!1}d&&(s=l[0])}}return l=di(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:s},l.queue=d,l=Tm.bind(null,Tt,d),d.dispatch=l,d=Po(!1),_=Th.bind(null,Tt,!1,d.queue),d=di(),y={state:s,dispatch:null,action:r,pending:null},d.queue=y,l=zf.bind(null,Tt,y,_,l),y.dispatch=l,d.memoizedState=r,[s,l,!1]}function js(r){var s=Hn();return $s(s,qt,r)}function $s(r,s,l){if(s=Ya(r,s,Jl)[0],r=qu(Ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Mo(s)}catch(I){throw I===le?we:I}else d=s;s=Hn();var y=s.queue,_=y.dispatch;return l!==s.memoizedState&&(Tt.flags|=2048,la(9,{destroy:void 0},Hu.bind(null,y,l),null)),[d,_,r]}function Hu(r,s){r.action=s}function Gu(r){var s=Hn(),l=qt;if(l!==null)return $s(s,l,r);Hn(),s=s.memoizedState,l=Hn();var d=l.queue.dispatch;return l.memoizedState=r,[s,d,!1]}function la(r,s,l,d){return r={tag:r,create:l,deps:d,inst:s,next:null},s=Tt.updateQueue,s===null&&(s=$l(),Tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r),r}function Vf(){return Hn().memoizedState}function Ka(r,s,l,d){var y=di();Tt.flags|=r,y.memoizedState=la(1|s,{destroy:void 0},l,d===void 0?null:d)}function Wa(r,s,l,d){var y=Hn();d=d===void 0?null:d;var _=y.memoizedState.inst;qt!==null&&d!==null&&Bc(d,qt.memoizedState.deps)?y.memoizedState=la(s,_,l,d):(Tt.flags|=r,y.memoizedState=la(1|s,_,l,d))}function dm(r,s){Ka(8390656,8,r,s)}function _h(r,s){Wa(2048,8,r,s)}function ob(r){Tt.flags|=4;var s=Tt.updateQueue;if(s===null)s=$l(),Tt.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function hm(r){var s=Hn().memoizedState;return ob({ref:s,nextImpl:r}),function(){if((un&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function pm(r,s){return Wa(4,2,r,s)}function mm(r,s){return Wa(4,4,r,s)}function gm(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function vm(r,s,l){l=l!=null?l.concat([r]):null,Wa(4,4,gm.bind(null,s,r),l)}function Sh(){}function ym(r,s){var l=Hn();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&Bc(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function bm(r,s){var l=Hn();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&Bc(s,d[1]))return d[0];if(d=r(),Es){Jt(!0);try{r()}finally{Jt(!1)}}return l.memoizedState=[d,s],d}function Ah(r,s,l){return l===void 0||(mr&1073741824)!==0&&(Xt&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=wg(),Tt.lanes|=r,Za|=r,l)}function wm(r,s,l,d){return zi(l,s)?l:Fn.current!==null?(r=Ah(r,l,d),zi(r,s)||(hi=!0),r):(mr&42)===0||(mr&1073741824)!==0&&(Xt&261930)===0?(hi=!0,r.memoizedState=l):(r=wg(),Tt.lanes|=r,Za|=r,s)}function _m(r,s,l,d,y){var _=re.p;re.p=_!==0&&8>_?_:8;var I=$.T,F={};$.T=F,Th(r,!1,s,l);try{var se=y(),Ee=$.S;if(Ee!==null&&Ee(F,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var De=M(se,d);Jc(r,s,De,as(r))}else Jc(r,s,d,as(r))}catch(Fe){Jc(r,s,{then:function(){},status:"rejected",reason:Fe},as())}finally{re.p=_,I!==null&&F.types!==null&&(I.types=F.types),$.T=I}}function ab(){}function xh(r,s,l,d){if(r.tag!==5)throw Error(i(476));var y=Sm(r).queue;_m(r,y,s,ce,l===null?ab:function(){return Am(r),l(d)})}function Sm(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Am(r){var s=Sm(r);s.next===null&&(s=r.alternate.memoizedState),Jc(r,s.next.queue,{},as())}function Eh(){return wi(ff)}function xm(){return Hn().memoizedState}function Em(){return Hn().memoizedState}function lb(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=as();r=vt(l);var d=dn(s,r,l);d!==null&&(jr(d,s,l),ui(d,s,l)),s={cache:$a()},r.payload=s;return}s=s.return}}function ub(r,s,l){var d=as();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jf(r)?Nm(s,l):(l=xu(r,s,l,d),l!==null&&(jr(l,r,d),Cm(l,s,d)))}function Tm(r,s,l){var d=as();Jc(r,s,l,d)}function Jc(r,s,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(jf(r))Nm(s,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,F=_(I,l);if(y.hasEagerState=!0,y.eagerState=F,zi(F,I))return ql(r,s,y,0),xn===null&&Ol(),!1}catch{}finally{}if(l=xu(r,s,y,d),l!==null)return jr(l,r,d),Cm(l,s,d),!0}return!1}function Th(r,s,l,d){if(d={lane:2,revertLane:rp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},jf(r)){if(s)throw Error(i(479))}else s=xu(r,l,d,2),s!==null&&jr(s,r,2)}function jf(r){var s=r.alternate;return r===Tt||s!==null&&s===Tt}function Nm(r,s){sa=Hs=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Cm(r,s,l){if((l&4194048)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Yr(r,l)}}var Yc={readContext:wi,use:Ja,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Yc.useEffectEvent=yn;var Rm={readContext:wi,use:Ja,useCallback:function(r,s){return di().memoizedState=[r,s===void 0?null:s],r},useContext:wi,useEffect:dm,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Ka(4194308,4,gm.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ka(4194308,4,r,s)},useInsertionEffect:function(r,s){Ka(4,2,r,s)},useMemo:function(r,s){var l=di();s=s===void 0?null:s;var d=r();if(Es){Jt(!0);try{r()}finally{Jt(!1)}}return l.memoizedState=[d,s],d},useReducer:function(r,s,l){var d=di();if(l!==void 0){var y=l(s);if(Es){Jt(!0);try{l(s)}finally{Jt(!1)}}}else y=s;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=ub.bind(null,Tt,r),[d.memoizedState,r]},useRef:function(r){var s=di();return r={current:r},s.memoizedState=r},useState:function(r){r=Po(r);var s=r.queue,l=Tm.bind(null,Tt,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Sh,useDeferredValue:function(r,s){var l=di();return Ah(l,r,s)},useTransition:function(){var r=Po(!1);return r=_m.bind(null,Tt,r.queue,!0,!1),di().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var d=Tt,y=di();if(Ht){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),xn===null)throw Error(i(349));(Xt&127)!==0||Vs(d,s,l)}y.memoizedState=l;var _={value:l,getSnapshot:s};return y.queue=_,dm(Vc.bind(null,d,_,r),[r]),d.flags|=2048,la(9,{destroy:void 0},Gc.bind(null,d,_,l,s),null),l},useId:function(){var r=di(),s=xn.identifierPrefix;if(Ht){var l=qr,d=Or;l=(d&~(1<<32-Ft(d)-1)).toString(32)+l,s="_"+s+"R_"+l,l=jl++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Du++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Eh,useFormState:Ns,useActionState:Ns,useOptimistic:function(r){var s=di();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Th.bind(null,Tt,!0,l),l.dispatch=s,[r,s]},useMemoCache:oa,useCacheRefresh:function(){return di().memoizedState=lb.bind(null,Tt)},useEffectEvent:function(r){var s=di(),l={impl:r};return s.memoizedState=l,function(){if((un&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Nh={readContext:wi,use:Ja,useCallback:ym,useContext:wi,useEffect:_h,useImperativeHandle:vm,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:bm,useReducer:qu,useRef:Vf,useState:function(){return qu(Ts)},useDebugValue:Sh,useDeferredValue:function(r,s){var l=Hn();return wm(l,qt.memoizedState,r,s)},useTransition:function(){var r=qu(Ts)[0],s=Hn().memoizedState;return[typeof r=="boolean"?r:Mo(r),s]},useSyncExternalStore:Fu,useId:xm,useHostTransitionStatus:Eh,useFormState:js,useActionState:js,useOptimistic:function(r,s){var l=Hn();return Ff(l,qt,r,s)},useMemoCache:oa,useCacheRefresh:Em};Nh.useEffectEvent=hm;var Im={readContext:wi,use:Ja,useCallback:ym,useContext:wi,useEffect:_h,useImperativeHandle:vm,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:bm,useReducer:Bu,useRef:Vf,useState:function(){return Bu(Ts)},useDebugValue:Sh,useDeferredValue:function(r,s){var l=Hn();return qt===null?Ah(l,r,s):wm(l,qt.memoizedState,r,s)},useTransition:function(){var r=Bu(Ts)[0],s=Hn().memoizedState;return[typeof r=="boolean"?r:Mo(r),s]},useSyncExternalStore:Fu,useId:xm,useHostTransitionStatus:Eh,useFormState:Gu,useActionState:Gu,useOptimistic:function(r,s){var l=Hn();return qt!==null?Ff(l,qt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:oa,useCacheRefresh:Em};Im.useEffectEvent=hm;function Ch(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:w({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Rh={enqueueSetState:function(r,s,l){r=r._reactInternals;var d=as(),y=vt(d);y.payload=s,l!=null&&(y.callback=l),s=dn(r,y,d),s!==null&&(jr(s,r,d),ui(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=as(),y=vt(d);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=dn(r,y,d),s!==null&&(jr(s,r,d),ui(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=as(),d=vt(l);d.tag=2,s!=null&&(d.callback=s),s=dn(r,d,l),s!==null&&(jr(s,r,l),ui(s,r,l))}};function km(r,s,l,d,y,_,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,_,I):s.prototype&&s.prototype.isPureReactComponent?!Rr(l,d)||!Rr(y,_):!0}function Lm(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Rh.enqueueReplaceState(s,s.state,null)}function Yl(r,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(r=r.defaultProps){l===s&&(l=w({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function Mm(r){Zo(r)}function Pm(r){console.error(r)}function Dm(r){Zo(r)}function $f(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Um(r,s,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ih(r,s,l){return l=vt(l),l.tag=3,l.payload={element:null},l.callback=function(){$f(r,s)},l}function Om(r){return r=vt(r),r.tag=3,r}function qm(r,s,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;r.payload=function(){return y(_)},r.callback=function(){Um(s,l,d)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){Um(s,l,d),typeof y!="function"&&(el===null?el=new Set([this]):el.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function cb(r,s,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&Ro(s,l,y,!0),l=Yn.current,l!==null){switch(l.tag){case 31:case 13:return fi===null?rd():l.alternate===null&&Zn===0&&(Zn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===ge?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),tp(r,d,y)),!1;case 22:return l.flags|=65536,d===ge?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),tp(r,d,y)),!1}throw Error(i(435,l.tag))}return tp(r,d,y),rd(),!1}if(Ht)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==rs&&(r=Error(i(422),{cause:d}),Va(Pr(r,l)))):(d!==rs&&(s=Error(i(423),{cause:d}),Va(Pr(s,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=Pr(d,l),y=Ih(r.stateNode,d,y),Bn(r,y),Zn!==4&&(Zn=2)),!1;var _=Error(i(520),{cause:d});if(_=Pr(_,l),nf===null?nf=[_]:nf.push(_),Zn!==4&&(Zn=2),s===null)return!0;d=Pr(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=Ih(l.stateNode,d,r),Bn(l,r),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(el===null||!el.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Om(y),qm(y,r,l,d),Bn(l,y),!1}l=l.return}while(l!==null);return!1}var kh=Error(i(461)),hi=!1;function Vi(r,s,l,d){s.child=r===null?Wt(s,null,l,d):Gt(s,r.child,l,d)}function Bm(r,s,l,d,y){l=l.render;var _=s.ref;if("ref"in d){var I={};for(var F in d)F!=="ref"&&(I[F]=d[F])}else I=d;return Io(s),d=Fc(r,s,l,I,_,y),F=zc(),r!==null&&!hi?(Hc(r,s,y),ua(r,s,y)):(Ht&&F&&Uc(s),s.flags|=1,Vi(r,s,d,y),s.child)}function Fm(r,s,l,d,y){if(r===null){var _=l.type;return typeof _=="function"&&!Tu(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,zm(r,s,_,d,y)):(r=za(l.type,null,d,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!Bh(r,y)){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:Rr,l(I,d)&&r.ref===s.ref)return ua(r,s,y)}return s.flags|=1,r=Mr(_,d),r.ref=s.ref,r.return=s,s.child=r}function zm(r,s,l,d,y){if(r!==null){var _=r.memoizedProps;if(Rr(_,d)&&r.ref===s.ref)if(hi=!1,s.pendingProps=d=_,Bh(r,y))(r.flags&131072)!==0&&(hi=!0);else return s.lanes=r.lanes,ua(r,s,y)}return Lh(r,s,l,d,y)}function Hm(r,s,l,d){var y=d.children,_=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,r!==null){for(d=s.child=r.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,s.child=null;return Gm(r,s,_,l,d)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&G(s,_!==null?_.cachePool:null),_!==null?hr(s,_):Fr(),Pn(s);else return d=s.lanes=536870912,Gm(r,s,_!==null?_.baseLanes|l:l,l,d)}else _!==null?(G(s,_.cachePool),hr(s,_),xs(),s.memoizedState=null):(r!==null&&G(s,null),Fr(),xs());return Vi(r,s,y,l),s.child}function Kc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Gm(r,s,l,d,y){var _=B();return _=_===null?null:{parent:Jn._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},r!==null&&G(s,null),Fr(),Pn(s),r!==null&&Ro(r,s,d,!0),s.childLanes=y,null}function Jf(r,s){return s=Kf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Vm(r,s,l){return Gt(s,r.child,null,l),r=Jf(s,s.pendingProps),r.flags|=2,tr(s),s.memoizedState=null,r}function fb(r,s,l){var d=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ht){if(d.mode==="hidden")return r=Jf(s,d),s.lanes=536870912,Kc(null,r);if(As(s),(r=Sn)?(r=n1(r,qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Eo!==null?{id:Or,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},l=Nu(r),l.return=s,s.child=l,yi=s,Sn=null)):r=null,r===null)throw To(s);return s.lanes=536870912,null}return Jf(s,d)}var _=r.memoizedState;if(_!==null){var I=_.dehydrated;if(As(s),y)if(s.flags&256)s.flags&=-257,s=Vm(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(hi||Ro(r,s,l,!1),y=(l&r.childLanes)!==0,hi||y){if(d=xn,d!==null&&(I=Oi(d,l),I!==0&&I!==_.retryLane))throw _.retryLane=I,Fs(r,I),jr(d,r,I),kh;rd(),s=Vm(r,s,l)}else r=_.treeContext,Sn=Cs(I.nextSibling),yi=s,Ht=!0,Gi=null,qn=!1,r!==null&&Of(s,r),s=Jf(s,d),s.flags|=4096;return s}return r=Mr(r.child,{mode:d.mode,children:d.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Yf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Lh(r,s,l,d,y){return Io(s),l=Fc(r,s,l,d,void 0,y),d=zc(),r!==null&&!hi?(Hc(r,s,y),ua(r,s,y)):(Ht&&d&&Uc(s),s.flags|=1,Vi(r,s,l,y),s.child)}function jm(r,s,l,d,y,_){return Io(s),s.updateQueue=null,l=Gs(s,d,l,y),Uu(r),d=zc(),r!==null&&!hi?(Hc(r,s,_),ua(r,s,_)):(Ht&&d&&Uc(s),s.flags|=1,Vi(r,s,l,_),s.child)}function $m(r,s,l,d,y){if(Io(s),s.stateNode===null){var _=vi,I=l.contextType;typeof I=="object"&&I!==null&&(_=wi(I)),_=new l(d,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Rh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=d,_.state=s.memoizedState,_.refs={},ln(s),I=l.contextType,_.context=typeof I=="object"&&I!==null?wi(I):vi,_.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Ch(s,l,I,d),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&Rh.enqueueReplaceState(_,_.state,null),_i(s,d,_,y),Zt(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(r===null){_=s.stateNode;var F=s.memoizedProps,se=Yl(l,F);_.props=se;var Ee=_.context,De=l.contextType;I=vi,typeof De=="object"&&De!==null&&(I=wi(De));var Fe=l.getDerivedStateFromProps;De=typeof Fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=s.pendingProps!==F,De||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||Ee!==I)&&Lm(s,_,d,I),Rt=!1;var Ce=s.memoizedState;_.state=Ce,_i(s,d,_,y),Zt(),Ee=s.memoizedState,F||Ce!==Ee||Rt?(typeof Fe=="function"&&(Ch(s,l,Fe,d),Ee=s.memoizedState),(se=Rt||km(s,l,se,d,Ce,Ee,I))?(De||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Ee),_.props=d,_.state=Ee,_.context=I,d=se):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,rn(r,s),I=s.memoizedProps,De=Yl(l,I),_.props=De,Fe=s.pendingProps,Ce=_.context,Ee=l.contextType,se=vi,typeof Ee=="object"&&Ee!==null&&(se=wi(Ee)),F=l.getDerivedStateFromProps,(Ee=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Fe||Ce!==se)&&Lm(s,_,d,se),Rt=!1,Ce=s.memoizedState,_.state=Ce,_i(s,d,_,y),Zt();var ke=s.memoizedState;I!==Fe||Ce!==ke||Rt||r!==null&&r.dependencies!==null&&Lu(r.dependencies)?(typeof F=="function"&&(Ch(s,l,F,d),ke=s.memoizedState),(De=Rt||km(s,l,De,d,Ce,ke,se)||r!==null&&r.dependencies!==null&&Lu(r.dependencies))?(Ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ke,se),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ke,se)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ke),_.props=d,_.state=ke,_.context=se,d=De):(typeof _.componentDidUpdate!="function"||I===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Ce===r.memoizedState||(s.flags|=1024),d=!1)}return _=d,Yf(r,s),d=(s.flags&128)!==0,_||d?(_=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&d?(s.child=Gt(s,r.child,null,y),s.child=Gt(s,null,l,y)):Vi(r,s,l,y),s.memoizedState=_.state,r=s.child):r=ua(r,s,y),r}function Jm(r,s,l,d){return na(),s.flags|=256,Vi(r,s,l,d),s.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(r){return{baseLanes:r,cachePool:Y()}}function Dh(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=os),r}function Ym(r,s,l){var d=s.pendingProps,y=!1,_=(s.flags&128)!==0,I;if((I=_)||(I=r!==null&&r.memoizedState===null?!1:(zn.current&2)!==0),I&&(y=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ht){if(y?pr(s):xs(),(r=Sn)?(r=n1(r,qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Eo!==null?{id:Or,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},l=Nu(r),l.return=s,s.child=l,yi=s,Sn=null)):r=null,r===null)throw To(s);return vp(r)?s.lanes=32:s.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(xs(),y=s.mode,F=Kf({mode:"hidden",children:F},y),d=xo(d,y,l,null),F.return=s,d.return=s,F.sibling=d,s.child=F,d=s.child,d.memoizedState=Ph(l),d.childLanes=Dh(r,I,l),s.memoizedState=Mh,Kc(null,d)):(pr(s),Uh(s,F))}var se=r.memoizedState;if(se!==null&&(F=se.dehydrated,F!==null)){if(_)s.flags&256?(pr(s),s.flags&=-257,s=Oh(r,s,l)):s.memoizedState!==null?(xs(),s.child=r.child,s.flags|=128,s=null):(xs(),F=d.fallback,y=s.mode,d=Kf({mode:"visible",children:d.children},y),F=xo(F,y,l,null),F.flags|=2,d.return=s,F.return=s,d.sibling=F,s.child=d,Gt(s,r.child,null,l),d=s.child,d.memoizedState=Ph(l),d.childLanes=Dh(r,I,l),s.memoizedState=Mh,s=Kc(null,d));else if(pr(s),vp(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var Ee=I.dgst;I=Ee,d=Error(i(419)),d.stack="",d.digest=I,Va({value:d,source:null,stack:null}),s=Oh(r,s,l)}else if(hi||Ro(r,s,l,!1),I=(l&r.childLanes)!==0,hi||I){if(I=xn,I!==null&&(d=Oi(I,l),d!==0&&d!==se.retryLane))throw se.retryLane=d,Fs(r,d),jr(I,r,d),kh;gp(F)||rd(),s=Oh(r,s,l)}else gp(F)?(s.flags|=192,s.child=r.child,s=null):(r=se.treeContext,Sn=Cs(F.nextSibling),yi=s,Ht=!0,Gi=null,qn=!1,r!==null&&Of(s,r),s=Uh(s,d.children),s.flags|=4096);return s}return y?(xs(),F=d.fallback,y=s.mode,se=r.child,Ee=se.sibling,d=Mr(se,{mode:"hidden",children:d.children}),d.subtreeFlags=se.subtreeFlags&65011712,Ee!==null?F=Mr(Ee,F):(F=xo(F,y,l,null),F.flags|=2),F.return=s,d.return=s,d.sibling=F,s.child=d,Kc(null,d),d=s.child,F=r.child.memoizedState,F===null?F=Ph(l):(y=F.cachePool,y!==null?(se=Jn._currentValue,y=y.parent!==se?{parent:se,pool:se}:y):y=Y(),F={baseLanes:F.baseLanes|l,cachePool:y}),d.memoizedState=F,d.childLanes=Dh(r,I,l),s.memoizedState=Mh,Kc(r.child,d)):(pr(s),l=r.child,r=l.sibling,l=Mr(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,r!==null&&(I=s.deletions,I===null?(s.deletions=[r],s.flags|=16):I.push(r)),s.child=l,s.memoizedState=null,l)}function Uh(r,s){return s=Kf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Kf(r,s){return r=Li(22,r,null,s),r.lanes=0,r}function Oh(r,s,l){return Gt(s,r.child,null,l),r=Uh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Km(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),ja(r.return,s,l)}function qh(r,s,l,d,y,_){var I=r.memoizedState;I===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:_}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=d,I.tail=l,I.tailMode=y,I.treeForkCount=_)}function Wm(r,s,l){var d=s.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var I=zn.current,F=(I&2)!==0;if(F?(I=I&1|2,s.flags|=128):I&=1,H(zn,I),Vi(r,s,d,l),d=Ht?Hl:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Km(r,l,s);else if(r.tag===19)Km(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&ra(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),qh(s,!1,y,l,_,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&ra(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}qh(s,!0,l,null,_,d);break;case"together":qh(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function ua(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Za|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Ro(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Mr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Mr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Bh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Lu(r)))}function db(r,s,l){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),Co(s,Jn,r.memoizedState.cache),na();break;case 27:case 5:je(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:Co(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,As(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(pr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Ym(r,s,l):(pr(s),r=ua(r,s,l),r!==null?r.sibling:null);pr(s);break;case 19:var y=(r.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(Ro(r,s,l,!1),d=(l&s.childLanes)!==0),y){if(d)return Wm(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),H(zn,zn.current),d)break;return null;case 22:return s.lanes=0,Hm(r,s,l,s.pendingProps);case 24:Co(s,Jn,r.memoizedState.cache)}return ua(r,s,l)}function Xm(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)hi=!0;else{if(!Bh(r,l)&&(s.flags&128)===0)return hi=!1,db(r,s,l);hi=(r.flags&131072)!==0}else hi=!1,Ht&&(s.flags&1048576)!==0&&Uf(s,Hl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(r=ue(s.elementType),s.type=r,typeof r=="function")Tu(r)?(d=Yl(r,d),s.tag=1,s=$m(null,s,r,d,l)):(s.tag=0,s=Lh(null,s,r,d,l));else{if(r!=null){var y=r.$$typeof;if(y===Z){s.tag=11,s=Bm(null,s,r,d,l);break e}else if(y===Q){s.tag=14,s=Fm(null,s,r,d,l);break e}}throw s=ee(r)||r,Error(i(306,s,""))}}return s;case 0:return Lh(r,s,s.type,s.pendingProps,l);case 1:return d=s.type,y=Yl(d,s.pendingProps),$m(r,s,d,y,l);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(i(387));d=s.pendingProps;var _=s.memoizedState;y=_.element,rn(r,s),_i(s,d,null,l);var I=s.memoizedState;if(d=I.cache,Co(s,Jn,d),d!==_.cache&&ia(s,[Jn],l,!0),Zt(),d=I.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Jm(r,s,d,l);break e}else if(d!==y){y=Pr(Error(i(424)),s),Va(y),s=Jm(r,s,d,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Sn=Cs(r.firstChild),yi=s,Ht=!0,Gi=null,qn=!0,l=Wt(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(na(),d===y){s=ua(r,s,l);break e}Vi(r,s,d,l)}s=s.child}return s;case 26:return Yf(r,s),r===null?(l=l1(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ht||(l=s.type,r=s.pendingProps,d=fd(oe.current).createElement(l),d[fn]=s,d[Tn]=r,ji(d,l,r),Wn(d),s.stateNode=d):s.memoizedState=l1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return je(s),r===null&&Ht&&(d=s.stateNode=s1(s.type,s.pendingProps,oe.current),yi=s,qn=!0,y=Sn,rl(s.type)?(yp=y,Sn=Cs(d.firstChild)):Sn=y),Vi(r,s,s.pendingProps.children,l),Yf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ht&&((y=d=Sn)&&(d=Hb(d,s.type,s.pendingProps,qn),d!==null?(s.stateNode=d,yi=s,Sn=Cs(d.firstChild),qn=!1,y=!0):y=!1),y||To(s)),je(s),y=s.type,_=s.pendingProps,I=r!==null?r.memoizedProps:null,d=_.children,hp(y,_)?d=null:I!==null&&hp(y,I)&&(s.flags|=32),s.memoizedState!==null&&(y=Fc(r,s,wh,null,null,l),ff._currentValue=y),Yf(r,s),Vi(r,s,d,l),s.child;case 6:return r===null&&Ht&&((r=l=Sn)&&(l=Gb(l,s.pendingProps,qn),l!==null?(s.stateNode=l,yi=s,Sn=null,r=!0):r=!1),r||To(s)),null;case 13:return Ym(r,s,l);case 4:return Ae(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Gt(s,null,d,l):Vi(r,s,d,l),s.child;case 11:return Bm(r,s,s.type,s.pendingProps,l);case 7:return Vi(r,s,s.pendingProps,l),s.child;case 8:return Vi(r,s,s.pendingProps.children,l),s.child;case 12:return Vi(r,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,Co(s,s.type,d.value),Vi(r,s,d.children,l),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,Io(s),y=wi(y),d=d(y),s.flags|=1,Vi(r,s,d,l),s.child;case 14:return Fm(r,s,s.type,s.pendingProps,l);case 15:return zm(r,s,s.type,s.pendingProps,l);case 19:return Wm(r,s,l);case 31:return fb(r,s,l);case 22:return Hm(r,s,l,s.pendingProps);case 24:return Io(s),d=wi(Jn),r===null?(y=B(),y===null&&(y=xn,_=$a(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),s.memoizedState={parent:d,cache:y},ln(s),Co(s,Jn,y)):((r.lanes&l)!==0&&(rn(r,s),_i(s,null,null,l),Zt()),y=r.memoizedState,_=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Co(s,Jn,d)):(d=_.cache,Co(s,Jn,d),d!==y.cache&&ia(s,[Jn],l,!0))),Vi(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ca(r){r.flags|=4}function Fh(r,s,l,d,y){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(xg())r.flags|=8192;else throw he=ge,_e}else r.flags&=-16777217}function Qm(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!h1(s))if(xg())r.flags|=8192;else throw he=ge,_e}function Wf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ai():536870912,r.lanes|=s,Ju|=s)}function Wc(r,s){if(!Ht)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function hb(r,s,l){var d=s.pendingProps;switch(Iu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(s),null;case 1:return Dn(s),null;case 3:return l=s.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Br(Jn),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(bi(s)?ca(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qc())),Dn(s),null;case 26:var y=s.type,_=s.memoizedState;return r===null?(ca(s),_!==null?(Dn(s),Qm(s,_)):(Dn(s),Fh(s,y,null,d,l))):_?_!==r.memoizedState?(ca(s),Dn(s),Qm(s,_)):(Dn(s),s.flags&=-16777217):(r=r.memoizedProps,r!==d&&ca(s),Dn(s),Fh(s,y,r,d,l)),null;case 27:if(Ve(s),l=oe.current,y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==d&&ca(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Dn(s),null}r=J.current,bi(s)?Oc(s):(r=s1(y,d,l),s.stateNode=r,ca(s))}return Dn(s),null;case 5:if(Ve(s),y=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==d&&ca(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Dn(s),null}if(_=J.current,bi(s))Oc(s);else{var I=fd(oe.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?I.createElement("select",{is:d.is}):I.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?I.createElement(y,{is:d.is}):I.createElement(y)}}_[fn]=s,_[Tn]=d;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=_;e:switch(ji(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ca(s)}}return Dn(s),Fh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==d&&ca(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(r=oe.current,bi(s)){if(r=s.stateNode,l=s.memoizedProps,d=null,y=yi,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[fn]=s,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Yg(r.nodeValue,l)),r||To(s,!0)}else r=fd(r).createTextNode(d),r[fn]=s,s.stateNode=r}return Dn(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(d=bi(s),l!==null){if(r===null){if(!d)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[fn]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dn(s),r=!1}else l=qc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(tr(s),s):(tr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Dn(s),null;case 13:if(d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=bi(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[fn]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dn(s),y=!1}else y=qc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(tr(s),s):(tr(s),null)}return tr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),Wf(s,s.updateQueue),Dn(s),null);case 4:return Se(),r===null&&lp(s.stateNode.containerInfo),Dn(s),null;case 10:return Br(s.type),Dn(s),null;case 19:if(L(zn),d=s.memoizedState,d===null)return Dn(s),null;if(y=(s.flags&128)!==0,_=d.rendering,_===null)if(y)Wc(d,!1);else{if(Zn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=ra(r),_!==null){for(s.flags|=128,Wc(d,!1),r=_.updateQueue,s.updateQueue=r,Wf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)Fl(l,r),l=l.sibling;return H(zn,zn.current&1|2),Ht&&dr(s,d.treeForkCount),s.child}r=r.sibling}d.tail!==null&&at()>td&&(s.flags|=128,y=!0,Wc(d,!1),s.lanes=4194304)}else{if(!y)if(r=ra(_),r!==null){if(s.flags|=128,y=!0,r=r.updateQueue,s.updateQueue=r,Wf(s,r),Wc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Ht)return Dn(s),null}else 2*at()-d.renderingStartTime>td&&l!==536870912&&(s.flags|=128,y=!0,Wc(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(r=d.last,r!==null?r.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=at(),r.sibling=null,l=zn.current,H(zn,y?l&1|2:l&1),Ht&&dr(s,d.treeForkCount),r):(Dn(s),null);case 22:case 23:return tr(s),Qn(),d=s.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(Dn(s),s.subtreeFlags&6&&(s.flags|=8192)):Dn(s),l=s.updateQueue,l!==null&&Wf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),r!==null&&L(q),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Br(Jn),Dn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function pb(r,s){switch(Iu(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Br(Jn),Se(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 31:if(s.memoizedState!==null){if(tr(s),s.alternate===null)throw Error(i(340));na()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(tr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));na()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return L(zn),null;case 4:return Se(),null;case 10:return Br(s.type),null;case 22:case 23:return tr(s),Qn(),r!==null&&L(q),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Br(Jn),null;case 25:return null;default:return null}}function Zm(r,s){switch(Iu(s),s.tag){case 3:Br(Jn),Se();break;case 26:case 27:case 5:Ve(s);break;case 4:Se();break;case 31:s.memoizedState!==null&&tr(s);break;case 13:tr(s);break;case 19:L(zn);break;case 10:Br(s.type);break;case 22:case 23:tr(s),Qn(),r!==null&&L(q);break;case 24:Br(Jn)}}function Xc(r,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&r)===r){d=void 0;var _=l.create,I=l.inst;d=_(),I.destroy=d}l=l.next}while(l!==y)}}catch(F){pn(s,s.return,F)}}function Xa(r,s,l){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&r)===r){var I=d.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,y=s;var se=l,Ee=F;try{Ee()}catch(De){pn(y,se,De)}}}d=d.next}while(d!==_)}}catch(De){pn(s,s.return,De)}}function eg(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{ii(s,l)}catch(d){pn(r,r.return,d)}}}function tg(r,s,l){l.props=Yl(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){pn(r,s,d)}}function Qc(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(y){pn(r,s,y)}}function Do(r,s){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){pn(r,s,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){pn(r,s,y)}else l.current=null}function ng(r){var s=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){pn(r,r.return,y)}}function zh(r,s,l){try{var d=r.stateNode;Ub(d,r.type,l,s),d[Tn]=s}catch(y){pn(r,r.return,y)}}function ig(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rl(r.type)||r.tag===4}function Hh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ig(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Cn));else if(d!==4&&(d===27&&rl(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Gh(r,s,l),r=r.sibling;r!==null;)Gh(r,s,l),r=r.sibling}function Xf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(d===27&&rl(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Xf(r,s,l),r=r.sibling;r!==null;)Xf(r,s,l),r=r.sibling}function rg(r){var s=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);ji(s,d,l),s[fn]=r,s[Tn]=l}catch(_){pn(r,r.return,_)}}var fa=!1,pi=!1,Vh=!1,sg=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function mb(r,s){if(r=r.containerInfo,fp=yd,r=ns(r),is(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,F=-1,se=-1,Ee=0,De=0,Fe=r,Ce=null;t:for(;;){for(var ke;Fe!==l||y!==0&&Fe.nodeType!==3||(F=I+y),Fe!==_||d!==0&&Fe.nodeType!==3||(se=I+d),Fe.nodeType===3&&(I+=Fe.nodeValue.length),(ke=Fe.firstChild)!==null;)Ce=Fe,Fe=ke;for(;;){if(Fe===r)break t;if(Ce===l&&++Ee===y&&(F=I),Ce===_&&++De===d&&(se=I),(ke=Fe.nextSibling)!==null)break;Fe=Ce,Ce=Fe.parentNode}Fe=ke}l=F===-1||se===-1?null:{start:F,end:se}}else l=null}l=l||{start:0,end:0}}else l=null;for(dp={focusedElem:r,selectionRange:l},yd=!1,Pi=s;Pi!==null;)if(s=Pi,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Pi=r;else for(;Pi!==null;){switch(s=Pi,_=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,l=s,y=_.memoizedProps,_=_.memoizedState,d=l.stateNode;try{var it=Yl(l.type,y);r=d.getSnapshotBeforeUpdate(it,_),d.__reactInternalSnapshotBeforeUpdate=r}catch(yt){pn(l,l.return,yt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)mp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":mp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Pi=r;break}Pi=s.return}}function og(r,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:ha(r,l),d&4&&Xc(5,l);break;case 1:if(ha(r,l),d&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(I){pn(l,l.return,I)}else{var y=Yl(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(y,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){pn(l,l.return,I)}}d&64&&eg(l),d&512&&Qc(l,l.return);break;case 3:if(ha(r,l),d&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ii(r,s)}catch(I){pn(l,l.return,I)}}break;case 27:s===null&&d&4&&rg(l);case 26:case 5:ha(r,l),s===null&&d&4&&ng(l),d&512&&Qc(l,l.return);break;case 12:ha(r,l);break;case 31:ha(r,l),d&4&&ug(r,l);break;case 13:ha(r,l),d&4&&cg(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=xb.bind(null,l),Vb(r,l))));break;case 22:if(d=l.memoizedState!==null||fa,!d){s=s!==null&&s.memoizedState!==null||pi,y=fa;var _=pi;fa=d,(pi=s)&&!_?pa(r,l,(l.subtreeFlags&8772)!==0):ha(r,l),fa=y,pi=_}break;case 30:break;default:ha(r,l)}}function ag(r){var s=r.alternate;s!==null&&(r.alternate=null,ag(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&oo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gn=null,zr=!1;function da(r,s,l){for(l=l.child;l!==null;)lg(r,s,l),l=l.sibling}function lg(r,s,l){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Bt,l)}catch{}switch(l.tag){case 26:pi||Do(l,s),da(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pi||Do(l,s);var d=Gn,y=zr;rl(l.type)&&(Gn=l.stateNode,zr=!1),da(r,s,l),lf(l.stateNode),Gn=d,zr=y;break;case 5:pi||Do(l,s);case 6:if(d=Gn,y=zr,Gn=null,da(r,s,l),Gn=d,zr=y,Gn!==null)if(zr)try{(Gn.nodeType===9?Gn.body:Gn.nodeName==="HTML"?Gn.ownerDocument.body:Gn).removeChild(l.stateNode)}catch(_){pn(l,s,_)}else try{Gn.removeChild(l.stateNode)}catch(_){pn(l,s,_)}break;case 18:Gn!==null&&(zr?(r=Gn,e1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),tc(r)):e1(Gn,l.stateNode));break;case 4:d=Gn,y=zr,Gn=l.stateNode.containerInfo,zr=!0,da(r,s,l),Gn=d,zr=y;break;case 0:case 11:case 14:case 15:Xa(2,l,s),pi||Xa(4,l,s),da(r,s,l);break;case 1:pi||(Do(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&tg(l,s,d)),da(r,s,l);break;case 21:da(r,s,l);break;case 22:pi=(d=pi)||l.memoizedState!==null,da(r,s,l),pi=d;break;default:da(r,s,l)}}function ug(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{tc(r)}catch(l){pn(s,s.return,l)}}}function cg(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tc(r)}catch(l){pn(s,s.return,l)}}function gb(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new sg),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new sg),s;default:throw Error(i(435,r.tag))}}function Qf(r,s){var l=gb(r);s.forEach(function(d){if(!l.has(d)){l.add(d);var y=Eb.bind(null,r,d);d.then(y,y)}})}function Hr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],_=r,I=s,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(rl(F.type)){Gn=F.stateNode,zr=!1;break e}break;case 5:Gn=F.stateNode,zr=!1;break e;case 3:case 4:Gn=F.stateNode.containerInfo,zr=!0;break e}F=F.return}if(Gn===null)throw Error(i(160));lg(_,I,y),Gn=null,zr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fg(s,r),s=s.sibling}var Js=null;function fg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hr(s,r),Gr(r),d&4&&(Xa(3,r,r.return),Xc(3,r),Xa(5,r,r.return));break;case 1:Hr(s,r),Gr(r),d&512&&(pi||l===null||Do(l,l.return)),d&64&&fa&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=Js;if(Hr(s,r),Gr(r),d&512&&(pi||l===null||Do(l,l.return)),d&4){var _=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[hs]||_[fn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),ji(_,d,l),_[fn]=r,Wn(_),d=_;break e;case"link":var I=f1("link","href",y).get(d+(l.href||""));if(I){for(var F=0;F<I.length;F++)if(_=I[F],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(F,1);break t}}_=y.createElement(d),ji(_,d,l),y.head.appendChild(_);break;case"meta":if(I=f1("meta","content",y).get(d+(l.content||""))){for(F=0;F<I.length;F++)if(_=I[F],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(F,1);break t}}_=y.createElement(d),ji(_,d,l),y.head.appendChild(_);break;default:throw Error(i(468,d))}_[fn]=r,Wn(_),d=_}r.stateNode=d}else d1(y,r.type,r.stateNode);else r.stateNode=c1(y,d,r.memoizedProps);else _!==d?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,d===null?d1(y,r.type,r.stateNode):c1(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&zh(r,r.memoizedProps,l.memoizedProps)}break;case 27:Hr(s,r),Gr(r),d&512&&(pi||l===null||Do(l,l.return)),l!==null&&d&4&&zh(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Hr(s,r),Gr(r),d&512&&(pi||l===null||Do(l,l.return)),r.flags&32){y=r.stateNode;try{ms(y,"")}catch(it){pn(r,r.return,it)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,zh(r,y,l!==null?l.memoizedProps:y)),d&1024&&(Vh=!0);break;case 6:if(Hr(s,r),Gr(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(it){pn(r,r.return,it)}}break;case 3:if(pd=null,y=Js,Js=dd(s.containerInfo),Hr(s,r),Js=y,Gr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(it){pn(r,r.return,it)}Vh&&(Vh=!1,dg(r));break;case 4:d=Js,Js=dd(r.stateNode.containerInfo),Hr(s,r),Gr(r),Js=d;break;case 12:Hr(s,r),Gr(r);break;case 31:Hr(s,r),Gr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Qf(r,d)));break;case 13:Hr(s,r),Gr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ed=at()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Qf(r,d)));break;case 22:y=r.memoizedState!==null;var se=l!==null&&l.memoizedState!==null,Ee=fa,De=pi;if(fa=Ee||y,pi=De||se,Hr(s,r),pi=De,fa=Ee,Gr(r),d&8192)e:for(s=r.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||se||fa||pi||Kl(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){se=l=s;try{if(_=se.stateNode,y)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=se.stateNode;var Fe=se.memoizedProps.style,Ce=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;F.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(it){pn(se,se.return,it)}}}else if(s.tag===6){if(l===null){se=s;try{se.stateNode.nodeValue=y?"":se.memoizedProps}catch(it){pn(se,se.return,it)}}}else if(s.tag===18){if(l===null){se=s;try{var ke=se.stateNode;y?t1(ke,!0):t1(se.stateNode,!1)}catch(it){pn(se,se.return,it)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Qf(r,l))));break;case 19:Hr(s,r),Gr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Qf(r,d)));break;case 30:break;case 21:break;default:Hr(s,r),Gr(r)}}function Gr(r){var s=r.flags;if(s&2){try{for(var l,d=r.return;d!==null;){if(ig(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,_=Hh(r);Xf(r,_,y);break;case 5:var I=l.stateNode;l.flags&32&&(ms(I,""),l.flags&=-33);var F=Hh(r);Xf(r,F,I);break;case 3:case 4:var se=l.stateNode.containerInfo,Ee=Hh(r);Gh(r,Ee,se);break;default:throw Error(i(161))}}catch(De){pn(r,r.return,De)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function dg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;dg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ha(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)og(r,s.alternate,s),s=s.sibling}function Kl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Xa(4,s,s.return),Kl(s);break;case 1:Do(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&tg(s,s.return,l),Kl(s);break;case 27:lf(s.stateNode);case 26:case 5:Do(s,s.return),Kl(s);break;case 22:s.memoizedState===null&&Kl(s);break;case 30:Kl(s);break;default:Kl(s)}r=r.sibling}}function pa(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=r,_=s,I=_.flags;switch(_.tag){case 0:case 11:case 15:pa(y,_,l),Xc(4,_);break;case 1:if(pa(y,_,l),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ee){pn(d,d.return,Ee)}if(d=_,y=d.updateQueue,y!==null){var F=d.stateNode;try{var se=y.shared.hiddenCallbacks;if(se!==null)for(y.shared.hiddenCallbacks=null,y=0;y<se.length;y++)er(se[y],F)}catch(Ee){pn(d,d.return,Ee)}}l&&I&64&&eg(_),Qc(_,_.return);break;case 27:rg(_);case 26:case 5:pa(y,_,l),l&&d===null&&I&4&&ng(_),Qc(_,_.return);break;case 12:pa(y,_,l);break;case 31:pa(y,_,l),l&&I&4&&ug(y,_);break;case 13:pa(y,_,l),l&&I&4&&cg(y,_);break;case 22:_.memoizedState===null&&pa(y,_,l),Qc(_,_.return);break;case 30:break;default:pa(y,_,l)}s=s.sibling}}function jh(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Gl(l))}function $h(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Gl(r))}function Ys(r,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hg(r,s,l,d),s=s.sibling}function hg(r,s,l,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ys(r,s,l,d),y&2048&&Xc(9,s);break;case 1:Ys(r,s,l,d);break;case 3:Ys(r,s,l,d),y&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Gl(r)));break;case 12:if(y&2048){Ys(r,s,l,d),r=s.stateNode;try{var _=s.memoizedProps,I=_.id,F=_.onPostCommit;typeof F=="function"&&F(I,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(se){pn(s,s.return,se)}}else Ys(r,s,l,d);break;case 31:Ys(r,s,l,d);break;case 13:Ys(r,s,l,d);break;case 23:break;case 22:_=s.stateNode,I=s.alternate,s.memoizedState!==null?_._visibility&2?Ys(r,s,l,d):Zc(r,s):_._visibility&2?Ys(r,s,l,d):(_._visibility|=2,Vu(r,s,l,d,(s.subtreeFlags&10256)!==0||!1)),y&2048&&jh(I,s);break;case 24:Ys(r,s,l,d),y&2048&&$h(s.alternate,s);break;default:Ys(r,s,l,d)}}function Vu(r,s,l,d,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=r,I=s,F=l,se=d,Ee=I.flags;switch(I.tag){case 0:case 11:case 15:Vu(_,I,F,se,y),Xc(8,I);break;case 23:break;case 22:var De=I.stateNode;I.memoizedState!==null?De._visibility&2?Vu(_,I,F,se,y):Zc(_,I):(De._visibility|=2,Vu(_,I,F,se,y)),y&&Ee&2048&&jh(I.alternate,I);break;case 24:Vu(_,I,F,se,y),y&&Ee&2048&&$h(I.alternate,I);break;default:Vu(_,I,F,se,y)}s=s.sibling}}function Zc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,d=s,y=d.flags;switch(d.tag){case 22:Zc(l,d),y&2048&&jh(d.alternate,d);break;case 24:Zc(l,d),y&2048&&$h(d.alternate,d);break;default:Zc(l,d)}s=s.sibling}}var ef=8192;function ju(r,s,l){if(r.subtreeFlags&ef)for(r=r.child;r!==null;)pg(r,s,l),r=r.sibling}function pg(r,s,l){switch(r.tag){case 26:ju(r,s,l),r.flags&ef&&r.memoizedState!==null&&nw(l,Js,r.memoizedState,r.memoizedProps);break;case 5:ju(r,s,l);break;case 3:case 4:var d=Js;Js=dd(r.stateNode.containerInfo),ju(r,s,l),Js=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=ef,ef=16777216,ju(r,s,l),ef=d):ju(r,s,l));break;default:ju(r,s,l)}}function mg(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function tf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];Pi=d,vg(d,r)}mg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gg(r),r=r.sibling}function gg(r){switch(r.tag){case 0:case 11:case 15:tf(r),r.flags&2048&&Xa(9,r,r.return);break;case 3:tf(r);break;case 12:tf(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Zf(r)):tf(r);break;default:tf(r)}}function Zf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];Pi=d,vg(d,r)}mg(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Xa(8,s,s.return),Zf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Zf(s));break;default:Zf(s)}r=r.sibling}}function vg(r,s){for(;Pi!==null;){var l=Pi;switch(l.tag){case 0:case 11:case 15:Xa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Pi=d;else e:for(l=r;Pi!==null;){d=Pi;var y=d.sibling,_=d.return;if(ag(d),d===l){Pi=null;break e}if(y!==null){y.return=_,Pi=y;break e}Pi=_}}}var vb={getCacheForType:function(r){var s=wi(Jn),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return wi(Jn).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,un=0,xn=null,Vt=null,Xt=0,hn=0,ss=null,Qa=!1,$u=!1,Jh=!1,ma=0,Zn=0,Za=0,Wl=0,Yh=0,os=0,Ju=0,nf=null,Vr=null,Kh=!1,ed=0,yg=0,td=1/0,nd=null,el=null,Si=0,tl=null,Yu=null,ga=0,Wh=0,Xh=null,bg=null,rf=0,Qh=null;function as(){return(un&2)!==0&&Xt!==0?Xt&-Xt:$.T!==null?rp():Wi()}function wg(){if(os===0)if((Xt&536870912)===0||Ht){var r=Yi;Yi<<=1,(Yi&3932160)===0&&(Yi=262144),os=r}else os=536870912;return r=Yn.current,r!==null&&(r.flags|=32),os}function jr(r,s,l){(r===xn&&(hn===2||hn===9)||r.cancelPendingCommit!==null)&&(Ku(r,0),nl(r,Xt,os,!1)),Ki(r,l),((un&2)===0||r!==xn)&&(r===xn&&((un&2)===0&&(Wl|=l),Zn===4&&nl(r,Xt,os,!1)),Uo(r))}function _g(r,s,l){if((un&6)!==0)throw Error(i(327));var d=!l&&(s&127)===0&&(s&r.expiredLanes)===0||Yt(r,s),y=d?_b(r,s):ep(r,s,!0),_=d;do{if(y===0){$u&&!d&&nl(r,s,0,!1);break}else{if(l=r.current.alternate,_&&!bb(l)){y=ep(r,s,!1),_=!1;continue}if(y===2){if(_=s,r.errorRecoveryDisabledLanes&_)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var F=r;y=nf;var se=F.current.memoizedState.isDehydrated;if(se&&(Ku(F,I).flags|=256),I=ep(F,I,!1),I!==2){if(Jh&&!se){F.errorRecoveryDisabledLanes|=_,Wl|=_,y=4;break e}_=Vr,Vr=y,_!==null&&(Vr===null?Vr=_:Vr.push.apply(Vr,_))}y=I}if(_=!1,y!==2)continue}}if(y===1){Ku(r,0),nl(r,s,0,!0);break}e:{switch(d=r,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:nl(d,s,os,!Qa);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(y=ed+300-at(),10<y)){if(nl(d,s,os,!Qa),At(d,0,!0)!==0)break e;ga=s,d.timeoutHandle=Qg(Sg.bind(null,d,l,Vr,nd,Kh,s,os,Wl,Ju,Qa,_,"Throttled",-0,0),y);break e}Sg(d,l,Vr,nd,Kh,s,os,Wl,Ju,Qa,_,null,-0,0)}}break}while(!0);Uo(r)}function Sg(r,s,l,d,y,_,I,F,se,Ee,De,Fe,Ce,ke){if(r.timeoutHandle=-1,Fe=s.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},pg(s,_,Fe);var it=(_&62914560)===_?ed-at():(_&4194048)===_?yg-at():0;if(it=iw(Fe,it),it!==null){ga=_,r.cancelPendingCommit=it(Ig.bind(null,r,s,_,l,d,y,I,F,se,De,Fe,null,Ce,ke)),nl(r,_,I,!Ee);return}}Ig(r,s,_,l,d,y,I,F,se)}function bb(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],_=y.getSnapshot;y=y.value;try{if(!zi(_(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nl(r,s,l,d){s&=~Yh,s&=~Wl,r.suspendedLanes|=s,r.pingedLanes&=~s,d&&(r.warmLanes|=s),d=r.expirationTimes;for(var y=s;0<y;){var _=31-Ft(y),I=1<<_;d[_]=-1,y&=~I}l!==0&&_r(r,l,s)}function id(){return(un&6)===0?(sf(0),!1):!0}function Zh(){if(Vt!==null){if(hn===0)var r=Vt.return;else r=Vt,Ss=No=null,Ou(r),Ue=null,Xe=0,r=Vt;for(;r!==null;)Zm(r.alternate,r),r=r.return;Vt=null}}function Ku(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Bb(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ga=0,Zh(),xn=r,Vt=l=Mr(r.current,null),Xt=s,hn=0,ss=null,Qa=!1,$u=Yt(r,s),Jh=!1,Ju=os=Yh=Wl=Za=Zn=0,Vr=nf=null,Kh=!1,(s&8)!==0&&(s|=s&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=s;0<d;){var y=31-Ft(d),_=1<<y;s|=r[y],d&=~_}return ma=s,Ol(),l}function Ag(r,s){Tt=null,$.H=Yc,s===le||s===we?(s=Oe(),hn=3):s===_e?(s=Oe(),hn=4):hn=s===kh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ss=s,Vt===null&&(Zn=1,$f(r,Pr(s,r.current)))}function xg(){var r=Yn.current;return r===null?!0:(Xt&4194048)===Xt?fi===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?r===fi:!1}function Eg(){var r=$.H;return $.H=Yc,r===null?Yc:r}function Tg(){var r=$.A;return $.A=vb,r}function rd(){Zn=4,Qa||(Xt&4194048)!==Xt&&Yn.current!==null||($u=!0),(Za&134217727)===0&&(Wl&134217727)===0||xn===null||nl(xn,Xt,os,!1)}function ep(r,s,l){var d=un;un|=2;var y=Eg(),_=Tg();(xn!==r||Xt!==s)&&(nd=null,Ku(r,s)),s=!1;var I=Zn;e:do try{if(hn!==0&&Vt!==null){var F=Vt,se=ss;switch(hn){case 8:Zh(),I=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var Ee=hn;if(hn=0,ss=null,Wu(r,F,se,Ee),l&&$u){I=0;break e}break;default:Ee=hn,hn=0,ss=null,Wu(r,F,se,Ee)}}wb(),I=Zn;break}catch(De){Ag(r,De)}while(!0);return s&&r.shellSuspendCounter++,Ss=No=null,un=d,$.H=y,$.A=_,Vt===null&&(xn=null,Xt=0,Ol()),I}function wb(){for(;Vt!==null;)Ng(Vt)}function _b(r,s){var l=un;un|=2;var d=Eg(),y=Tg();xn!==r||Xt!==s?(nd=null,td=at()+500,Ku(r,s)):$u=Yt(r,s);e:do try{if(hn!==0&&Vt!==null){s=Vt;var _=ss;t:switch(hn){case 1:hn=0,ss=null,Wu(r,s,_,1);break;case 2:case 9:if(Be(_)){hn=0,ss=null,Cg(s);break}s=function(){hn!==2&&hn!==9||xn!==r||(hn=7),Uo(r)},_.then(s,s);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:Be(_)?(hn=0,ss=null,Cg(s)):(hn=0,ss=null,Wu(r,s,_,7));break;case 5:var I=null;switch(Vt.tag){case 26:I=Vt.memoizedState;case 5:case 27:var F=Vt;if(I?h1(I):F.stateNode.complete){hn=0,ss=null;var se=F.sibling;if(se!==null)Vt=se;else{var Ee=F.return;Ee!==null?(Vt=Ee,sd(Ee)):Vt=null}break t}}hn=0,ss=null,Wu(r,s,_,5);break;case 6:hn=0,ss=null,Wu(r,s,_,6);break;case 8:Zh(),Zn=6;break e;default:throw Error(i(462))}}Sb();break}catch(De){Ag(r,De)}while(!0);return Ss=No=null,$.H=d,$.A=y,un=l,Vt!==null?0:(xn=null,Xt=0,Ol(),Zn)}function Sb(){for(;Vt!==null&&!Ke();)Ng(Vt)}function Ng(r){var s=Xm(r.alternate,r,ma);r.memoizedProps=r.pendingProps,s===null?sd(r):Vt=s}function Cg(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=jm(l,s,s.pendingProps,s.type,void 0,Xt);break;case 11:s=jm(l,s,s.pendingProps,s.type.render,s.ref,Xt);break;case 5:Ou(s);default:Zm(l,s),s=Vt=Fl(s,ma),s=Xm(l,s,ma)}r.memoizedProps=r.pendingProps,s===null?sd(r):Vt=s}function Wu(r,s,l,d){Ss=No=null,Ou(s),Ue=null,Xe=0;var y=s.return;try{if(cb(r,y,s,l,Xt)){Zn=1,$f(r,Pr(l,r.current)),Vt=null;return}}catch(_){if(y!==null)throw Vt=y,_;Zn=1,$f(r,Pr(l,r.current)),Vt=null;return}s.flags&32768?(Ht||d===1?r=!0:$u||(Xt&536870912)!==0?r=!1:(Qa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Yn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Rg(s,r)):sd(s)}function sd(r){var s=r;do{if((s.flags&32768)!==0){Rg(s,Qa);return}r=s.return;var l=hb(s.alternate,s,ma);if(l!==null){Vt=l;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=r}while(s!==null);Zn===0&&(Zn=5)}function Rg(r,s){do{var l=pb(r.alternate,r);if(l!==null){l.flags&=32767,Vt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Vt=r;return}Vt=r=l}while(r!==null);Zn=6,Vt=null}function Ig(r,s,l,d,y,_,I,F,se){r.cancelPendingCommit=null;do od();while(Si!==0);if((un&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Au,mt(r,l,_,I,F,se),r===xn&&(Vt=xn=null,Xt=0),Yu=s,tl=r,ga=l,Wh=_,Xh=y,bg=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Tb(tn,function(){return Dg(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=re.p,re.p=2,I=un,un|=4;try{mb(r,s,l)}finally{un=I,re.p=y,$.T=d}}Si=1,kg(),Lg(),Mg()}}function kg(){if(Si===1){Si=0;var r=tl,s=Yu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var d=re.p;re.p=2;var y=un;un|=4;try{fg(s,r);var _=dp,I=ns(r.containerInfo),F=_.focusedElem,se=_.selectionRange;if(I!==F&&F&&F.ownerDocument&&qs(F.ownerDocument.documentElement,F)){if(se!==null&&is(F)){var Ee=se.start,De=se.end;if(De===void 0&&(De=Ee),"selectionStart"in F)F.selectionStart=Ee,F.selectionEnd=Math.min(De,F.value.length);else{var Fe=F.ownerDocument||document,Ce=Fe&&Fe.defaultView||window;if(Ce.getSelection){var ke=Ce.getSelection(),it=F.textContent.length,yt=Math.min(se.start,it),wn=se.end===void 0?yt:Math.min(se.end,it);!ke.extend&&yt>wn&&(I=wn,wn=yt,yt=I);var ye=Ir(F,yt),de=Ir(F,wn);if(ye&&de&&(ke.rangeCount!==1||ke.anchorNode!==ye.node||ke.anchorOffset!==ye.offset||ke.focusNode!==de.node||ke.focusOffset!==de.offset)){var xe=Fe.createRange();xe.setStart(ye.node,ye.offset),ke.removeAllRanges(),yt>wn?(ke.addRange(xe),ke.extend(de.node,de.offset)):(xe.setEnd(de.node,de.offset),ke.addRange(xe))}}}}for(Fe=[],ke=F;ke=ke.parentNode;)ke.nodeType===1&&Fe.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Fe.length;F++){var qe=Fe[F];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}yd=!!fp,dp=fp=null}finally{un=y,re.p=d,$.T=l}}r.current=s,Si=2}}function Lg(){if(Si===2){Si=0;var r=tl,s=Yu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var d=re.p;re.p=2;var y=un;un|=4;try{og(r,s.alternate,s)}finally{un=y,re.p=d,$.T=l}}Si=3}}function Mg(){if(Si===4||Si===3){Si=0,ft();var r=tl,s=Yu,l=ga,d=bg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Si=5:(Si=0,Yu=tl=null,Pg(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(el=null),On(l),s=s.stateNode,Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Bt,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=$.T,y=re.p,re.p=2,$.T=null;try{for(var _=r.onRecoverableError,I=0;I<d.length;I++){var F=d[I];_(F.value,{componentStack:F.stack})}}finally{$.T=s,re.p=y}}(ga&3)!==0&&od(),Uo(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===Qh?rf++:(rf=0,Qh=r):rf=0,sf(0)}}function Pg(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Gl(s)))}function od(){return kg(),Lg(),Mg(),Dg()}function Dg(){if(Si!==5)return!1;var r=tl,s=Wh;Wh=0;var l=On(ga),d=$.T,y=re.p;try{re.p=32>l?32:l,$.T=null,l=Xh,Xh=null;var _=tl,I=ga;if(Si=0,Yu=tl=null,ga=0,(un&6)!==0)throw Error(i(331));var F=un;if(un|=4,gg(_.current),hg(_,_.current,I,l),un=F,sf(0,!1),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Bt,_)}catch{}return!0}finally{re.p=y,$.T=d,Pg(r,s)}}function Ug(r,s,l){s=Pr(l,s),s=Ih(r.stateNode,s,2),r=dn(r,s,2),r!==null&&(Ki(r,2),Uo(r))}function pn(r,s,l){if(r.tag===3)Ug(r,r,l);else for(;s!==null;){if(s.tag===3){Ug(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(el===null||!el.has(d))){r=Pr(l,r),l=Om(2),d=dn(s,l,2),d!==null&&(qm(l,d,s,r),Ki(d,2),Uo(d));break}}s=s.return}}function tp(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new yb;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(l)||(Jh=!0,y.add(l),r=Ab.bind(null,r,s,l),s.then(r,r))}function Ab(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,xn===r&&(Xt&l)===l&&(Zn===4||Zn===3&&(Xt&62914560)===Xt&&300>at()-ed?(un&2)===0&&Ku(r,0):Yh|=l,Ju===Xt&&(Ju=0)),Uo(r)}function Og(r,s){s===0&&(s=ai()),r=Fs(r,s),r!==null&&(Ki(r,s),Uo(r))}function xb(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Og(r,l)}function Eb(r,s){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),Og(r,l)}function Tb(r,s){return Je(r,s)}var ad=null,Xu=null,np=!1,ld=!1,ip=!1,il=0;function Uo(r){r!==Xu&&r.next===null&&(Xu===null?ad=Xu=r:Xu=Xu.next=r),ld=!0,np||(np=!0,Cb())}function sf(r,s){if(!ip&&ld){ip=!0;do for(var l=!1,d=ad;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var I=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-Ft(42|r)+1)-1,_&=y&~(I&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,zg(d,_))}else _=Xt,_=At(d,d===xn?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Yt(d,_)||(l=!0,zg(d,_));d=d.next}while(l);ip=!1}}function Nb(){qg()}function qg(){ld=np=!1;var r=0;il!==0&&qb()&&(r=il);for(var s=at(),l=null,d=ad;d!==null;){var y=d.next,_=Bg(d,s);_===0?(d.next=null,l===null?ad=y:l.next=y,y===null&&(Xu=l)):(l=d,(r!==0||(_&3)!==0)&&(ld=!0)),d=y}Si!==0&&Si!==5||sf(r),il!==0&&(il=0)}function Bg(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var I=31-Ft(_),F=1<<I,se=y[I];se===-1?((F&l)===0||(F&d)!==0)&&(y[I]=Ho(F,s)):se<=s&&(r.expiredLanes|=F),_&=~F}if(s=xn,l=Xt,l=At(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===s&&(hn===2||hn===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&We(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Yt(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(d!==null&&We(d),On(l)){case 2:case 8:l=$t;break;case 32:l=tn;break;case 268435456:l=Ot;break;default:l=tn}return d=Fg.bind(null,r),l=Je(l,d),r.callbackPriority=s,r.callbackNode=l,s}return d!==null&&d!==null&&We(d),r.callbackPriority=2,r.callbackNode=null,2}function Fg(r,s){if(Si!==0&&Si!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(od()&&r.callbackNode!==l)return null;var d=Xt;return d=At(r,r===xn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(_g(r,d,s),Bg(r,at()),r.callbackNode!=null&&r.callbackNode===l?Fg.bind(null,r):null)}function zg(r,s){if(od())return null;_g(r,s,!0)}function Cb(){Fb(function(){(un&6)!==0?Je(Pt,Nb):qg()})}function rp(){if(il===0){var r=m;r===0&&(r=_n,_n<<=1,(_n&261888)===0&&(_n=256)),il=r}return il}function Hg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jo(""+r)}function Gg(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function Rb(r,s,l,d,y){if(s==="submit"&&l&&l.stateNode===y){var _=Hg((y[Tn]||null).action),I=d.submitter;I&&(s=(s=I[Tn]||null)?Hg(s.formAction):I.getAttribute("formAction"),s!==null&&(_=s,I=null));var F=new Yo("action","action",null,d,y);r.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(il!==0){var se=I?Gg(y,I):new FormData(y);xh(l,{pending:!0,data:se,method:y.method,action:_},null,se)}}else typeof _=="function"&&(F.preventDefault(),se=I?Gg(y,I):new FormData(y),xh(l,{pending:!0,data:se,method:y.method,action:_},_,se))},currentTarget:y}]})}}for(var sp=0;sp<_s.length;sp++){var op=_s[sp],Ib=op.toLowerCase(),kb=op[0].toUpperCase()+op.slice(1);Ii(Ib,"on"+kb)}Ii(Fa,"onAnimationEnd"),Ii(cr,"onAnimationIteration"),Ii(bs,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(gn,"onTransitionRun"),Ii(vn,"onTransitionStart"),Ii($n,"onTransitionCancel"),Ii(Xn,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function Vg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],y=d.event;d=d.listeners;e:{var _=void 0;if(s)for(var I=d.length-1;0<=I;I--){var F=d[I],se=F.instance,Ee=F.currentTarget;if(F=F.listener,se!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=Ee;try{_(y)}catch(De){Zo(De)}y.currentTarget=null,_=se}else for(I=0;I<d.length;I++){if(F=d[I],se=F.instance,Ee=F.currentTarget,F=F.listener,se!==_&&y.isPropagationStopped())break e;_=F,y.currentTarget=Ee;try{_(y)}catch(De){Zo(De)}y.currentTarget=null,_=se}}}}function jt(r,s){var l=s[Sr];l===void 0&&(l=s[Sr]=new Set);var d=r+"__bubble";l.has(d)||(jg(s,r,2,!1),l.add(d))}function ap(r,s,l){var d=0;s&&(d|=4),jg(l,r,d,s)}var ud="_reactListening"+Math.random().toString(36).slice(2);function lp(r){if(!r[ud]){r[ud]=!0,Vo.forEach(function(l){l!=="selectionchange"&&(Lb.has(l)||ap(l,!1,r),ap(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ud]||(s[ud]=!0,ap("selectionchange",!1,s))}}function jg(r,s,l,d){switch(w1(s)){case 2:var y=ow;break;case 8:y=aw;break;default:y=Ap}l=y.bind(null,s,l,r),y=void 0,!$o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function up(r,s,l,d,y){var _=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var F=d.stateNode.containerInfo;if(F===y)break;if(I===4)for(I=d.return;I!==null;){var se=I.tag;if((se===3||se===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;F!==null;){if(I=Kr(F),I===null)return;if(se=I.tag,se===5||se===6||se===26||se===27){d=_=I;continue e}F=F.parentNode}}d=d.return}El(function(){var Ee=_,De=Ia(l),Fe=[];e:{var Ce=ws.get(r);if(Ce!==void 0){var ke=Yo,it=r;switch(r){case"keypress":if(Qr(l)===0)break e;case"keydown":case"keyup":ke=Ml;break;case"focusin":it="focus",ke=Cl;break;case"focusout":it="blur",ke=Cl;break;case"beforeblur":case"afterblur":ke=Cl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=P;break;case Fa:case cr:case bs:ke=Mc;break;case Xn:ke=ae;break;case"scroll":case"scrollend":ke=vu;break;case"wheel":ke=Me;break;case"copy":case"cut":case"paste":ke=Il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Da;break;case"toggle":case"beforetoggle":ke=et}var yt=(s&4)!==0,wn=!yt&&(r==="scroll"||r==="scrollend"),ye=yt?Ce!==null?Ce+"Capture":null:Ce;yt=[];for(var de=Ee,xe;de!==null;){var qe=de;if(xe=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||xe===null||ye===null||(qe=fo(de,ye),qe!=null&&yt.push(af(de,qe,xe))),wn)break;de=de.return}0<yt.length&&(Ce=new ke(Ce,it,null,l,De),Fe.push({event:Ce,listeners:yt}))}}if((s&7)===0){e:{if(Ce=r==="mouseover"||r==="pointerover",ke=r==="mouseout"||r==="pointerout",Ce&&l!==xl&&(it=l.relatedTarget||l.fromElement)&&(Kr(it)||it[Ti]))break e;if((ke||Ce)&&(Ce=De.window===De?De:(Ce=De.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,ke?(it=l.relatedTarget||l.toElement,ke=Ee,it=it?Kr(it):null,it!==null&&(wn=a(it),yt=it.tag,it!==wn||yt!==5&&yt!==27&&yt!==6)&&(it=null)):(ke=null,it=Ee),ke!==it)){if(yt=Ps,qe="onMouseLeave",ye="onMouseEnter",de="mouse",(r==="pointerout"||r==="pointerover")&&(yt=Da,qe="onPointerLeave",ye="onPointerEnter",de="pointer"),wn=ke==null?Ce:ao(ke),xe=it==null?Ce:ao(it),Ce=new yt(qe,de+"leave",ke,l,De),Ce.target=wn,Ce.relatedTarget=xe,qe=null,Kr(De)===Ee&&(yt=new yt(ye,de+"enter",it,l,De),yt.target=xe,yt.relatedTarget=wn,qe=yt),wn=qe,ke&&it)t:{for(yt=Mb,ye=ke,de=it,xe=0,qe=ye;qe;qe=yt(qe))xe++;qe=0;for(var ht=de;ht;ht=yt(ht))qe++;for(;0<xe-qe;)ye=yt(ye),xe--;for(;0<qe-xe;)de=yt(de),qe--;for(;xe--;){if(ye===de||de!==null&&ye===de.alternate){yt=ye;break t}ye=yt(ye),de=yt(de)}yt=null}else yt=null;ke!==null&&$g(Fe,Ce,ke,yt,!1),it!==null&&wn!==null&&$g(Fe,wn,it,yt,!0)}}e:{if(Ce=Ee?ao(Ee):window,ke=Ce.nodeName&&Ce.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Ce.type==="file")var sn=Bi;else if(Ua(Ce))if(Qo)sn=Ul;else{sn=Su;var ot=Dl}else ke=Ce.nodeName,!ke||ke.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Ee&&Xr(Ee.elementType)&&(sn=Bi):sn=ts;if(sn&&(sn=sn(r,Ee))){Oa(Fe,sn,l,De);break e}ot&&ot(r,Ce,Ee),r==="focusout"&&Ee&&Ce.type==="number"&&Ee.memoizedProps.value!=null&&Na(Ce,"number",Ce.value)}switch(ot=Ee?ao(Ee):window,r){case"focusin":(Ua(ot)||ot.contentEditable==="true")&&(Ri=ot,_o=Ee,Bs=null);break;case"focusout":Bs=_o=Ri=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,kr(Fe,l,De);break;case"selectionchange":if(Ba)break;case"keydown":case"keyup":kr(Fe,l,De)}var Dt;if(Et)e:{switch(r){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else Ci?gi(r,l)&&(Qt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Qt="onCompositionStart");Qt&&(Rn&&l.locale!=="ko"&&(Ci||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&Ci&&(Dt=po()):(gs=De,Tl="value"in gs?gs.value:gs.textContent,Ci=!0)),ot=cd(Ee,Qt),0<ot.length&&(Qt=new Wo(Qt,r,null,l,De),Fe.push({event:Qt,listeners:ot}),Dt?Qt.data=Dt:(Dt=ni(l),Dt!==null&&(Qt.data=Dt)))),(Dt=Kt?lr(r,l):Ds(r,l))&&(Qt=cd(Ee,"onBeforeInput"),0<Qt.length&&(ot=new Wo("onBeforeInput","beforeinput",null,l,De),Fe.push({event:ot,listeners:Qt}),ot.data=Dt)),Rb(Fe,r,Ee,l,De)}Vg(Fe,s)})}function af(r,s,l){return{instance:r,listener:s,currentTarget:l}}function cd(r,s){for(var l=s+"Capture",d=[];r!==null;){var y=r,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=fo(r,l),y!=null&&d.unshift(af(r,y,_)),y=fo(r,s),y!=null&&d.push(af(r,y,_))),r.tag===3)return d;r=r.return}return[]}function Mb(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $g(r,s,l,d,y){for(var _=s._reactName,I=[];l!==null&&l!==d;){var F=l,se=F.alternate,Ee=F.stateNode;if(F=F.tag,se!==null&&se===d)break;F!==5&&F!==26&&F!==27||Ee===null||(se=Ee,y?(Ee=fo(l,_),Ee!=null&&I.unshift(af(l,Ee,se))):y||(Ee=fo(l,_),Ee!=null&&I.push(af(l,Ee,se)))),l=l.return}I.length!==0&&r.push({event:s,listeners:I})}var Pb=/\r\n?/g,Db=/\u0000|\uFFFD/g;function Jg(r){return(typeof r=="string"?r:""+r).replace(Pb,`
`).replace(Db,"")}function Yg(r,s){return s=Jg(s),Jg(r)===s}function bn(r,s,l,d,y,_){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||ms(r,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&ms(r,""+d);break;case"className":Nn(r,"class",d);break;case"tabIndex":Nn(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(r,l,d);break;case"style":mu(r,d,_);break;case"data":if(s!=="object"){Nn(r,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=jo(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&bn(r,s,"name",y.name,y,null),bn(r,s,"formEncType",y.formEncType,y,null),bn(r,s,"formMethod",y.formMethod,y,null),bn(r,s,"formTarget",y.formTarget,y,null)):(bn(r,s,"encType",y.encType,y,null),bn(r,s,"method",y.method,y,null),bn(r,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=jo(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=Cn);break;case"onScroll":d!=null&&jt("scroll",r);break;case"onScrollEnd":d!=null&&jt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=jo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":jt("beforetoggle",r),jt("toggle",r),Ea(r,"popover",d);break;case"xlinkActuate":xr(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":xr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":xr(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":xr(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":xr(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":xr(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":xr(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":xr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":xr(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ea(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ca.get(l)||l,Ea(r,l,d))}}function cp(r,s,l,d,y,_){switch(l){case"style":mu(r,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof d=="string"?ms(r,d):(typeof d=="number"||typeof d=="bigint")&&ms(r,""+d);break;case"onScroll":d!=null&&jt("scroll",r);break;case"onScrollEnd":d!=null&&jt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),_=r[Tn]||null,_=_!=null?_[l]:null,typeof _=="function"&&r.removeEventListener(s,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,d,y);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):Ea(r,l,d)}}}function ji(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",r),jt("load",r);var d=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var I=l[_];if(I!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bn(r,s,_,I,l,null)}}y&&bn(r,s,"srcSet",l.srcSet,l,null),d&&bn(r,s,"src",l.src,l,null);return;case"input":jt("invalid",r);var F=_=I=y=null,se=null,Ee=null;for(d in l)if(l.hasOwnProperty(d)){var De=l[d];if(De!=null)switch(d){case"name":y=De;break;case"type":I=De;break;case"checked":se=De;break;case"defaultChecked":Ee=De;break;case"value":_=De;break;case"defaultValue":F=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,s));break;default:bn(r,s,d,De,l,null)}}du(r,_,F,se,Ee,I,y,!1);return;case"select":jt("invalid",r),d=I=_=null;for(y in l)if(l.hasOwnProperty(y)&&(F=l[y],F!=null))switch(y){case"value":_=F;break;case"defaultValue":I=F;break;case"multiple":d=F;default:bn(r,s,y,F,l,null)}s=_,l=I,r.multiple=!!d,s!=null?uo(r,!!d,s,!1):l!=null&&uo(r,!!d,l,!0);return;case"textarea":jt("invalid",r),_=y=d=null;for(I in l)if(l.hasOwnProperty(I)&&(F=l[I],F!=null))switch(I){case"value":d=F;break;case"defaultValue":y=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:bn(r,s,I,F,l,null)}hu(r,d,y,_);return;case"option":for(se in l)if(l.hasOwnProperty(se)&&(d=l[se],d!=null))switch(se){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bn(r,s,se,d,l,null)}return;case"dialog":jt("beforetoggle",r),jt("toggle",r),jt("cancel",r),jt("close",r);break;case"iframe":case"object":jt("load",r);break;case"video":case"audio":for(d=0;d<of.length;d++)jt(of[d],r);break;case"image":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"embed":case"source":case"link":jt("error",r),jt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in l)if(l.hasOwnProperty(Ee)&&(d=l[Ee],d!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bn(r,s,Ee,d,l,null)}return;default:if(Xr(s)){for(De in l)l.hasOwnProperty(De)&&(d=l[De],d!==void 0&&cp(r,s,De,d,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!=null&&bn(r,s,F,d,l,null))}function Ub(r,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,I=null,F=null,se=null,Ee=null,De=null;for(ke in l){var Fe=l[ke];if(l.hasOwnProperty(ke)&&Fe!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":se=Fe;default:d.hasOwnProperty(ke)||bn(r,s,ke,null,d,Fe)}}for(var Ce in d){var ke=d[Ce];if(Fe=l[Ce],d.hasOwnProperty(Ce)&&(ke!=null||Fe!=null))switch(Ce){case"type":_=ke;break;case"name":y=ke;break;case"checked":Ee=ke;break;case"defaultChecked":De=ke;break;case"value":I=ke;break;case"defaultValue":F=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,s));break;default:ke!==Fe&&bn(r,s,Ce,ke,d,Fe)}}Ta(r,I,F,se,Ee,De,_,y);return;case"select":ke=I=F=Ce=null;for(_ in l)if(se=l[_],l.hasOwnProperty(_)&&se!=null)switch(_){case"value":break;case"multiple":ke=se;default:d.hasOwnProperty(_)||bn(r,s,_,null,d,se)}for(y in d)if(_=d[y],se=l[y],d.hasOwnProperty(y)&&(_!=null||se!=null))switch(y){case"value":Ce=_;break;case"defaultValue":F=_;break;case"multiple":I=_;default:_!==se&&bn(r,s,y,_,d,se)}s=F,l=I,d=ke,Ce!=null?uo(r,!!l,Ce,!1):!!d!=!!l&&(s!=null?uo(r,!!l,s,!0):uo(r,!!l,l?[]:"",!1));return;case"textarea":ke=Ce=null;for(F in l)if(y=l[F],l.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:bn(r,s,F,null,d,y)}for(I in d)if(y=d[I],_=l[I],d.hasOwnProperty(I)&&(y!=null||_!=null))switch(I){case"value":Ce=y;break;case"defaultValue":ke=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&bn(r,s,I,y,d,_)}Al(r,Ce,ke);return;case"option":for(var it in l)if(Ce=l[it],l.hasOwnProperty(it)&&Ce!=null&&!d.hasOwnProperty(it))switch(it){case"selected":r.selected=!1;break;default:bn(r,s,it,null,d,Ce)}for(se in d)if(Ce=d[se],ke=l[se],d.hasOwnProperty(se)&&Ce!==ke&&(Ce!=null||ke!=null))switch(se){case"selected":r.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:bn(r,s,se,Ce,d,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)Ce=l[yt],l.hasOwnProperty(yt)&&Ce!=null&&!d.hasOwnProperty(yt)&&bn(r,s,yt,null,d,Ce);for(Ee in d)if(Ce=d[Ee],ke=l[Ee],d.hasOwnProperty(Ee)&&Ce!==ke&&(Ce!=null||ke!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,s));break;default:bn(r,s,Ee,Ce,d,ke)}return;default:if(Xr(s)){for(var wn in l)Ce=l[wn],l.hasOwnProperty(wn)&&Ce!==void 0&&!d.hasOwnProperty(wn)&&cp(r,s,wn,void 0,d,Ce);for(De in d)Ce=d[De],ke=l[De],!d.hasOwnProperty(De)||Ce===ke||Ce===void 0&&ke===void 0||cp(r,s,De,Ce,d,ke);return}}for(var ye in l)Ce=l[ye],l.hasOwnProperty(ye)&&Ce!=null&&!d.hasOwnProperty(ye)&&bn(r,s,ye,null,d,Ce);for(Fe in d)Ce=d[Fe],ke=l[Fe],!d.hasOwnProperty(Fe)||Ce===ke||Ce==null&&ke==null||bn(r,s,Fe,Ce,d,ke)}function Kg(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ob(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],_=y.transferSize,I=y.initiatorType,F=y.duration;if(_&&F&&Kg(I)){for(I=0,F=y.responseEnd,d+=1;d<l.length;d++){var se=l[d],Ee=se.startTime;if(Ee>F)break;var De=se.transferSize,Fe=se.initiatorType;De&&Kg(Fe)&&(se=se.responseEnd,I+=De*(se<F?1:(F-Ee)/(se-Ee)))}if(--d,s+=8*(_+I)/(y.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var fp=null,dp=null;function fd(r){return r.nodeType===9?r:r.ownerDocument}function Wg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function hp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pp=null;function qb(){var r=window.event;return r&&r.type==="popstate"?r===pp?!1:(pp=r,!0):(pp=null,!1)}var Qg=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,Fb=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(r){return Zg.resolve(null).then(r).catch(zb)}:Qg;function zb(r){setTimeout(function(){throw r})}function rl(r){return r==="head"}function e1(r,s){var l=s,d=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(y),tc(s);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")lf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,lf(l);for(var _=l.firstChild;_;){var I=_.nextSibling,F=_.nodeName;_[hs]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=I}}else l==="body"&&lf(r.ownerDocument.body);l=y}while(l);tc(s)}function t1(r,s){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function mp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":mp(l),oo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Hb(r,s,l,d){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[hs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Cs(r.nextSibling),r===null)break}return null}function Gb(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Cs(r.nextSibling),r===null))return null;return r}function n1(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Cs(r.nextSibling),r===null))return null;return r}function gp(r){return r.data==="$?"||r.data==="$~"}function vp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Vb(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Cs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var yp=null;function i1(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return Cs(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function r1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function s1(r,s,l){switch(s=fd(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function lf(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);oo(r)}var Rs=new Map,o1=new Set;function dd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var va=re.d;re.d={f:jb,r:$b,D:Jb,C:Yb,L:Kb,m:Wb,X:Qb,S:Xb,M:Zb};function jb(){var r=va.f(),s=id();return r||s}function $b(r){var s=Wr(r);s!==null&&s.tag===5&&s.type==="form"?Am(s):va.r(r)}var Qu=typeof document>"u"?null:document;function a1(r,s,l){var d=Qu;if(d&&typeof s=="string"&&s){var y=Ni(s);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),o1.has(y)||(o1.add(y),r={rel:r,crossOrigin:l,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),ji(s,"link",r),Wn(s),d.head.appendChild(s)))}}function Jb(r){va.D(r),a1("dns-prefetch",r,null)}function Yb(r,s){va.C(r,s),a1("preconnect",r,s)}function Kb(r,s,l){va.L(r,s,l);var d=Qu;if(d&&r&&s){var y='link[rel="preload"][as="'+Ni(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ni(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ni(l.imageSizes)+'"]')):y+='[href="'+Ni(r)+'"]';var _=y;switch(s){case"style":_=Zu(r);break;case"script":_=ec(r)}Rs.has(_)||(r=w({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Rs.set(_,r),d.querySelector(y)!==null||s==="style"&&d.querySelector(uf(_))||s==="script"&&d.querySelector(cf(_))||(s=d.createElement("link"),ji(s,"link",r),Wn(s),d.head.appendChild(s)))}}function Wb(r,s){va.m(r,s);var l=Qu;if(l&&r){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Ni(d)+'"][href="'+Ni(r)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ec(r)}if(!Rs.has(_)&&(r=w({rel:"modulepreload",href:r},s),Rs.set(_,r),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cf(_)))return}d=l.createElement("link"),ji(d,"link",r),Wn(d),l.head.appendChild(d)}}}function Xb(r,s,l){va.S(r,s,l);var d=Qu;if(d&&r){var y=lo(d).hoistableStyles,_=Zu(r);s=s||"default";var I=y.get(_);if(!I){var F={loading:0,preload:null};if(I=d.querySelector(uf(_)))F.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Rs.get(_))&&bp(r,l);var se=I=d.createElement("link");Wn(se),ji(se,"link",r),se._p=new Promise(function(Ee,De){se.onload=Ee,se.onerror=De}),se.addEventListener("load",function(){F.loading|=1}),se.addEventListener("error",function(){F.loading|=2}),F.loading|=4,hd(I,s,d)}I={type:"stylesheet",instance:I,count:1,state:F},y.set(_,I)}}}function Qb(r,s){va.X(r,s);var l=Qu;if(l&&r){var d=lo(l).hoistableScripts,y=ec(r),_=d.get(y);_||(_=l.querySelector(cf(y)),_||(r=w({src:r,async:!0},s),(s=Rs.get(y))&&wp(r,s),_=l.createElement("script"),Wn(_),ji(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function Zb(r,s){va.M(r,s);var l=Qu;if(l&&r){var d=lo(l).hoistableScripts,y=ec(r),_=d.get(y);_||(_=l.querySelector(cf(y)),_||(r=w({src:r,async:!0,type:"module"},s),(s=Rs.get(y))&&wp(r,s),_=l.createElement("script"),Wn(_),ji(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function l1(r,s,l,d){var y=(y=oe.current)?dd(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Zu(l.href),l=lo(y).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Zu(l.href);var _=lo(y).hoistableStyles,I=_.get(r);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,I),(_=y.querySelector(uf(r)))&&!_._p&&(I.instance=_,I.state.loading=5),Rs.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rs.set(r,l),_||ew(y,r,l,I.state))),s&&d===null)throw Error(i(528,""));return I}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ec(l),l=lo(y).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Zu(r){return'href="'+Ni(r)+'"'}function uf(r){return'link[rel="stylesheet"]['+r+"]"}function u1(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function ew(r,s,l,d){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=r.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),ji(s,"link",l),Wn(s),r.head.appendChild(s))}function ec(r){return'[src="'+Ni(r)+'"]'}function cf(r){return"script[async]"+r}function c1(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=r.querySelector('style[data-href~="'+Ni(l.href)+'"]');if(d)return s.instance=d,Wn(d),d;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Wn(d),ji(d,"style",y),hd(d,l.precedence,r),s.instance=d;case"stylesheet":y=Zu(l.href);var _=r.querySelector(uf(y));if(_)return s.state.loading|=4,s.instance=_,Wn(_),_;d=u1(l),(y=Rs.get(y))&&bp(d,y),_=(r.ownerDocument||r).createElement("link"),Wn(_);var I=_;return I._p=new Promise(function(F,se){I.onload=F,I.onerror=se}),ji(_,"link",d),s.state.loading|=4,hd(_,l.precedence,r),s.instance=_;case"script":return _=ec(l.src),(y=r.querySelector(cf(_)))?(s.instance=y,Wn(y),y):(d=l,(y=Rs.get(_))&&(d=w({},l),wp(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),Wn(y),ji(y,"link",d),r.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,hd(d,l.precedence,r));return s.instance}function hd(r,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,I=0;I<d.length;I++){var F=d[I];if(F.dataset.precedence===s)_=F;else if(_!==y)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function bp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function wp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pd=null;function f1(r,s,l){if(pd===null){var d=new Map,y=pd=new Map;y.set(l,d)}else y=pd,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var _=l[y];if(!(_[hs]||_[fn]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(s)||"";I=r+I;var F=d.get(I);F?F.push(_):d.set(I,[_])}}return d}function d1(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function tw(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function nw(r,s,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Zu(d.href),_=s.querySelector(uf(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=md.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=_,Wn(_);return}_=s.ownerDocument||s,d=u1(d),(y=Rs.get(y))&&bp(d,y),_=_.createElement("link"),Wn(_);var I=_;I._p=new Promise(function(F,se){I.onload=F,I.onerror=se}),ji(_,"link",d),l.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=md.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var _p=0;function iw(r,s){return r.stylesheets&&r.count===0&&vd(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&vd(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+s);0<r.imgBytes&&_p===0&&(_p=62500*Ob());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&vd(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>_p?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var gd=null;function vd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,gd=new Map,s.forEach(rw,r),gd=null,md.call(r))}function rw(r,s){if(!(s.state.loading&4)){var l=gd.get(r);if(l)var d=l.get(null);else{l=new Map,gd.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var I=y[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),d=I)}d&&l.set(null,d)}y=s.instance,I=y.getAttribute("data-precedence"),_=l.get(I)||d,_===d&&l.set(null,y),l.set(I,y),this.count++,d=md.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),s.state.loading|=4}}var ff={$$typeof:z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function sw(r,s,l,d,y,_,I,F,se){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function p1(r,s,l,d,y,_,I,F,se,Ee,De,Fe){return r=new sw(r,s,l,I,se,Ee,De,Fe,F),s=1,_===!0&&(s|=24),_=Li(3,null,null,s),r.current=_,_.stateNode=r,s=$a(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:d,isDehydrated:l,cache:s},ln(_),r}function m1(r){return r?(r=vi,r):vi}function g1(r,s,l,d,y,_){y=m1(y),d.context===null?d.context=y:d.pendingContext=y,d=vt(s),d.payload={element:l},_=_===void 0?null:_,_!==null&&(d.callback=_),l=dn(r,d,s),l!==null&&(jr(l,r,s),ui(l,r,s))}function v1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Sp(r,s){v1(r,s),(r=r.alternate)&&v1(r,s)}function y1(r){if(r.tag===13||r.tag===31){var s=Fs(r,67108864);s!==null&&jr(s,r,67108864),Sp(r,67108864)}}function b1(r){if(r.tag===13||r.tag===31){var s=as();s=Vn(s);var l=Fs(r,s);l!==null&&jr(l,r,s),Sp(r,s)}}var yd=!0;function ow(r,s,l,d){var y=$.T;$.T=null;var _=re.p;try{re.p=2,Ap(r,s,l,d)}finally{re.p=_,$.T=y}}function aw(r,s,l,d){var y=$.T;$.T=null;var _=re.p;try{re.p=8,Ap(r,s,l,d)}finally{re.p=_,$.T=y}}function Ap(r,s,l,d){if(yd){var y=xp(d);if(y===null)up(r,s,d,bd,l),_1(r,d);else if(uw(y,r,s,l,d))d.stopPropagation();else if(_1(r,d),s&4&&-1<lw.indexOf(r)){for(;y!==null;){var _=Wr(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=cn(_.pendingLanes);if(I!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var se=1<<31-Ft(I);F.entanglements[1]|=se,I&=~se}Uo(_),(un&6)===0&&(td=at()+500,sf(0))}}break;case 31:case 13:F=Fs(_,2),F!==null&&jr(F,_,2),id(),Sp(_,2)}if(_=xp(d),_===null&&up(r,s,d,bd,l),_===y)break;y=_}y!==null&&d.stopPropagation()}else up(r,s,d,null,l)}}function xp(r){return r=Ia(r),Ep(r)}var bd=null;function Ep(r){if(bd=null,r=Kr(r),r!==null){var s=a(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===31){if(r=c(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return bd=r,null}function w1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Pt:return 2;case $t:return 8;case tn:case St:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Tp=!1,sl=null,ol=null,al=null,df=new Map,hf=new Map,ll=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _1(r,s){switch(r){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":df.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(s.pointerId)}}function pf(r,s,l,d,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},s!==null&&(s=Wr(s),s!==null&&y1(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function uw(r,s,l,d,y){switch(s){case"focusin":return sl=pf(sl,r,s,l,d,y),!0;case"dragenter":return ol=pf(ol,r,s,l,d,y),!0;case"mouseover":return al=pf(al,r,s,l,d,y),!0;case"pointerover":var _=y.pointerId;return df.set(_,pf(df.get(_)||null,r,s,l,d,y)),!0;case"gotpointercapture":return _=y.pointerId,hf.set(_,pf(hf.get(_)||null,r,s,l,d,y)),!0}return!1}function S1(r){var s=Kr(r.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,Go(r.priority,function(){b1(l)});return}}else if(s===31){if(s=c(l),s!==null){r.blockedOn=s,Go(r.priority,function(){b1(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=xp(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);xl=d,l.target.dispatchEvent(d),xl=null}else return s=Wr(l),s!==null&&y1(s),r.blockedOn=l,!1;s.shift()}return!0}function A1(r,s,l){wd(r)&&l.delete(s)}function cw(){Tp=!1,sl!==null&&wd(sl)&&(sl=null),ol!==null&&wd(ol)&&(ol=null),al!==null&&wd(al)&&(al=null),df.forEach(A1),hf.forEach(A1)}function _d(r,s){r.blockedOn===s&&(r.blockedOn=null,Tp||(Tp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cw)))}var Sd=null;function x1(r){Sd!==r&&(Sd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sd===r&&(Sd=null);for(var s=0;s<r.length;s+=3){var l=r[s],d=r[s+1],y=r[s+2];if(typeof d!="function"){if(Ep(d||l)===null)continue;break}var _=Wr(l);_!==null&&(r.splice(s,3),s-=3,xh(_,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function tc(r){function s(se){return _d(se,r)}sl!==null&&_d(sl,r),ol!==null&&_d(ol,r),al!==null&&_d(al,r),df.forEach(s),hf.forEach(s);for(var l=0;l<ll.length;l++){var d=ll[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ll.length&&(l=ll[0],l.blockedOn===null);)S1(l),l.blockedOn===null&&ll.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],_=l[d+1],I=y[Tn]||null;if(typeof _=="function")I||x1(l);else if(I){var F=null;if(_&&_.hasAttribute("formAction")){if(y=_,I=_[Tn]||null)F=I.formAction;else if(Ep(y)!==null)continue}else F=I.action;typeof F=="function"?l[d+1]=F:(l.splice(d,3),d-=3),x1(l)}}}function E1(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function Np(r){this._internalRoot=r}Ad.prototype.render=Np.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,d=as();g1(l,d,r,s,null,null)},Ad.prototype.unmount=Np.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;g1(r.current,2,null,r,null,null),id(),s[Ti]=null}};function Ad(r){this._internalRoot=r}Ad.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wi();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ll.length&&s!==0&&s<ll[l].priority;l++);ll.splice(l,0,r),l===0&&S1(r)}};var T1=e.version;if(T1!=="19.2.3")throw Error(i(527,T1,"19.2.3"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var fw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Bt=xd.inject(fw),Ln=xd}catch{}}return gf.createRoot=function(r,s){if(!o(r))throw Error(i(299));var l=!1,d="",y=Mm,_=Pm,I=Dm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=p1(r,1,!1,null,null,l,d,null,y,_,I,E1),r[Ti]=s.current,lp(r),new Np(s)},gf.hydrateRoot=function(r,s,l){if(!o(r))throw Error(i(299));var d=!1,y="",_=Mm,I=Pm,F=Dm,se=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.formState!==void 0&&(se=l.formState)),s=p1(r,1,!0,s,l??null,d,y,se,_,I,F,E1),s.context=m1(null),l=s.current,d=as(),d=Vn(d),y=vt(d),y.callback=null,dn(l,y,d),l=d,s.current.lanes=l,Ki(s,l),Uo(s),r[Ti]=s.current,lp(r),new Ad(s)},gf.version="19.2.3",gf}var U1;function _w(){if(U1)return Ip.exports;U1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ip.exports=ww(),Ip.exports}var Sw=_w();const Aw=b2(Sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ew=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),O1=t=>{const e=Ew(t);return e.charAt(0).toUpperCase()+e.slice(1)},_2=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Tw=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=pt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...c},f)=>pt.createElement("svg",{ref:f,...Nw,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:_2("lucide",o),...!a&&!Tw(c)&&{"aria-hidden":"true"},...c},[...u.map(([h,g])=>pt.createElement(h,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const n=pt.forwardRef(({className:i,...o},a)=>pt.createElement(Cw,{ref:a,iconNode:e,className:_2(`lucide-${xw(O1(t))}`,`lucide-${t}`,i),...o}));return n.displayName=O1(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Iw=Ut("arrow-right",Rw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],q1=Ut("bed-double",kw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Mw=Ut("car",Lw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$0=Ut("check",Pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uw=Ut("circle-alert",Dw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qw=Ut("circle-check-big",Ow);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S2=Ut("clock",Bw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],zw=Ut("cloud-lightning",Fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],Gw=Ut("cloud-rain",Hw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],jw=Ut("cloud-snow",Vw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Jw=Ut("cloud",$w);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Kw=Ut("copy",Yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],B1=Ut("file-down",Ww);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Qw=Ut("footprints",Xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],e_=Ut("globe",Zw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],n_=Ut("info",t_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],r_=Ut("lightbulb",i_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],o_=Ut("link",s_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tf=Ut("loader-circle",a_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],u_=Ut("log-in",l_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f_=Ut("log-out",c_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A2=Ut("mail",d_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],p_=Ut("map-pin-plus",h_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vd=Ut("map-pin",m_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],x2=Ut("map",g_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],J0=Ut("moon",v_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],b_=Ut("navigation",y_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],E2=Ut("plane",w_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],F1=Ut("share-2",__);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],A_=Ut("shield-alert",S_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],i0=Ut("sparkles",x_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],r0=Ut("star",E_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lu=Ut("sun",T_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],C_=Ut("sunset",N_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]],I_=Ut("train-front",R_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s0=Ut("upload",k_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M_=Ut("user-plus",L_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D_=Ut("user",P_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],O_=Ut("utensils",U_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],B_=Ut("wallet",q_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],T2=Ut("x",F_);var In=(t=>(t.IDLE="IDLE",t.SEARCHING="SEARCHING",t.SELECTING="SELECTING",t.PLANNING="PLANNING",t.VIEWING_PLAN="VIEWING_PLAN",t))(In||{}),z_={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let H_,G_;function V_(){return{geminiUrl:H_,vertexUrl:G_}}function j_(t,e,n,i){var o,a;if(!(t!=null&&t.baseUrl)){const u=V_();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _a{}function tt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let h=0;h<f.length;h++){const g=f[h];v(g,e.slice(a+1),n[h])}else for(const h of f)v(h,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];v(f[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function $_(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),a=i.split("."),u=new Set;let c=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const h=a[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}o0(t,o,a,0,u)}}function o0(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const f of c[u])o0(f,e,n,i+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(h=>!h.startsWith("_")&&!o.has(h)),f={};for(const h of c)f[h]=u[h];for(const[h,g]of Object.entries(f)){const w=[];for(const A of n.slice(i))A==="*"?w.push(h):w.push(A);v(u,w,g)}for(const h of c)delete u[h]}}else{const u=t;a in u&&o0(u[a],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J_(t){const e={},n=p(t,["operationName"]);n!=null&&v(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&v(e,["_url","resourceName"],i),e}function Y_(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&v(e,["response"],W_(u)),e}function K_(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],X_(u)),e}function W_(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Q_(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&v(e,["raiMediaFilteredReasons"],o),e}function X_(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Z_(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&v(e,["raiMediaFilteredReasons"],o),e}function Q_(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],sS(n)),e}function Z_(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],oS(n)),e}function eS(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function tS(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function nS(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],iS(u)),e}function iS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&v(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&v(e,["documentName"],o),e}function N2(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],rS(u)),e}function rS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&v(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&v(e,["documentName"],o),e}function sS(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],Y0(i));const o=p(t,["encoding"]);return o!=null&&v(e,["mimeType"],o),e}function oS(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],Y0(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var z1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(z1||(z1={}));var H1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(H1||(H1={}));var G1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(G1||(G1={}));var zt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zt||(zt={}));var V1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(V1||(V1={}));var j1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(j1||(j1={}));var $1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($1||($1={}));var J1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(J1||(J1={}));var Y1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Y1||(Y1={}));var K1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(K1||(K1={}));var W1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(W1||(W1={}));var X1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(X1||(X1={}));var Q1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Q1||(Q1={}));var Z1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Z1||(Z1={}));var ev;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ev||(ev={}));var tv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tv||(tv={}));var nv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nv||(nv={}));var iv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(iv||(iv={}));var rv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rv||(rv={}));var jd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(jd||(jd={}));var sv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sv||(sv={}));var ov;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ov||(ov={}));var av;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(av||(av={}));var a0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(a0||(a0={}));var lv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lv||(lv={}));var uv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(uv||(uv={}));var cv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cv||(cv={}));var fv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fv||(fv={}));var dv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dv||(dv={}));var hv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hv||(hv={}));var pv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pv||(pv={}));var mv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mv||(mv={}));var gv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gv||(gv={}));var vv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vv||(vv={}));var yv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yv||(yv={}));var bv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bv||(bv={}));var wv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wv||(wv={}));var _v;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_v||(_v={}));var Sv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Sv||(Sv={}));var Av;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Av||(Av={}));var xv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xv||(xv={}));var Ev;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ev||(Ev={}));var Tv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Tv||(Tv={}));var Nv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Nv||(Nv={}));var Cv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cv||(Cv={}));var Rv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Rv||(Rv={}));var Iv;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Iv||(Iv={}));var kv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(kv||(kv={}));var Lv;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Lv||(Lv={}));var Mv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mv||(Mv={}));var Pv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Pv||(Pv={}));var Dv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Dv||(Dv={}));var Uv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Uv||(Uv={}));var Ov;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ov||(Ov={}));var qv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(qv||(qv={}));var vc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(vc||(vc={}));class l0{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class vf{get text(){var e,n,i,o,a,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const w=[];for(const A of(f=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[S,R]of Object.entries(A))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(R!==null||R!==void 0)&&w.push(S);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;g=!0,h+=A.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,n,i,o,a,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const w of(f=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[A,S]of Object.entries(w))A!=="inlineData"&&(S!==null||S!==void 0)&&g.push(A);w.inlineData&&typeof w.inlineData.data=="string"&&(h+=atob(w.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,o,a,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,i,o,a,u,c,f,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(f=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,o,a,u,c,f,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(f=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class Bv{}class Fv{}class aS{}class lS{}class uS{}class cS{}class zv{}class Hv{}class Gv{}class fS{}class $d{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new $d;let o;const a=e;return n?o=K_(a):o=Y_(a),Object.assign(i,o),i}}class Vv{}class jv{}class $v{}class Jv{}class dS{}class hS{}class pS{}class K0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new K0,a=nS(e);return Object.assign(i,a),i}}class mS{}class gS{}class vS{}class Yv{}class yS{get text(){var e,n,i;let o="",a=!1;const u=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,h]of Object.entries(c))f!=="text"&&f!=="thought"&&h!==null&&u.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,o+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="inlineData"&&f!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class bS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class W0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new W0,a=N2(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function an(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function C2(t,e){const n=an(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function R2(t){return Array.isArray(t)?t.map(e=>Jd(e)):[Jd(t)]}function Jd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function I2(t){const e=Jd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k2(t){const e=Jd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function L2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Kv(e)):[Kv(t)]}function u0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Wv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Xv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ar(t){if(t==null)throw new Error("ContentUnion is required");return u0(t)?t:{role:"user",parts:L2(t)}}function X0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=ar(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=ar(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ar(n)):[ar(e)]}function Is(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Wv(t)||Xv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ar(t)]}const e=[],n=[],i=u0(t[0]);for(const o of t){const a=u0(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(Wv(o)||Xv(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:L2(n)}),e}function wS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(zt).includes(n[0].toUpperCase())?n[0].toUpperCase():zt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(zt).includes(i.toUpperCase())?i.toUpperCase():zt.TYPE_UNSPECIFIED})}}function _c(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wS(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(zt).includes(c.toUpperCase())?c.toUpperCase():zt.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=_c(c);else if(i.includes(u)){const f=[];for(const h of c){if(h.type=="null"){e.nullable=!0;continue}f.push(_c(h))}e[u]=f}else if(o.includes(u)){const f={};for(const[h,g]of Object.entries(c))f[h]=_c(g);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Q0(t){return _c(t)}function Z0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function em(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_c(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_c(e.response));return t}function Rc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function _S(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Sa(t,e){if(typeof e!="string")throw new Error("name must be a string");return _S(t,e,"cachedContents")}function M2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function vl(t){return Y0(t)}function SS(t){return t!=null&&typeof t=="object"&&"name"in t}function AS(t){return t!=null&&typeof t=="object"&&"video"in t}function xS(t){return t!=null&&typeof t=="object"&&"uri"in t}function P2(t){var e;let n;if(SS(t)&&(n=t.name),!(xS(t)&&(n=t.uri,n===void 0))&&!(AS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function D2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function U2(t){for(const e of["models","tunedModels","publisherModels"])if(ES(t,e))return t[e];return[]}function ES(t,e){return t!==null&&typeof t=="object"&&e in t}function TS(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function NS(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=TS(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function O2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function CS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function q2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ic(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function B2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(t){const e={},n=p(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>uA(u))),v(e,["inlinedResponses"],a)}const o=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["inlinedEmbedContentResponses"],a)}return e}function IS(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&v(e,["gcsUri"],i);const o=p(t,["bigqueryDestination","outputUri"]);return o!=null&&v(e,["bigqueryUri"],o),e}function kS(t){const e={},n=p(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&v(e,["gcsDestination","outputUriPrefix"],i);const o=p(t,["bigqueryUri"]);if(o!=null&&v(e,["bigqueryDestination","outputUri"],o),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qd(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&v(e,["displayName"],i);const o=p(t,["metadata","state"]);o!=null&&v(e,["state"],B2(o));const a=p(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&v(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const f=p(t,["metadata","model"]);f!=null&&v(e,["model"],f);const h=p(t,["metadata","output"]);return h!=null&&v(e,["dest"],RS(q2(h))),e}function c0(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const o=p(t,["state"]);o!=null&&v(e,["state"],B2(o));const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["createTime"]);u!=null&&v(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&v(e,["startTime"],c);const f=p(t,["endTime"]);f!=null&&v(e,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(e,["updateTime"],h);const g=p(t,["model"]);g!=null&&v(e,["model"],g);const w=p(t,["inputConfig"]);w!=null&&v(e,["src"],LS(w));const A=p(t,["outputConfig"]);A!=null&&v(e,["dest"],IS(q2(A)));const S=p(t,["completionStats"]);return S!=null&&v(e,["completionStats"],S),e}function LS(t){const e={},n=p(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&v(e,["gcsUri"],i);const o=p(t,["bigquerySource","inputUri"]);return o!=null&&v(e,["bigqueryUri"],o),e}function MS(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&v(n,["fileName"],i);const o=p(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>lA(t,u))),v(n,["requests","requests"],a)}return n}function PS(t){const e={},n=p(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&v(e,["gcsSource","uris"],i);const o=p(t,["bigqueryUri"]);if(o!=null&&v(e,["bigquerySource","inputUri"],o),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function DS(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function US(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function OS(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function qS(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],BS(i));const o=p(t,["tokenCount"]);o!=null&&v(e,["tokenCount"],o);const a=p(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&v(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&v(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["safetyRatings"],A)}const w=p(t,["urlContextMetadata"]);return w!=null&&v(e,["urlContextMetadata"],w),e}function BS(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["citations"],i)}return e}function F2(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gA(a))),v(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function FS(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&v(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function zS(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=p(t,["dest"]);return e!==void 0&&o!=null&&v(e,["outputConfig"],kS(CS(o))),n}function Qv(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["src"]);o!=null&&v(n,["batch","inputConfig"],MS(t,O2(t,o)));const a=p(e,["config"]);return a!=null&&FS(a,n),n}function HS(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],an(t,i));const o=p(e,["src"]);o!=null&&v(n,["inputConfig"],PS(O2(t,o)));const a=p(e,["config"]);return a!=null&&zS(a,n),n}function GS(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&v(e,["batch","displayName"],i),n}function VS(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["src"]);o!=null&&v(n,["batch","inputConfig"],XS(t,o));const a=p(e,["config"]);return a!=null&&GS(a,n),n}function jS(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function $S(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function JS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);return a!=null&&v(e,["error"],a),e}function YS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);return a!=null&&v(e,["error"],a),e}function KS(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=X0(t,i);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["requests[]","request","content"],a)}const o=p(e,["config"]);return o!=null&&(v(n,["_self"],WS(o,n)),$_(n,{"requests[].*":"requests[].request.*"})),n}function WS(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&v(e,["requests[]","title"],o);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XS(t,e){const n={},i=p(e,["fileName"]);i!=null&&v(n,["file_name"],i);const o=p(e,["inlinedRequests"]);return o!=null&&v(n,["requests"],KS(t,o)),n}function QS(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function ZS(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const i=p(t,["args"]);i!=null&&v(e,["args"],i);const o=p(t,["name"]);if(o!=null&&v(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eA(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tA(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],F2(ar(o)));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const c=p(e,["topK"]);c!=null&&v(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const g=p(e,["stopSequences"]);g!=null&&v(i,["stopSequences"],g);const w=p(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const A=p(e,["logprobs"]);A!=null&&v(i,["logprobs"],A);const S=p(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const R=p(e,["frequencyPenalty"]);R!=null&&v(i,["frequencyPenalty"],R);const N=p(e,["seed"]);N!=null&&v(i,["seed"],N);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const C=p(e,["responseSchema"]);C!=null&&v(i,["responseSchema"],Q0(C));const U=p(e,["responseJsonSchema"]);if(U!=null&&v(i,["responseJsonSchema"],U),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(n!==void 0&&z!=null){let ie=z;Array.isArray(ie)&&(ie=ie.map(ee=>vA(ee))),v(n,["safetySettings"],ie)}const Z=p(e,["tools"]);if(n!==void 0&&Z!=null){let ie=Rc(Z);Array.isArray(ie)&&(ie=ie.map(ee=>bA(Cc(ee)))),v(n,["tools"],ie)}const fe=p(e,["toolConfig"]);if(n!==void 0&&fe!=null&&v(n,["toolConfig"],yA(fe)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=p(e,["cachedContent"]);n!==void 0&&pe!=null&&v(n,["cachedContent"],Sa(t,pe));const Q=p(e,["responseModalities"]);Q!=null&&v(i,["responseModalities"],Q);const K=p(e,["mediaResolution"]);K!=null&&v(i,["mediaResolution"],K);const me=p(e,["speechConfig"]);if(me!=null&&v(i,["speechConfig"],Z0(me)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=p(e,["thinkingConfig"]);Te!=null&&v(i,["thinkingConfig"],Te);const V=p(e,["imageConfig"]);V!=null&&v(i,["imageConfig"],aA(V));const j=p(e,["enableEnhancedCivicAnswers"]);return j!=null&&v(i,["enableEnhancedCivicAnswers"],j),i}function nA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>qS(h))),v(e,["candidates"],f)}const o=p(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&v(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function iA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function rA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ic(t,i)),n}function sA(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function oA(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function aA(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&v(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lA(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["request","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let c=Is(o);Array.isArray(c)&&(c=c.map(f=>F2(f))),v(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&v(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&v(n,["request","generationConfig"],tA(t,u,p(n,["request"],{}))),n}function uA(t){const e={},n=p(t,["response"]);n!=null&&v(e,["response"],nA(n));const i=p(t,["error"]);return i!=null&&v(e,["error"],i),e}function cA(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);if(e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function fA(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function dA(t){const e={},n=p(t,["config"]);return n!=null&&cA(n,e),e}function hA(t){const e={},n=p(t,["config"]);return n!=null&&fA(n,e),e}function pA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>qd(u))),v(e,["batchJobs"],a)}return e}function mA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>c0(u))),v(e,["batchJobs"],a)}return e}function gA(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&v(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],QS(a));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],ZS(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&v(e,["inlineData"],DS(f));const h=p(t,["text"]);h!=null&&v(e,["text"],h);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const w=p(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function vA(t){const e={},n=p(t,["category"]);if(n!=null&&v(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function yA(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],eA(n));const i=p(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function bA(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(w=>w)),v(e,["functionDeclarations"],g)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&v(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&v(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],sA(c));const f=p(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],oA(f));const h=p(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(wa||(wa={}));class uu{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(wa.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Qv(this.apiClient,e),i=n._url,o=tt("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,f=c.requests,h=[];for(const g of f){const w=Object.assign({},g);if(w.systemInstruction){const A=w.systemInstruction;delete w.systemInstruction;const S=w.request;S.systemInstruction=A,w.request=S}h.push(w)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=HS(this.apiClient,e);return c=tt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>c0(g))}else{const h=Qv(this.apiClient,e);return c=tt("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>qd(g))}}async createEmbeddingsInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VS(this.apiClient,e);return a=tt("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>qd(f))}}async get(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=rA(this.apiClient,e);return c=tt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>c0(g))}else{const h=iA(this.apiClient,e);return c=tt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>qd(g))}}async cancel(e){var n,i,o,a;let u="",c={};if(this.apiClient.isVertexAI()){const f=OS(this.apiClient,e);u=tt("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=US(this.apiClient,e);u=tt("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=hA(e);return c=tt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=mA(g),A=new Yv;return Object.assign(A,w),A})}else{const h=dA(e);return c=tt("batches",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=pA(g),A=new Yv;return Object.assign(A,w),A})}}async delete(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=$S(this.apiClient,e);return c=tt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>YS(g))}else{const h=jS(this.apiClient,e);return c=tt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>JS(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Zv(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>VA(a))),v(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function SA(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const o=p(t,["expireTime"]);e!==void 0&&o!=null&&v(e,["expireTime"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let g=Is(u);Array.isArray(g)&&(g=g.map(w=>Zv(w))),v(e,["contents"],g)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],Zv(ar(c)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(w=>$A(w))),v(e,["tools"],g)}const h=p(t,["toolConfig"]);if(e!==void 0&&h!=null&&v(e,["toolConfig"],jA(h)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function AA(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const o=p(t,["expireTime"]);e!==void 0&&o!=null&&v(e,["expireTime"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let w=Is(u);Array.isArray(w)&&(w=w.map(A=>A)),v(e,["contents"],w)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],ar(c));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let w=f;Array.isArray(w)&&(w=w.map(A=>JA(A))),v(e,["tools"],w)}const h=p(t,["toolConfig"]);e!==void 0&&h!=null&&v(e,["toolConfig"],h);const g=p(t,["kmsKeyName"]);return e!==void 0&&g!=null&&v(e,["encryption_spec","kmsKeyName"],g),n}function xA(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],C2(t,i));const o=p(e,["config"]);return o!=null&&SA(o,n),n}function EA(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],C2(t,i));const o=p(e,["config"]);return o!=null&&AA(o,n),n}function TA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Sa(t,i)),n}function NA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Sa(t,i)),n}function CA(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function RA(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function IA(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function kA(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const i=p(t,["args"]);i!=null&&v(e,["args"],i);const o=p(t,["name"]);if(o!=null&&v(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LA(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MA(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const o=p(t,["parameters"]);o!=null&&v(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function PA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Sa(t,i)),n}function DA(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Sa(t,i)),n}function UA(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function OA(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function qA(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),n}function BA(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),n}function FA(t){const e={},n=p(t,["config"]);return n!=null&&qA(n,e),e}function zA(t){const e={},n=p(t,["config"]);return n!=null&&BA(n,e),e}function HA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["cachedContents"],a)}return e}function GA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["cachedContents"],a)}return e}function VA(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&v(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],IA(a));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],kA(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&v(e,["inlineData"],_A(f));const h=p(t,["text"]);h!=null&&v(e,["text"],h);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const w=p(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function jA(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],LA(n));const i=p(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function $A(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(w=>w)),v(e,["functionDeclarations"],g)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&v(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&v(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],UA(c));const f=p(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],OA(f));const h=p(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function JA(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(A=>MA(A))),v(e,["functionDeclarations"],w)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&v(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&v(e,["googleMaps"],f);const h=p(t,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=p(t,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function YA(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const o=p(t,["expireTime"]);return e!==void 0&&o!=null&&v(e,["expireTime"],o),n}function KA(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const o=p(t,["expireTime"]);return e!==void 0&&o!=null&&v(e,["expireTime"],o),n}function WA(t,e){const n={},i=p(e,["name"]);i!=null&&v(n,["_url","name"],Sa(t,i));const o=p(e,["config"]);return o!=null&&YA(o,n),n}function XA(t,e){const n={},i=p(e,["name"]);i!=null&&v(n,["_url","name"],Sa(t,i));const o=p(e,["config"]);return o!=null&&KA(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QA extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(wa.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=EA(this.apiClient,e);return c=tt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=xA(this.apiClient,e);return c=tt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=DA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=PA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=NA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=RA(g),A=new $v;return Object.assign(A,w),A})}else{const h=TA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=CA(g),A=new $v;return Object.assign(A,w),A})}}async update(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=XA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=WA(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=zA(e);return c=tt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=GA(g),A=new Jv;return Object.assign(A,w),A})}else{const h=FA(e);return c=tt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=HA(g),A=new Jv;return Object.assign(A,w),A})}}}function Yd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function ey(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(t){return this instanceof It?(this.v=t,this):new It(t)}function eo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(R){return Promise.resolve(R).then(S,w)}}function c(S,R){i[S]&&(o[S]=function(N){return new Promise(function(k,C){a.push([S,N,k,C])>1||f(S,N)})},R&&(o[S]=R(o[S])))}function f(S,R){try{h(i[S](R))}catch(N){A(a[0][3],N)}}function h(S){S.value instanceof It?Promise.resolve(S.value.v).then(g,w):A(a[0][2],S)}function g(S){f("next",S)}function w(S){f("throw",S)}function A(S,R){S(R),a.shift(),a.length&&f(a[0][0],a[0][1])}}function to(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ey=="function"?ey(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(c,f){u=t[a](u),o(c,f,u.done,u.value)})}}function o(a,u,c,f){Promise.resolve(f).then(function(h){a({value:h,done:c})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZA(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:z2(n)}function z2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function e3(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ty(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!z2(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class t3{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new n3(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class n3{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),e3(a)}async sendMessage(e){var n;await this.sendPromise;const i=ar(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const f=await o,h=(u=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,g=f.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let A=[];g!=null&&(A=(c=g.slice(w))!==null&&c!==void 0?c:[]);const S=h?[h]:[];this.recordHistory(i,S,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=ar(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?ty(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return eo(this,arguments,function*(){var o,a,u,c,f,h;const g=[];try{for(var w=!0,A=to(e),S;S=yield It(A.next()),o=S.done,!o;w=!0){c=S.value,w=!1;const R=c;if(ZA(R)){const N=(h=(f=R.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;N!==void 0&&g.push(N)}yield yield It(R)}}catch(R){a={error:R}}finally{try{!w&&!o&&(u=A.return)&&(yield It(u.call(A)))}finally{if(a)throw a.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...ty(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,nh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i3(t){const e={},n=p(t,["file"]);return n!=null&&v(e,["file"],n),e}function r3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function s3(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],P2(n)),e}function o3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function a3(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],P2(n)),e}function l3(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),n}function u3(t){const e={},n=p(t,["config"]);return n!=null&&l3(n,e),e}function c3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f3 extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(wa.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=u3(e);return a=tt("files",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=c3(f),g=new mS;return Object.assign(g,h),g})}}async createInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=i3(e);return a=tt("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=r3(f),g=new gS;return Object.assign(g,h),g})}}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a3(e);return a=tt("files/{file}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=s3(e);return a=tt("files/{file}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=o3(f),g=new vS;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bd(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function d3(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>C3(a))),v(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function h3(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function p3(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const i=p(t,["args"]);i!=null&&v(e,["args"],i);const o=p(t,["name"]);if(o!=null&&v(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m3(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const o=p(t,["parameters"]);o!=null&&v(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function g3(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&v(e,["responseJsonSchema"],i);const o=p(t,["audioTimestamp"]);o!=null&&v(e,["audioTimestamp"],o);const a=p(t,["candidateCount"]);a!=null&&v(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&v(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const h=p(t,["maxOutputTokens"]);h!=null&&v(e,["maxOutputTokens"],h);const g=p(t,["mediaResolution"]);g!=null&&v(e,["mediaResolution"],g);const w=p(t,["presencePenalty"]);w!=null&&v(e,["presencePenalty"],w);const A=p(t,["responseLogprobs"]);A!=null&&v(e,["responseLogprobs"],A);const S=p(t,["responseMimeType"]);S!=null&&v(e,["responseMimeType"],S);const R=p(t,["responseModalities"]);R!=null&&v(e,["responseModalities"],R);const N=p(t,["responseSchema"]);N!=null&&v(e,["responseSchema"],N);const k=p(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const C=p(t,["seed"]);C!=null&&v(e,["seed"],C);const U=p(t,["speechConfig"]);U!=null&&v(e,["speechConfig"],U);const z=p(t,["stopSequences"]);z!=null&&v(e,["stopSequences"],z);const Z=p(t,["temperature"]);Z!=null&&v(e,["temperature"],Z);const fe=p(t,["thinkingConfig"]);fe!=null&&v(e,["thinkingConfig"],fe);const pe=p(t,["topK"]);pe!=null&&v(e,["topK"],pe);const Q=p(t,["topP"]);if(Q!=null&&v(e,["topP"],Q),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function v3(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function y3(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function b3(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&v(e,["setup","systemInstruction"],d3(ar(R)));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let pe=Rc(N);Array.isArray(pe)&&(pe=pe.map(Q=>I3(Cc(Q)))),v(e,["setup","tools"],pe)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],R3(k));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","inputAudioTranscription"],C);const U=p(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const Z=p(t,["contextWindowCompression"]);e!==void 0&&Z!=null&&v(e,["setup","contextWindowCompression"],Z);const fe=p(t,["proactivity"]);if(e!==void 0&&fe!=null&&v(e,["setup","proactivity"],fe),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function w3(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],g3(i));const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&v(e,["setup","systemInstruction"],ar(R));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let Q=Rc(N);Array.isArray(Q)&&(Q=Q.map(K=>k3(Cc(K)))),v(e,["setup","tools"],Q)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],k);const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","inputAudioTranscription"],C);const U=p(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const Z=p(t,["contextWindowCompression"]);e!==void 0&&Z!=null&&v(e,["setup","contextWindowCompression"],Z);const fe=p(t,["proactivity"]);e!==void 0&&fe!=null&&v(e,["setup","proactivity"],fe);const pe=p(t,["explicitVadSignal"]);return e!==void 0&&pe!=null&&v(e,["setup","explicitVadSignal"],pe),n}function _3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],an(t,i));const o=p(e,["config"]);return o!=null&&v(n,["config"],b3(o,n)),n}function S3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],an(t,i));const o=p(e,["config"]);return o!=null&&v(n,["config"],w3(o,n)),n}function A3(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function x3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["weightedPrompts"],i)}return e}function E3(t){const e={},n=p(t,["media"]);if(n!=null){let h=R2(n);Array.isArray(h)&&(h=h.map(g=>Bd(g))),v(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&v(e,["audio"],Bd(k2(i)));const o=p(t,["audioStreamEnd"]);o!=null&&v(e,["audioStreamEnd"],o);const a=p(t,["video"]);a!=null&&v(e,["video"],Bd(I2(a)));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function T3(t){const e={},n=p(t,["media"]);if(n!=null){let h=R2(n);Array.isArray(h)&&(h=h.map(g=>g)),v(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&v(e,["audio"],k2(i));const o=p(t,["audioStreamEnd"]);o!=null&&v(e,["audioStreamEnd"],o);const a=p(t,["video"]);a!=null&&v(e,["video"],I2(a));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function N3(t){const e={},n=p(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&v(e,["serverContent"],i);const o=p(t,["toolCall"]);o!=null&&v(e,["toolCall"],o);const a=p(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&v(e,["usageMetadata"],L3(u));const c=p(t,["goAway"]);c!=null&&v(e,["goAway"],c);const f=p(t,["sessionResumptionUpdate"]);f!=null&&v(e,["sessionResumptionUpdate"],f);const h=p(t,["voiceActivityDetectionSignal"]);return h!=null&&v(e,["voiceActivityDetectionSignal"],h),e}function C3(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&v(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],h3(a));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],p3(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&v(e,["inlineData"],Bd(f));const h=p(t,["text"]);h!=null&&v(e,["text"],h);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const w=p(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function R3(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(w=>w)),v(e,["functionDeclarations"],g)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&v(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&v(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],v3(c));const f=p(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],y3(f));const h=p(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function k3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(A=>m3(A))),v(e,["functionDeclarations"],w)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&v(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&v(e,["googleMaps"],f);const h=p(t,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=p(t,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function L3(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&v(e,["cachedContentTokenCount"],i);const o=p(t,["candidatesTokenCount"]);o!=null&&v(e,["responseTokenCount"],o);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&v(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const f=p(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(R=>R)),v(e,["promptTokensDetails"],S)}const h=p(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(R=>R)),v(e,["cacheTokensDetails"],S)}const g=p(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(R=>R)),v(e,["responseTokensDetails"],S)}const w=p(t,["toolUsePromptTokensDetails"]);if(w!=null){let S=w;Array.isArray(S)&&(S=S.map(R=>R)),v(e,["toolUsePromptTokensDetails"],S)}const A=p(t,["trafficType"]);return A!=null&&v(e,["trafficType"],A),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M3(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function P3(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],D3(i));const o=p(t,["tokenCount"]);o!=null&&v(e,["tokenCount"],o);const a=p(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&v(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&v(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["safetyRatings"],A)}const w=p(t,["urlContextMetadata"]);return w!=null&&v(e,["urlContextMetadata"],w),e}function D3(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["citations"],i)}return e}function U3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let a=Is(o);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["contents"],a)}return n}function O3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["tokensInfo"],o)}return e}function q3(t){const e={},n=p(t,["values"]);n!=null&&v(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&v(e,["statistics"],B3(i)),e}function B3(t){const e={},n=p(t,["truncated"]);n!=null&&v(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&v(e,["tokenCount"],i),e}function ih(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Y4(a))),v(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function F3(t){const e={},n=p(t,["controlType"]);n!=null&&v(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&v(e,["computeControl"],i),e}function z3(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function H3(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],ar(i));const o=p(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>j2(c))),v(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],M4(a)),n}function G3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let u=Is(o);Array.isArray(u)&&(u=u.map(c=>ih(c))),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&z3(a),n}function V3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let u=Is(o);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&H3(a,n),n}function j3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&v(e,["totalTokens"],i);const o=p(t,["cachedContentTokenCount"]);return o!=null&&v(e,["cachedContentTokenCount"],o),e}function $3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&v(e,["totalTokens"],i),e}function J3(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],an(t,i)),n}function Y3(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],an(t,i)),n}function K3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function W3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function X3(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=p(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const w=p(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&v(e,["parameters","includeSafetyAttributes"],w);const A=p(t,["includeRaiReason"]);e!==void 0&&A!=null&&v(e,["parameters","includeRaiReason"],A);const S=p(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const R=p(t,["outputMimeType"]);e!==void 0&&R!=null&&v(e,["parameters","outputOptions","mimeType"],R);const N=p(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&v(e,["parameters","outputOptions","compressionQuality"],N);const k=p(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const C=p(t,["labels"]);e!==void 0&&C!=null&&v(e,["labels"],C);const U=p(t,["editMode"]);e!==void 0&&U!=null&&v(e,["parameters","editMode"],U);const z=p(t,["baseSteps"]);return e!==void 0&&z!=null&&v(e,["parameters","editConfig","baseSteps"],z),n}function Q3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>ex(f))),v(n,["instances[0]","referenceImages"],c)}const u=p(e,["config"]);return u!=null&&X3(u,n),n}function Z3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>rh(a))),v(e,["generatedImages"],o)}return e}function e4(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&v(e,["requests[]","title"],o);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function t4(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const o=p(t,["title"]);e!==void 0&&o!=null&&v(e,["instances[]","title"],o);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&v(e,["instances[]","mimeType"],u);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&v(e,["parameters","autoTruncate"],c),n}function n4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let c=X0(t,o);Array.isArray(c)&&(c=c.map(f=>f)),v(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&e4(a,n);const u=p(e,["model"]);return u!==void 0&&v(n,["requests[]","model"],an(t,u)),n}function i4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let u=X0(t,o);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&t4(a,n),n}function r4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["embeddings"],a)}const o=p(t,["metadata"]);return o!=null&&v(e,["metadata"],o),e}function s4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>q3(u))),v(e,["embeddings"],a)}const o=p(t,["metadata"]);return o!=null&&v(e,["metadata"],o),e}function o4(t){const e={},n=p(t,["endpoint"]);n!=null&&v(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&v(e,["deployedModelId"],i),e}function a4(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function l4(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const i=p(t,["args"]);i!=null&&v(e,["args"],i);const o=p(t,["name"]);if(o!=null&&v(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u4(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&v(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function c4(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const o=p(t,["parameters"]);o!=null&&v(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&v(e,["responseJsonSchema"],c),e}function f4(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],ih(ar(o)));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const c=p(e,["topK"]);c!=null&&v(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const g=p(e,["stopSequences"]);g!=null&&v(i,["stopSequences"],g);const w=p(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const A=p(e,["logprobs"]);A!=null&&v(i,["logprobs"],A);const S=p(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const R=p(e,["frequencyPenalty"]);R!=null&&v(i,["frequencyPenalty"],R);const N=p(e,["seed"]);N!=null&&v(i,["seed"],N);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const C=p(e,["responseSchema"]);C!=null&&v(i,["responseSchema"],Q0(C));const U=p(e,["responseJsonSchema"]);if(U!=null&&v(i,["responseJsonSchema"],U),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(n!==void 0&&z!=null){let ie=z;Array.isArray(ie)&&(ie=ie.map(ee=>tx(ee))),v(n,["safetySettings"],ie)}const Z=p(e,["tools"]);if(n!==void 0&&Z!=null){let ie=Rc(Z);Array.isArray(ie)&&(ie=ie.map(ee=>lx(Cc(ee)))),v(n,["tools"],ie)}const fe=p(e,["toolConfig"]);if(n!==void 0&&fe!=null&&v(n,["toolConfig"],ax(fe)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const pe=p(e,["cachedContent"]);n!==void 0&&pe!=null&&v(n,["cachedContent"],Sa(t,pe));const Q=p(e,["responseModalities"]);Q!=null&&v(i,["responseModalities"],Q);const K=p(e,["mediaResolution"]);K!=null&&v(i,["mediaResolution"],K);const me=p(e,["speechConfig"]);if(me!=null&&v(i,["speechConfig"],Z0(me)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=p(e,["thinkingConfig"]);Te!=null&&v(i,["thinkingConfig"],Te);const V=p(e,["imageConfig"]);V!=null&&v(i,["imageConfig"],q4(V));const j=p(e,["enableEnhancedCivicAnswers"]);return j!=null&&v(i,["enableEnhancedCivicAnswers"],j),i}function d4(t,e,n){const i={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],ar(o));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const c=p(e,["topK"]);c!=null&&v(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const g=p(e,["stopSequences"]);g!=null&&v(i,["stopSequences"],g);const w=p(e,["responseLogprobs"]);w!=null&&v(i,["responseLogprobs"],w);const A=p(e,["logprobs"]);A!=null&&v(i,["logprobs"],A);const S=p(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const R=p(e,["frequencyPenalty"]);R!=null&&v(i,["frequencyPenalty"],R);const N=p(e,["seed"]);N!=null&&v(i,["seed"],N);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const C=p(e,["responseSchema"]);C!=null&&v(i,["responseSchema"],Q0(C));const U=p(e,["responseJsonSchema"]);U!=null&&v(i,["responseJsonSchema"],U);const z=p(e,["routingConfig"]);z!=null&&v(i,["routingConfig"],z);const Z=p(e,["modelSelectionConfig"]);Z!=null&&v(i,["modelConfig"],Z);const fe=p(e,["safetySettings"]);if(n!==void 0&&fe!=null){let $=fe;Array.isArray($)&&($=$.map(re=>re)),v(n,["safetySettings"],$)}const pe=p(e,["tools"]);if(n!==void 0&&pe!=null){let $=Rc(pe);Array.isArray($)&&($=$.map(re=>j2(Cc(re)))),v(n,["tools"],$)}const Q=p(e,["toolConfig"]);n!==void 0&&Q!=null&&v(n,["toolConfig"],Q);const K=p(e,["labels"]);n!==void 0&&K!=null&&v(n,["labels"],K);const me=p(e,["cachedContent"]);n!==void 0&&me!=null&&v(n,["cachedContent"],Sa(t,me));const Te=p(e,["responseModalities"]);Te!=null&&v(i,["responseModalities"],Te);const V=p(e,["mediaResolution"]);V!=null&&v(i,["mediaResolution"],V);const j=p(e,["speechConfig"]);j!=null&&v(i,["speechConfig"],Z0(j));const ie=p(e,["audioTimestamp"]);ie!=null&&v(i,["audioTimestamp"],ie);const ee=p(e,["thinkingConfig"]);ee!=null&&v(i,["thinkingConfig"],ee);const Ie=p(e,["imageConfig"]);if(Ie!=null&&v(i,["imageConfig"],B4(Ie)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function ny(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let u=Is(o);Array.isArray(u)&&(u=u.map(c=>ih(c))),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&v(n,["generationConfig"],f4(t,a,n)),n}function iy(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["contents"]);if(o!=null){let u=Is(o);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&v(n,["generationConfig"],d4(t,a,n)),n}function ry(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>P3(h))),v(e,["candidates"],f)}const o=p(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&v(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function sy(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["candidates"],h)}const o=p(t,["createTime"]);o!=null&&v(e,["createTime"],o);const a=p(t,["modelVersion"]);a!=null&&v(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&v(e,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&v(e,["responseId"],c);const f=p(t,["usageMetadata"]);return f!=null&&v(e,["usageMetadata"],f),e}function h4(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","mimeType"],w);const A=p(t,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&v(e,["parameters","outputOptions","compressionQuality"],A),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&v(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function p4(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&v(e,["parameters","negativePrompt"],o);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&v(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=p(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const w=p(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&v(e,["parameters","includeSafetyAttributes"],w);const A=p(t,["includeRaiReason"]);e!==void 0&&A!=null&&v(e,["parameters","includeRaiReason"],A);const S=p(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const R=p(t,["outputMimeType"]);e!==void 0&&R!=null&&v(e,["parameters","outputOptions","mimeType"],R);const N=p(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&v(e,["parameters","outputOptions","compressionQuality"],N);const k=p(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const C=p(t,["labels"]);e!==void 0&&C!=null&&v(e,["labels"],C);const U=p(t,["imageSize"]);e!==void 0&&U!=null&&v(e,["parameters","sampleImageSize"],U);const z=p(t,["enhancePrompt"]);return e!==void 0&&z!=null&&v(e,["parameters","enhancePrompt"],z),n}function m4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const a=p(e,["config"]);return a!=null&&h4(a,n),n}function g4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const a=p(e,["config"]);return a!=null&&p4(a,n),n}function v4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>R4(u))),v(e,["generatedImages"],a)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&v(e,["positivePromptSafetyAttributes"],G2(o)),e}function y4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>rh(u))),v(e,["generatedImages"],a)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&v(e,["positivePromptSafetyAttributes"],V2(o)),e}function b4(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(t,["durationSeconds"]);if(e!==void 0&&o!=null&&v(e,["parameters","durationSeconds"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const h=p(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=p(t,["lastFrame"]);e!==void 0&&g!=null&&v(e,["instances[0]","lastFrame"],sh(g));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let A=w;Array.isArray(A)&&(A=A.map(S=>_x(S))),v(e,["instances[0]","referenceImages"],A)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function w4(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=p(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&v(e,["parameters","durationSeconds"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const h=p(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const g=p(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const w=p(t,["pubsubTopic"]);e!==void 0&&w!=null&&v(e,["parameters","pubsubTopic"],w);const A=p(t,["negativePrompt"]);e!==void 0&&A!=null&&v(e,["parameters","negativePrompt"],A);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","enhancePrompt"],S);const R=p(t,["generateAudio"]);e!==void 0&&R!=null&&v(e,["parameters","generateAudio"],R);const N=p(t,["lastFrame"]);e!==void 0&&N!=null&&v(e,["instances[0]","lastFrame"],no(N));const k=p(t,["referenceImages"]);if(e!==void 0&&k!=null){let z=k;Array.isArray(z)&&(z=z.map(Z=>Sx(Z))),v(e,["instances[0]","referenceImages"],z)}const C=p(t,["mask"]);e!==void 0&&C!=null&&v(e,["instances[0]","mask"],wx(C));const U=p(t,["compressionQuality"]);return e!==void 0&&U!=null&&v(e,["parameters","compressionQuality"],U),n}function _4(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&v(e,["response"],E4(u)),e}function S4(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],T4(u)),e}function A4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const a=p(e,["image"]);a!=null&&v(n,["instances[0]","image"],sh(a));const u=p(e,["video"]);u!=null&&v(n,["instances[0]","video"],$2(u));const c=p(e,["source"]);c!=null&&N4(c,n);const f=p(e,["config"]);return f!=null&&b4(f,n),n}function x4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const a=p(e,["image"]);a!=null&&v(n,["instances[0]","image"],no(a));const u=p(e,["video"]);u!=null&&v(n,["instances[0]","video"],J2(u));const c=p(e,["source"]);c!=null&&C4(c,n);const f=p(e,["config"]);return f!=null&&w4(f,n),n}function E4(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>k4(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&v(e,["raiMediaFilteredReasons"],o),e}function T4(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>L4(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&v(e,["raiMediaFilteredReasons"],o),e}function N4(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],sh(o));const a=p(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],$2(a)),n}function C4(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],no(o));const a=p(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],J2(a)),n}function R4(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],F4(n));const i=p(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const o=p(t,["_self"]);return o!=null&&v(e,["safetyAttributes"],G2(o)),e}function rh(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],H2(n));const i=p(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const o=p(t,["_self"]);o!=null&&v(e,["safetyAttributes"],V2(o));const a=p(t,["prompt"]);return a!=null&&v(e,["enhancedPrompt"],a),e}function I4(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["mask"],H2(n));const i=p(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["labels"],o)}return e}function k4(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],yx(n)),e}function L4(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],bx(n)),e}function M4(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&v(e,["responseJsonSchema"],i);const o=p(t,["audioTimestamp"]);o!=null&&v(e,["audioTimestamp"],o);const a=p(t,["candidateCount"]);a!=null&&v(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&v(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const h=p(t,["maxOutputTokens"]);h!=null&&v(e,["maxOutputTokens"],h);const g=p(t,["mediaResolution"]);g!=null&&v(e,["mediaResolution"],g);const w=p(t,["presencePenalty"]);w!=null&&v(e,["presencePenalty"],w);const A=p(t,["responseLogprobs"]);A!=null&&v(e,["responseLogprobs"],A);const S=p(t,["responseMimeType"]);S!=null&&v(e,["responseMimeType"],S);const R=p(t,["responseModalities"]);R!=null&&v(e,["responseModalities"],R);const N=p(t,["responseSchema"]);N!=null&&v(e,["responseSchema"],N);const k=p(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const C=p(t,["seed"]);C!=null&&v(e,["seed"],C);const U=p(t,["speechConfig"]);U!=null&&v(e,["speechConfig"],U);const z=p(t,["stopSequences"]);z!=null&&v(e,["stopSequences"],z);const Z=p(t,["temperature"]);Z!=null&&v(e,["temperature"],Z);const fe=p(t,["thinkingConfig"]);fe!=null&&v(e,["thinkingConfig"],fe);const pe=p(t,["topK"]);pe!=null&&v(e,["topK"],pe);const Q=p(t,["topP"]);if(Q!=null&&v(e,["topP"],Q),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function P4(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],an(t,i)),n}function D4(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],an(t,i)),n}function U4(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function O4(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function q4(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&v(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function B4(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const i=p(t,["imageSize"]);i!=null&&v(e,["imageSize"],i);const o=p(t,["outputMimeType"]);o!=null&&v(e,["imageOutputOptions","mimeType"],o);const a=p(t,["outputCompressionQuality"]);return a!=null&&v(e,["imageOutputOptions","compressionQuality"],a),e}function F4(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],vl(n));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function H2(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["imageBytes"],vl(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function sh(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],vl(n));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function no(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&v(e,["bytesBase64Encoded"],vl(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function z4(t,e,n){const i={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],D2(t,c)),i}function H4(t,e,n){const i={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],D2(t,c)),i}function G4(t,e){const n={},i=p(e,["config"]);return i!=null&&z4(t,i,n),n}function V4(t,e){const n={},i=p(e,["config"]);return i!=null&&H4(t,i,n),n}function j4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["_self"]);if(o!=null){let a=U2(o);Array.isArray(a)&&(a=a.map(u=>f0(u))),v(e,["models"],a)}return e}function $4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["_self"]);if(o!=null){let a=U2(o);Array.isArray(a)&&(a=a.map(u=>d0(u))),v(e,["models"],a)}return e}function J4(t){const e={},n=p(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&v(e,["maskClasses"],i);const o=p(t,["maskDilation"]);return o!=null&&v(e,["dilation"],o),e}function f0(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const o=p(t,["description"]);o!=null&&v(e,["description"],o);const a=p(t,["version"]);a!=null&&v(e,["version"],a);const u=p(t,["_self"]);u!=null&&v(e,["tunedModelInfo"],ux(u));const c=p(t,["inputTokenLimit"]);c!=null&&v(e,["inputTokenLimit"],c);const f=p(t,["outputTokenLimit"]);f!=null&&v(e,["outputTokenLimit"],f);const h=p(t,["supportedGenerationMethods"]);h!=null&&v(e,["supportedActions"],h);const g=p(t,["temperature"]);g!=null&&v(e,["temperature"],g);const w=p(t,["maxTemperature"]);w!=null&&v(e,["maxTemperature"],w);const A=p(t,["topP"]);A!=null&&v(e,["topP"],A);const S=p(t,["topK"]);S!=null&&v(e,["topK"],S);const R=p(t,["thinking"]);return R!=null&&v(e,["thinking"],R),e}function d0(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const o=p(t,["description"]);o!=null&&v(e,["description"],o);const a=p(t,["versionId"]);a!=null&&v(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let w=u;Array.isArray(w)&&(w=w.map(A=>o4(A))),v(e,["endpoints"],w)}const c=p(t,["labels"]);c!=null&&v(e,["labels"],c);const f=p(t,["_self"]);f!=null&&v(e,["tunedModelInfo"],cx(f));const h=p(t,["defaultCheckpointId"]);h!=null&&v(e,["defaultCheckpointId"],h);const g=p(t,["checkpoints"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(A=>A)),v(e,["checkpoints"],w)}return e}function Y4(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&v(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],a4(a));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],l4(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&v(e,["inlineData"],M3(f));const h=p(t,["text"]);h!=null&&v(e,["text"],h);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const w=p(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function K4(t){const e={},n=p(t,["productImage"]);return n!=null&&v(e,["image"],no(n)),e}function W4(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const o=p(t,["baseSteps"]);e!==void 0&&o!=null&&v(e,["parameters","baseSteps"],o);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const h=p(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const g=p(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const A=p(t,["enhancePrompt"]);e!==void 0&&A!=null&&v(e,["parameters","enhancePrompt"],A);const S=p(t,["labels"]);return e!==void 0&&S!=null&&v(e,["labels"],S),n}function X4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["source"]);o!=null&&Z4(o,n);const a=p(e,["config"]);return a!=null&&W4(a,n),n}function Q4(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rh(o))),v(e,["generatedImages"],i)}return e}function Z4(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=p(t,["personImage"]);e!==void 0&&o!=null&&v(e,["instances[0]","personImage","image"],no(o));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>K4(c))),v(e,["instances[0]","productImages"],u)}return n}function ex(t){const e={},n=p(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],no(n));const i=p(t,["referenceId"]);i!=null&&v(e,["referenceId"],i);const o=p(t,["referenceType"]);o!=null&&v(e,["referenceType"],o);const a=p(t,["maskImageConfig"]);a!=null&&v(e,["maskImageConfig"],J4(a));const u=p(t,["controlImageConfig"]);u!=null&&v(e,["controlImageConfig"],F3(u));const c=p(t,["styleImageConfig"]);c!=null&&v(e,["styleImageConfig"],c);const f=p(t,["subjectImageConfig"]);return f!=null&&v(e,["subjectImageConfig"],f),e}function G2(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const o=p(t,["contentType"]);return o!=null&&v(e,["contentType"],o),e}function V2(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const o=p(t,["contentType"]);return o!=null&&v(e,["contentType"],o),e}function tx(t){const e={},n=p(t,["category"]);if(n!=null&&v(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function nx(t){const e={},n=p(t,["image"]);return n!=null&&v(e,["image"],no(n)),e}function ix(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const o=p(t,["maxPredictions"]);e!==void 0&&o!=null&&v(e,["parameters","maxPredictions"],o);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&v(e,["parameters","maskDilation"],u);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&v(e,["parameters","binaryColorThreshold"],c);const f=p(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),n}function rx(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["source"]);o!=null&&ox(o,n);const a=p(e,["config"]);return a!=null&&ix(a,n),n}function sx(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>I4(o))),v(e,["generatedMasks"],i)}return e}function ox(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const o=p(t,["image"]);e!==void 0&&o!=null&&v(e,["instances[0]","image"],no(o));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&v(e,["instances[0]","scribble"],nx(a)),n}function ax(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],u4(n));const i=p(t,["retrievalConfig"]);return i!=null&&v(e,["retrievalConfig"],i),e}function lx(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(w=>w)),v(e,["functionDeclarations"],g)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&v(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&v(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],U4(c));const f=p(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],O4(f));const h=p(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function j2(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(A=>c4(A))),v(e,["functionDeclarations"],w)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const o=p(t,["googleSearchRetrieval"]);o!=null&&v(e,["googleSearchRetrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&v(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&v(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&v(e,["enterpriseWebSearch"],c);const f=p(t,["googleMaps"]);f!=null&&v(e,["googleMaps"],f);const h=p(t,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=p(t,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function ux(t){const e={},n=p(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=p(t,["updateTime"]);return o!=null&&v(e,["updateTime"],o),e}function cx(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=p(t,["updateTime"]);return o!=null&&v(e,["updateTime"],o),e}function fx(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function dx(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function hx(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","name"],an(t,i));const o=p(e,["config"]);return o!=null&&fx(o,n),n}function px(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["config"]);return o!=null&&dx(o,n),n}function mx(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&v(e,["parameters","safetySetting"],o);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=p(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const w=p(t,["labels"]);e!==void 0&&w!=null&&v(e,["labels"],w);const A=p(t,["numberOfImages"]);e!==void 0&&A!=null&&v(e,["parameters","sampleCount"],A);const S=p(t,["mode"]);return e!==void 0&&S!=null&&v(e,["parameters","mode"],S),n}function gx(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],an(t,i));const o=p(e,["image"]);o!=null&&v(n,["instances[0]","image"],no(o));const a=p(e,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&mx(u,n),n}function vx(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>rh(a))),v(e,["generatedImages"],o)}return e}function yx(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],vl(i));const o=p(t,["encoding"]);return o!=null&&v(e,["mimeType"],o),e}function bx(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],vl(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function wx(t){const e={},n=p(t,["image"]);n!=null&&v(e,["_self"],no(n));const i=p(t,["maskMode"]);return i!=null&&v(e,["maskMode"],i),e}function _x(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],sh(n));const i=p(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function Sx(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],no(n));const i=p(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function $2(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&v(e,["encodedVideo"],vl(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["encoding"],o),e}function J2(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&v(e,["bytesBase64Encoded"],vl(i));const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ax(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&v(e,["displayName"],i),n}function xx(t){const e={},n=p(t,["config"]);return n!=null&&Ax(n,e),e}function Ex(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),n}function Tx(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&Ex(i,e),e}function Nx(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Cx(t,e){const n={},i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["customMetadata"],a)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&v(e,["chunkingConfig"],o),n}function Rx(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const o=p(t,["done"]);o!=null&&v(e,["done"],o);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],kx(u)),e}function Ix(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const i=p(t,["fileName"]);i!=null&&v(e,["fileName"],i);const o=p(t,["config"]);return o!=null&&Cx(o,e),e}function kx(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&v(e,["parent"],i);const o=p(t,["documentName"]);return o!=null&&v(e,["documentName"],o),e}function Lx(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),n}function Mx(t){const e={},n=p(t,["config"]);return n!=null&&Lx(n,e),e}function Px(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["fileSearchStores"],a)}return e}function Y2(t,e){const n={},i=p(t,["mimeType"]);e!==void 0&&i!=null&&v(e,["mimeType"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&v(e,["chunkingConfig"],u),n}function Dx(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const i=p(t,["config"]);return i!=null&&Y2(i,e),e}function Ux(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ox="Content-Type",qx="X-Server-Timeout",Bx="User-Agent",h0="x-goog-api-client",Fx="1.34.0",zx=`google-genai-sdk/${Fx}`,Hx="v1beta1",Gx="v1beta";class Vx{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Hx,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Gx,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))o.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const a=new AbortController,u=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&jx(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await oy(o),new l0(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await oy(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return eo(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield It(o.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const w=a.decode(g,{stream:!0});try{const R=JSON.parse(w);if("error"in R){const N=JSON.parse(JSON.stringify(R.error)),k=N.status,C=N.code,U=`got status: ${k}. ${JSON.stringify(R)}`;if(C>=400&&C<600)throw new nh({message:U,status:C})}}catch(R){if(R.name==="ApiError")throw R}u+=w;let A=-1,S=0;for(;;){A=-1,S=0;for(const k of f){const C=u.indexOf(k);C!==-1&&(A===-1||C<A)&&(A=C,S=k.length)}if(A===-1)break;const R=u.substring(0,A);u=u.substring(A+S);const N=R.trim();if(N.startsWith(c)){const k=N.substring(c.length).trim();try{const C=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield It(new l0(C))}catch(C){throw new Error(`exception parsing stream chunk ${k}. ${C}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=zx+" "+this.clientOptions.userAgentExtra;return e[Bx]=n,e[h0]=n,e[Ox]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))i.append(o,a);e.timeout&&e.timeout>0&&i.append(qx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);o.sizeBytes=String(u.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=c;const f={file:o},h=this.getFileName(e),g=tt("upload/v1beta/files",f._url),w=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,h,f,n==null?void 0:n.httpOptions);return a.upload(e,w,this)}async uploadFileToFileSearchStore(e,n,i){var o;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),f=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),w={};i!=null&&Y2(i,w);const A=await this.fetchUploadUrl(h,c,f,g,w,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,A,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,a,u){var c;let f={};u?f=u:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function oy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new nh({message:o,status:n}):new Error(o)}}function jx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const c=Object.assign({},a);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const h=u[f],g=c[f];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?c[f]=i(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),c[f]=h)}return c}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $x="mcp_used/unknown";let Jx=!1;function K2(t){for(const e of t)if(Yx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Jx}function W2(t){var e;const n=(e=t[h0])!==null&&e!==void 0?e:"";t[h0]=(n+` ${$x}`).trimStart()}function Yx(t){return t!==null&&typeof t=="object"&&t instanceof tm}function Kx(t){return eo(this,arguments,function*(n,i=100){let o,a=0;for(;a<i;){const u=yield It(n.listTools({cursor:o}));for(const c of u.tools)yield yield It(c),a++;if(!u.nextCursor)break;o=u.nextCursor}})}class tm{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new tm(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},u=[];for(const g of this.mcpClients)try{for(var c=!0,f=(n=void 0,to(Kx(g))),h;h=await f.next(),e=h.done,!e;c=!0){o=h.value,c=!1;const w=o;u.push(w);const A=w.name;if(a[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);a[A]=g}}catch(w){n={error:w}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),NS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wx(t,e,n){const i=new bS;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class Xx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=eE(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const g=new Promise(z=>{h=z}),w=e.callbacks,A=function(){h({})},S=this.apiClient,R={onopen:A,onmessage:z=>{Wx(S,w.onmessage,z)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(z){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(z){}},N=this.webSocketFactory.create(f,Zx(u),R);N.connect(),await g;const U={setup:{model:an(this.apiClient,e.model)}};return N.send(JSON.stringify(U)),new Qx(N,this.apiClient)}}class Qx{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=x3(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=A3(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(vc.PLAY)}pause(){this.sendPlaybackControl(vc.PAUSE)}stop(){this.sendPlaybackControl(vc.STOP)}resetContext(){this.sendPlaybackControl(vc.RESET_CONTEXT)}close(){this.conn.close()}}function Zx(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function eE(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nE(t,e,n){const i=new yS;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const u=N3(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class iE{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Xx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const w=this.apiClient.getHeaders();e.config&&e.config.tools&&K2(e.config.tools)&&W2(w);const A=aE(w);if(this.apiClient.isVertexAI())g=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,g);else{const me=this.apiClient.getApiKey();let Te="BidiGenerateContent",V="key";me!=null&&me.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",V="access_token"),g=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Te}?${V}=${me}`}let S=()=>{};const R=new Promise(me=>{S=me}),N=e.callbacks,k=function(){var me;(me=N==null?void 0:N.onopen)===null||me===void 0||me.call(N),S({})},C=this.apiClient,U={onopen:k,onmessage:me=>{nE(C,N.onmessage,me)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(me){},onclose:(i=N==null?void 0:N.onclose)!==null&&i!==void 0?i:function(me){}},z=this.webSocketFactory.create(g,oE(A),U);z.connect(),await R;let Z=an(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const me=this.apiClient.getProject(),Te=this.apiClient.getLocation();Z=`projects/${me}/locations/${Te}/`+Z}let fe={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[jd.AUDIO]}:e.config.responseModalities=[jd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const pe=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],Q=[];for(const me of pe)if(this.isCallableTool(me)){const Te=me;Q.push(await Te.tool())}else Q.push(me);Q.length>0&&(e.config.tools=Q);const K={model:Z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?fe=S3(this.apiClient,K):fe=_3(this.apiClient,K),delete fe.config,z.send(JSON.stringify(fe)),new sE(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rE={turnComplete:!0};class sE{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Is(n.turns),e.isVertexAI()||(i=i.map(o=>ih(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(tE)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},rE),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:T3(e)}:n={realtimeInput:E3(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oE(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function aE(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ay=10;function ly(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Sc(u)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Sc(t){return"callTool"in t&&typeof t.callTool=="function"}function lE(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Sc(o)))!==null&&i!==void 0?i:!1}function uy(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Sc(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function cy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uE extends _a{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,u,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lE(n)||ly(n.config))return await this.generateContentInternal(f);const h=uy(n);if(h.length>0){const N=h.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let g,w;const A=Is(f.contents),S=(a=(o=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:ay;let R=0;for(;R<S&&(g=await this.generateContentInternal(f),!(!g.functionCalls||g.functionCalls.length===0));){const N=g.candidates[0].content,k=[];for(const C of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(Sc(C)){const z=await C.callTool(g.functionCalls);k.push(...z)}R++,w={role:"user",parts:k},f.contents=Is(f.contents),f.contents.push(N),f.contents.push(w),cy(f.config)&&(A.push(N),A.push(w))}return cy(f.config)&&(g.automaticFunctionCallingHistory=A),g},this.generateContentStream=async n=>{var i,o,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),ly(n.config)){const w=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(w)}const f=uy(n);if(f.length>0){const w=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Incompatible tools found at ${w}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,g=(c=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const u=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:u.push(f);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new uu(wa.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,a,u,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async f=>Sc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&K2(e.config.tools)){const f=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),W2(h),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Sc(u)){const c=u,f=await c.tool();for(const h of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,c)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ay;let u=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(h,g,w){return eo(this,arguments,function*(){for(var A,S,R,N,k,C;c<a;){u&&(c++,u=!1);const fe=yield It(h.processParamsMaybeAddMcpUsage(w)),pe=yield It(h.generateContentStreamInternal(fe)),Q=[],K=[];try{for(var U=!0,z=(S=void 0,to(pe)),Z;Z=yield It(z.next()),A=Z.done,!A;U=!0){N=Z.value,U=!1;const me=N;if(yield yield It(me),me.candidates&&(!((k=me.candidates[0])===null||k===void 0)&&k.content)){K.push(me.candidates[0].content);for(const Te of(C=me.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(c<a&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(Te.functionCall.name)){const V=yield It(g.get(Te.functionCall.name).callTool([Te.functionCall]));Q.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(me){S={error:me}}finally{try{!U&&!A&&(R=z.return)&&(yield It(R.call(z)))}finally{if(S)throw S.error}}if(Q.length>0){u=!0;const me=new vf;me.candidates=[{content:{role:"user",parts:Q}}],yield yield It(me);const Te=[];Te.push(...K),Te.push({role:"user",parts:Q});const V=Is(w.contents).concat(Te);w.contents=V}else break}})})(this,f,e)}async generateContentInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=iy(this.apiClient,e);return c=tt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=sy(g),A=new vf;return Object.assign(A,w),A})}else{const h=ny(this.apiClient,e);return c=tt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=ry(g),A=new vf;return Object.assign(A,w),A})}}async generateContentStreamInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=iy(this.apiClient,e);return c=tt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(w){return eo(this,arguments,function*(){var A,S,R,N;try{for(var k=!0,C=to(w),U;U=yield It(C.next()),A=U.done,!A;k=!0){N=U.value,k=!1;const z=N,Z=sy(yield It(z.json()));Z.sdkHttpResponse={headers:z.headers};const fe=new vf;Object.assign(fe,Z),yield yield It(fe)}}catch(z){S={error:z}}finally{try{!k&&!A&&(R=C.return)&&(yield It(R.call(C)))}finally{if(S)throw S.error}}})})}else{const h=ny(this.apiClient,e);return c=tt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(w){return eo(this,arguments,function*(){var A,S,R,N;try{for(var k=!0,C=to(w),U;U=yield It(C.next()),A=U.done,!A;k=!0){N=U.value,k=!1;const z=N,Z=ry(yield It(z.json()));Z.sdkHttpResponse={headers:z.headers};const fe=new vf;Object.assign(fe,Z),yield yield It(fe)}}catch(z){S={error:z}}finally{try{!k&&!A&&(R=C.return)&&(yield It(R.call(C)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=i4(this.apiClient,e);return c=tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=s4(g),A=new Bv;return Object.assign(A,w),A})}else{const h=n4(this.apiClient,e);return c=tt("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=r4(g),A=new Bv;return Object.assign(A,w),A})}}async generateImagesInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=g4(this.apiClient,e);return c=tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=y4(g),A=new Fv;return Object.assign(A,w),A})}else{const h=m4(this.apiClient,e);return c=tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=v4(g),A=new Fv;return Object.assign(A,w),A})}}async editImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=Q3(this.apiClient,e);return a=tt("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Z3(f),g=new aS;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=gx(this.apiClient,e);return a=tt("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=vx(f),g=new lS;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=X4(this.apiClient,e);return a=tt("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Q4(f),g=new uS;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=rx(this.apiClient,e);return a=tt("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=sx(f),g=new cS;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=D4(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>d0(g))}else{const h=P4(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>f0(g))}}async listInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=V4(this.apiClient,e);return c=tt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=$4(g),A=new zv;return Object.assign(A,w),A})}else{const h=G4(this.apiClient,e);return c=tt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=j4(g),A=new zv;return Object.assign(A,w),A})}}async update(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=px(this.apiClient,e);return c=tt("{model}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>d0(g))}else{const h=hx(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>f0(g))}}async delete(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=Y3(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=W3(g),A=new Hv;return Object.assign(A,w),A})}else{const h=J3(this.apiClient,e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=K3(g),A=new Hv;return Object.assign(A,w),A})}}async countTokens(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=V3(this.apiClient,e);return c=tt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=$3(g),A=new Gv;return Object.assign(A,w),A})}else{const h=G3(this.apiClient,e);return c=tt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=j3(g),A=new Gv;return Object.assign(A,w),A})}}async computeTokens(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=U3(this.apiClient,e);return a=tt("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=O3(f),g=new fS;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=x4(this.apiClient,e);return c=tt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const w=S4(g),A=new $d;return Object.assign(A,w),A})}else{const h=A4(this.apiClient,e);return c=tt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const w=_4(g),A=new $d;return Object.assign(A,w),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cE extends _a{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=tS(e);return c=tt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u}else{const h=eS(e);return c=tt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=J_(e);return a=tt("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function dE(t){const e={},n=p(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>_E(a))),v(e,["parts"],o)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function hE(t,e,n){const i={},o=p(e,["expireTime"]);n!==void 0&&o!=null&&v(n,["expireTime"],o);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&v(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],wE(t,c));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),i}function pE(t,e){const n={},i=p(e,["config"]);return i!=null&&v(n,["config"],hE(t,i,n)),n}function mE(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function gE(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const i=p(t,["args"]);i!=null&&v(e,["args"],i);const o=p(t,["name"]);if(o!=null&&v(e,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vE(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function yE(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function bE(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const o=p(t,["responseModalities"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","responseModalities"],o);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const w=p(t,["speechConfig"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","speechConfig"],em(w));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&v(e,["setup","systemInstruction"],dE(ar(R)));const N=p(t,["tools"]);if(e!==void 0&&N!=null){let pe=Rc(N);Array.isArray(pe)&&(pe=pe.map(Q=>AE(Cc(Q)))),v(e,["setup","tools"],pe)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],SE(k));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&v(e,["setup","inputAudioTranscription"],C);const U=p(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const Z=p(t,["contextWindowCompression"]);e!==void 0&&Z!=null&&v(e,["setup","contextWindowCompression"],Z);const fe=p(t,["proactivity"]);if(e!==void 0&&fe!=null&&v(e,["setup","proactivity"],fe),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function wE(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],an(t,i));const o=p(e,["config"]);return o!=null&&v(n,["config"],bE(o,n)),n}function _E(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const o=p(t,["executableCode"]);o!=null&&v(e,["executableCode"],o);const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],mE(a));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],gE(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&v(e,["inlineData"],fE(f));const h=p(t,["text"]);h!=null&&v(e,["text"],h);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const w=p(t,["thoughtSignature"]);w!=null&&v(e,["thoughtSignature"],w);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function SE(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AE(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(w=>w)),v(e,["functionDeclarations"],g)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);o!=null&&v(e,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&v(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],vE(c));const f=p(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],yE(f));const h=p(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function EE(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=xE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];o.length>0&&(c=o.map(h=>u.includes(h)?`generationConfig.${h}`:h));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class TE extends _a{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=pE(this.apiClient,e);a=tt("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const f=EE(c,e.config);return o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),n}function CE(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&NE(i,e),e}function RE(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function IE(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);return e!==void 0&&o!=null&&v(e,["_query","pageToken"],o),n}function kE(t){const e={},n=p(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const i=p(t,["config"]);return i!=null&&IE(i,e),e}function LE(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const o=p(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ME extends _a{constructor(e){super(),this.apiClient=e,this.list=async n=>new uu(wa.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=RE(e);return a=tt("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CE(e);o=tt("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kE(e);return a=tt("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=LE(f),g=new dS;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PE extends _a{constructor(e,n=new ME(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new uu(wa.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xx(e);return a=tt("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Nx(e);return a=tt("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,i;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tx(e);o=tt("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Mx(e);return a=tt("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Px(f),g=new hS;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Dx(e);return a=tt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Ux(f),g=new pS;return Object.assign(g,h),g})}}async importFile(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ix(e);return a=tt("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Rx(f),g=new K0;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let X2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return X2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const DE=()=>X2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const m0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ks extends Error{}class yr extends ks{constructor(e,n,i,o){super(`${yr.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new oh({message:i,cause:m0(n)});const a=n;return e===400?new Z2(e,a,i,o):e===401?new e5(e,a,i,o):e===403?new t5(e,a,i,o):e===404?new n5(e,a,i,o):e===409?new i5(e,a,i,o):e===422?new r5(e,a,i,o):e===429?new s5(e,a,i,o):e>=500?new o5(e,a,i,o):new yr(e,a,i,o)}}class g0 extends yr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class oh extends yr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Q2 extends oh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Z2 extends yr{}class e5 extends yr{}class t5 extends yr{}class n5 extends yr{}class i5 extends yr{}class r5 extends yr{}class s5 extends yr{}class o5 extends yr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UE=/^[a-z][a-z0-9+.-]*:/i,OE=t=>UE.test(t);let v0=t=>(v0=Array.isArray,v0(t));const qE=v0;let BE=qE;const fy=BE;function FE(t){if(!t)return!0;for(const e in t)return!1;return!0}function zE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const HE=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ks(`${t} must be an integer`);if(e<0)throw new ks(`${t} must be a positive integer`);return e},GE=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $E=()=>{var t,e,n,i,o;const a=jE();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fc,"X-Stainless-OS":hy(Deno.build.os),"X-Stainless-Arch":dy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fc,"X-Stainless-OS":hy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":dy((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=JE();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JE(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${o}.${a}.${u}`}}}return null}const dy=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",hy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ed;const YE=()=>Ed??(Ed=$E());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function a5(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function WE(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return a5({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function l5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XE(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QE=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u5=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pp(t,e,n){return u5(),new File(t,e??"unknown_file",n)}function ZE(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const eT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c5=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",tT=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&c5(t),nT=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function iT(t,e,n){if(u5(),t=await t,tT(t))return t instanceof File?t:Pp([await t.arrayBuffer()],t.name);if(nT(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pp(await y0(o),e,n)}const i=await y0(t);if(e||(e=ZE(t)),!(n!=null&&n.type)){const o=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Pp(i,e,n)}async function y0(t){var e,n,i,o,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(c5(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(eT(t))try{for(var c=!0,f=to(t),h;h=await f.next(),e=h.done,!e;c=!0){o=h.value,c=!1;const g=o;u.push(...await y0(g))}}catch(g){n={error:g}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}else{const g=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${rT(t)}`)}return u}function rT(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f5{constructor(e){this._client=e}}f5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d5(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const py=Object.freeze(Object.create(null)),sT=(t=d5)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const a=[],u=n.reduce((g,w,A)=>{var S,R,N;/[?#]/.test(w)&&(o=!0);const k=i[A];let C=(o?encodeURIComponent:t)(""+k);return A!==i.length&&(k==null||typeof k=="object"&&k.toString===((N=Object.getPrototypeOf((R=Object.getPrototypeOf((S=k.hasOwnProperty)!==null&&S!==void 0?S:py))!==null&&R!==void 0?R:py))===null||N===void 0?void 0:N.toString))&&(C=k+"",a.push({start:g.length+w.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),g+w+(A===i.length?"":C)},""),c=u.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(c))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((g,w)=>g.start-w.start),a.length>0){let g=0;const w=a.reduce((A,S)=>{const R=" ".repeat(S.start-g),N="^".repeat(S.length);return g=S.start+S.length,A+R+N},"");throw new ks(`Path parameters result in path with invalid segments:
${a.map(A=>A.error).join(`
`)}
${u}
${w}`)}return u}),Td=sT(d5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h5 extends f5{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,a=Yd(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ks("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ks("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Td`/${o}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Td`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Td`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=Yd(a,["api_version"]);return this._client.get(Td`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}h5._key=Object.freeze(["interactions"]);class p5 extends h5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oT(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let Nd;function nm(t){let e;return(Nd??(e=new globalThis.TextEncoder,Nd=e.encode.bind(e)))(t)}let Cd;function my(t){let e;return(Cd??(e=new globalThis.TextDecoder,Cd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ah{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?nm(e):e;this.buffer=oT([this.buffer,n]);const i=[];let o;for(;(o=aT(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(my(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=my(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}ah.NEWLINE_CHARS=new Set([`
`,"\r"]);ah.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function aT(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function lT(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kd={off:0,error:200,warn:300,info:400,debug:500},gy=(t,e,n)=>{if(t){if(zE(Kd,t))return t;gr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Kd))}`)}};function _f(){}function Rd(t,e,n){return!e||Kd[t]>Kd[n]?_f:e[t].bind(e)}const uT={error:_f,warn:_f,info:_f,debug:_f};let vy=new WeakMap;function gr(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return uT;const o=vy.get(n);if(o&&o[0]===i)return o[1];const a={error:Rd("error",n,i),warn:Rd("warn",n,i),info:Rd("info",n,i),debug:Rd("debug",n,i)};return vy.set(n,[i,a]),a}const eu=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yc{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const a=i?gr(i):console;function u(){return eo(this,arguments,function*(){var f,h,g,w;if(o)throw new ks("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let A=!1;try{try{for(var S=!0,R=to(cT(e,n)),N;N=yield It(R.next()),f=N.done,!f;S=!0){w=N.value,S=!1;const k=w;if(!A)if(k.data.startsWith("[DONE]")){A=!0;continue}else try{yield yield It(JSON.parse(k.data))}catch(C){throw a.error("Could not parse message into JSON:",k.data),a.error("From chunk:",k.raw),C}}}catch(k){h={error:k}}finally{try{!S&&!f&&(g=R.return)&&(yield It(g.call(R)))}finally{if(h)throw h.error}}A=!0}catch(k){if(p0(k))return yield It(void 0);throw k}finally{A||n.abort()}})}return new yc(u,n,i)}static fromReadableStream(e,n,i){let o=!1;function a(){return eo(this,arguments,function*(){var f,h,g,w;const A=new ah,S=l5(e);try{for(var R=!0,N=to(S),k;k=yield It(N.next()),f=k.done,!f;R=!0){w=k.value,R=!1;const C=w;for(const U of A.decode(C))yield yield It(U)}}catch(C){h={error:C}}finally{try{!R&&!f&&(g=N.return)&&(yield It(g.call(N)))}finally{if(h)throw h.error}}for(const C of A.flush())yield yield It(C)})}function u(){return eo(this,arguments,function*(){var f,h,g,w;if(o)throw new ks("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let A=!1;try{try{for(var S=!0,R=to(a()),N;N=yield It(R.next()),f=N.done,!f;S=!0){w=N.value,S=!1;const k=w;A||k&&(yield yield It(JSON.parse(k)))}}catch(k){h={error:k}}finally{try{!S&&!f&&(g=R.return)&&(yield It(g.call(R)))}finally{if(h)throw h.error}}A=!0}catch(k){if(p0(k))return yield It(void 0);throw k}finally{A||n.abort()}})}return new yc(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new yc(()=>o(e),this.controller,this.client),new yc(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return a5({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:a}=await n.next();if(a)return i.close();const u=nm(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function cT(t,e){return eo(this,arguments,function*(){var i,o,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ks("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ks("Attempted to iterate over a response with no body");const c=new dT,f=new ah,h=l5(t.body);try{for(var g=!0,w=to(fT(h)),A;A=yield It(w.next()),i=A.done,!i;g=!0){u=A.value,g=!1;const S=u;for(const R of f.decode(S)){const N=c.decode(R);N&&(yield yield It(N))}}}catch(S){o={error:S}}finally{try{!g&&!i&&(a=w.return)&&(yield It(a.call(w)))}finally{if(o)throw o.error}}for(const S of f.flush()){const R=c.decode(S);R&&(yield yield It(R))}})}function fT(t){return eo(this,arguments,function*(){var n,i,o,a;let u=new Uint8Array;try{for(var c=!0,f=to(t),h;h=yield It(f.next()),n=h.done,!n;c=!0){a=h.value,c=!1;const g=a;if(g==null)continue;const w=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?nm(g):g;let A=new Uint8Array(u.length+w.length);A.set(u),A.set(w,u.length),u=A;let S;for(;(S=lT(u))!==-1;)yield yield It(u.slice(0,S)),u=u.slice(S)}}catch(g){i={error:g}}finally{try{!c&&!n&&(o=f.return)&&(yield It(o.call(f)))}finally{if(i)throw i.error}}u.length>0&&(yield yield It(u))})}class dT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=hT(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function hT(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pT(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return gr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):yc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return gr(t).debug(`[${i}] response parsed`,eu({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class im extends Promise{constructor(e,n,i=pT){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new im(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m5=Symbol("brand.privateNullableHeaders");function*mT(t){if(!t)return;if(m5 in t){const{values:i,nulls:o}=t;yield*i.entries();for(const a of o)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():fy(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const a=fy(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,c])}}const yf=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[a,u]of mT(i)){const c=a.toLowerCase();o.has(c)||(e.delete(a),o.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[m5]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dp=t=>{var e,n,i,o,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=z_)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||a===void 0?void 0:a.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var g5;class lh{constructor(e){var n,i,o,a,u,c,f,{baseURL:h=Dp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=Dp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:w="v1beta"}=e,A=Yd(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:g,apiVersion:w},A),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(i=S.timeout)!==null&&i!==void 0?i:lh.DEFAULT_TIMEOUT,this.logger=(o=S.logger)!==null&&o!==void 0?o:console;const R="warn";this.logLevel=R,this.logLevel=(u=(a=gy(S.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:gy(Dp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:R,this.fetchOptions=S.fetchOptions,this.maxRetries=(c=S.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=S.fetch)!==null&&f!==void 0?f:KE(),this.encoder=QE,this._options=S,this.apiKey=g,this.apiVersion=w,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=yf([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return yf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return yf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ks(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${fc}`}defaultIdempotencyKey(){return`stainless-node-retry-${DE()}`}makeStatusError(e,n,i,o){return yr.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,a=OE(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return FE(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new im(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,a,u;const c=await e,f=(o=c.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:h,url:g,timeout:w}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(h,{url:g,options:c});const A="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=i===void 0?"":`, retryOf: ${i}`,R=Date.now();if(gr(this).debug(`[${A}] sending request`,eu({retryOfRequestLogID:i,method:c.method,url:g,options:c,headers:h.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new g0;const N=new AbortController,k=await this.fetchWithTimeout(g,h,w,N).catch(m0),C=Date.now();if(k instanceof globalThis.Error){const z=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new g0;const Z=p0(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return gr(this).info(`[${A}] connection ${Z?"timed out":"failed"} - ${z}`),gr(this).debug(`[${A}] connection ${Z?"timed out":"failed"} (${z})`,eu({retryOfRequestLogID:i,url:g,durationMs:C-R,message:k.message})),this.retryRequest(c,n,i??A);throw gr(this).info(`[${A}] connection ${Z?"timed out":"failed"} - error; no more retries left`),gr(this).debug(`[${A}] connection ${Z?"timed out":"failed"} (error; no more retries left)`,eu({retryOfRequestLogID:i,url:g,durationMs:C-R,message:k.message})),Z?new Q2:new oh({cause:k})}const U=`[${A}${S}] ${h.method} ${g} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${C-R}ms`;if(!k.ok){const z=await this.shouldRetry(k);if(n&&z){const me=`retrying, ${n} attempts remaining`;return await XE(k.body),gr(this).info(`${U} - ${me}`),gr(this).debug(`[${A}] response error (${me})`,eu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:C-R})),this.retryRequest(c,n,i??A,k.headers)}const Z=z?"error; no more retries left":"error; not retryable";gr(this).info(`${U} - ${Z}`);const fe=await k.text().catch(me=>m0(me).message),pe=GE(fe),Q=pe?void 0:fe;throw gr(this).debug(`[${A}] response error (${Z})`,eu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,message:Q,durationMs:Date.now()-R})),this.makeStatusError(k.status,pe,Q,k.headers)}return gr(this).info(U),gr(this).debug(`[${A}] response start`,eu({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:C-R})),{response:k,options:c,controller:N,requestLogID:A,retryOfRequestLogID:i,startTime:R}}async fetchWithTimeout(e,n,i,o){const a=n||{},{signal:u,method:c}=a,f=Yd(a,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const h=setTimeout(()=>o.abort(),i),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,w=Object.assign(Object.assign(Object.assign({signal:o.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);c&&(w.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,w)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var a;let u;const c=o==null?void 0:o.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(u=h)}const f=o==null?void 0:o.get("retry-after");if(f&&!u){const h=parseFloat(f);Number.isNaN(h)?u=Date.parse(f)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await VE(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,a;const u=Object.assign({},e),{method:c,path:f,query:h,defaultBaseURL:g}=u,w=this.buildURL(f,h,g);"timeout"in u&&HE("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:A,body:S}=this.buildBody({options:u}),R=await this.buildHeaders({options:e,method:c,bodyHeaders:A,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:R},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:w,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let c=yf([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),YE()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=yf([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:WE(e)}:this.encoder({body:e,headers:i})}}lh.DEFAULT_TIMEOUT=6e4;class Ui extends lh{constructor(){super(...arguments),this.interactions=new p5(this)}}g5=Ui;Ui.GeminiNextGenAPIClient=g5;Ui.GeminiNextGenAPIClientError=ks;Ui.APIError=yr;Ui.APIConnectionError=oh;Ui.APIConnectionTimeoutError=Q2;Ui.APIUserAbortError=g0;Ui.NotFoundError=n5;Ui.ConflictError=i5;Ui.RateLimitError=s5;Ui.BadRequestError=Z2;Ui.AuthenticationError=e5;Ui.InternalServerError=o5;Ui.PermissionDeniedError=t5;Ui.UnprocessableEntityError=r5;Ui.toFile=iT;Ui.Interactions=p5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gT(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function vT(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function yT(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&v(n,["sdkHttpResponse"],i),n}function bT(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&v(n,["sdkHttpResponse"],i),n}function wT(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=p(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&v(e,["displayName"],o),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&v(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","batchSize"],c);const f=p(t,["learningRate"]);if(e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","learningRate"],f),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function _T(t,e,n){const i={};let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&v(e,["supervisedTuningSpec"],yy(S))}else if(o==="PREFERENCE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec"],yy(S))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&v(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&v(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(c==="PREFERENCE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(f==="PREFERENCE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(h==="PREFERENCE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let g=p(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(g==="PREFERENCE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const w=p(t,["labels"]);e!==void 0&&w!=null&&v(e,["labels"],w);const A=p(t,["beta"]);return e!==void 0&&A!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],A),i}function ST(t,e){const n={},i=p(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const o=p(t,["preTunedModel"]);o!=null&&v(n,["preTunedModel"],o);const a=p(t,["trainingDataset"]);a!=null&&MT(a);const u=p(t,["config"]);return u!=null&&wT(u,n),n}function AT(t,e){const n={},i=p(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const o=p(t,["preTunedModel"]);o!=null&&v(n,["preTunedModel"],o);const a=p(t,["trainingDataset"]);a!=null&&PT(a,n,e);const u=p(t,["config"]);return u!=null&&_T(u,n,e),n}function xT(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function ET(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function TT(t,e,n){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),i}function NT(t,e,n){const i={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),i}function CT(t,e){const n={},i=p(t,["config"]);return i!=null&&TT(i,n),n}function RT(t,e){const n={},i=p(t,["config"]);return i!=null&&NT(i,n),n}function IT(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&v(n,["nextPageToken"],o);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>v5(c))),v(n,["tuningJobs"],u)}return n}function kT(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const o=p(t,["nextPageToken"]);o!=null&&v(n,["nextPageToken"],o);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>b0(c))),v(n,["tuningJobs"],u)}return n}function LT(t,e){const n={},i=p(t,["name"]);i!=null&&v(n,["model"],i);const o=p(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function MT(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),v(n,["examples","examples"],o)}return n}function PT(t,e,n){const i={};let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function v5(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["state"]);a!=null&&v(n,["state"],M2(a));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const f=p(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const g=p(t,["description"]);g!=null&&v(n,["description"],g);const w=p(t,["baseModel"]);w!=null&&v(n,["baseModel"],w);const A=p(t,["_self"]);return A!=null&&v(n,["tunedModel"],LT(A)),n}function b0(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["state"]);a!=null&&v(n,["state"],M2(a));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&v(n,["startTime"],c);const f=p(t,["endTime"]);f!=null&&v(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const g=p(t,["error"]);g!=null&&v(n,["error"],g);const w=p(t,["description"]);w!=null&&v(n,["description"],w);const A=p(t,["baseModel"]);A!=null&&v(n,["baseModel"],A);const S=p(t,["tunedModel"]);S!=null&&v(n,["tunedModel"],S);const R=p(t,["preTunedModel"]);R!=null&&v(n,["preTunedModel"],R);const N=p(t,["supervisedTuningSpec"]);N!=null&&v(n,["supervisedTuningSpec"],N);const k=p(t,["preferenceOptimizationSpec"]);k!=null&&v(n,["preferenceOptimizationSpec"],k);const C=p(t,["tuningDataStats"]);C!=null&&v(n,["tuningDataStats"],C);const U=p(t,["encryptionSpec"]);U!=null&&v(n,["encryptionSpec"],U);const z=p(t,["partnerModelTuningSpec"]);z!=null&&v(n,["partnerModelTuningSpec"],z);const Z=p(t,["customBaseModel"]);Z!=null&&v(n,["customBaseModel"],Z);const fe=p(t,["experiment"]);fe!=null&&v(n,["experiment"],fe);const pe=p(t,["labels"]);pe!=null&&v(n,["labels"],pe);const Q=p(t,["outputUri"]);Q!=null&&v(n,["outputUri"],Q);const K=p(t,["pipelineJob"]);K!=null&&v(n,["pipelineJob"],K);const me=p(t,["serviceAccount"]);me!=null&&v(n,["serviceAccount"],me);const Te=p(t,["tunedModelDisplayName"]);Te!=null&&v(n,["tunedModelDisplayName"],Te);const V=p(t,["veoTuningSpec"]);return V!=null&&v(n,["veoTuningSpec"],V),n}function DT(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["metadata"]);a!=null&&v(n,["metadata"],a);const u=p(t,["done"]);u!=null&&v(n,["done"],u);const c=p(t,["error"]);return c!=null&&v(n,["error"],c),n}function yy(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&v(n,["validationDatasetUri"],i);const o=p(t,["vertexDatasetResource"]);return o!=null&&v(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UT extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new uu(wa.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:a0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=ET(e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>b0(g))}else{const h=xT(e);return c=tt("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>v5(g))}}async listInternal(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=RT(e);return c=tt("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=kT(g),A=new Vv;return Object.assign(A,w),A})}else{const h=CT(e);return c=tt("tunedModels",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=IT(g),A=new Vv;return Object.assign(A,w),A})}}async cancel(e){var n,i,o,a;let u,c="",f={};if(this.apiClient.isVertexAI()){const h=vT(e);return c=tt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=bT(g),A=new jv;return Object.assign(A,w),A})}else{const h=gT(e);return c=tt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(w=>{const A=w;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const w=yT(g),A=new jv;return Object.assign(A,w),A})}}async tuneInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const c=AT(e,e);return a=tt("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>b0(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ST(e);return a=tt("tunedModels",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>DT(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OT{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qT=1024*1024*8,BT=3,FT=1e3,zT=2,Wd="x-goog-upload-status";async function HT(t,e,n){var i;const o=await y5(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function GT(t,e,n){var i;const o=await y5(t,e,n),a=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=N2(a),c=new W0;return Object.assign(c,u),c}async function y5(t,e,n){var i,o;let a=0,u=0,c=new l0(new Response),f="upload";for(a=t.size;u<a;){const h=Math.min(qT,a-u),g=t.slice(u,u+h);u+h>=a&&(f+=", finalize");let w=0,A=FT;for(;w<BT&&(c=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Wd]));)w++,await jT(A),A=A*zT;if(u+=h,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Wd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function VT(t){return{size:t.size,type:t.type}}function jT(t){return new Promise(e=>setTimeout(e,t))}class $T{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HT(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GT(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JT{create(e,n,i){return new YT(e,n,i)}}class YT{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const by="x-goog-api-key";class KT{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(by)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(by,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT="gl-node/";class XT{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ui({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=j_(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new KT(this.apiKey);this.apiClient=new Vx({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:WT+"web",uploader:new $T,downloader:new OT}),this.models=new uE(this.apiClient),this.live=new iE(this.apiClient,o,new JT),this.batches=new wA(this.apiClient),this.chats=new t3(this.models,this.apiClient),this.caches=new QA(this.apiClient),this.files=new f3(this.apiClient),this.operations=new cE(this.apiClient),this.authTokens=new TE(this.apiClient),this.tunings=new UT(this.apiClient),this.fileSearchStores=new PE(this.apiClient)}}const Up={"taj-mahal":{id:"taj-mahal",name:"Taj Mahal",city:"Agra",category:"Monument, UNESCO Heritage",description:"Iconic white marble mausoleum built by Emperor Shah Jahan for his wife Mumtaz Mahal.",detailedDescription:"The Taj Mahal is an ivory-white marble mausoleum on the south bank of the Yamuna river in a vast Mughal garden that encompasses nearly 17 hectares. It was built by Mughal emperor Shah Jahan in memory of his wife Mumtaz Mahal. The Taj Mahal is widely recognized as one of the most beautiful buildings in the world and is listed as one of the Seven Wonders of the World.",rating:4.8,openingHours:"6:00 AM - 7:00 PM (Friday closed)",estimatedTime:"2-3 hours",coordinates:{lat:27.1751,lng:78.0421},reviews:[{author:"Travel Review",comment:"A masterpiece of Mughal architecture. The marble inlay work and symmetry are breathtaking.",rating:5},{author:"Architecture Enthusiast",comment:"One of the most beautiful buildings ever constructed. Best visited at sunrise.",rating:5}],entryFee:"250 (Indians), $15 USD (Foreigners)",bestTimeToVisit:"October to March (winter months)",highlights:["Marble inlay work","Symmetrical architecture","Yamuna riverside location","Night viewing on full moon nights"]},"hawa-mahal":{id:"hawa-mahal",name:"Hawa Mahal",city:"Jaipur",category:"Palace, Historical",description:"Iconic pink structure with 953 small windows, designed to allow royal women to observe street life.",detailedDescription:"The Hawa Mahal (Palace of Winds) is a five-story pink sandstone structure built in 1799 by Maharaja Sawai Pratap Singh. The structure has 953 small windows designed with a jaali (latticework) pattern. It was originally constructed so that the royal women could observe the street festival while remaining in seclusion.",rating:4.5,openingHours:"9:00 AM - 5:00 PM (Daily)",estimatedTime:"1-1.5 hours",coordinates:{lat:26.9239,lng:75.8267},reviews:[{author:"Heritage Lover",comment:"A stunning example of Rajasthani architecture. The pink color is iconic.",rating:5},{author:"Photography Enthusiast",comment:"Perfect for photography, especially during golden hour.",rating:5}],entryFee:"50 (Indians), 200 (Foreigners)",bestTimeToVisit:"October to February",highlights:["953 small windows","Pink sandstone architecture","Jaali work","Street view from windows"]},"india-gate":{id:"india-gate",name:"India Gate",city:"Delhi",category:"Monument, War Memorial",description:"Iconic war memorial arch built to commemorate Indian soldiers killed in WWI.",detailedDescription:"India Gate is a war memorial built in 1931 to commemorate Indian soldiers who died in World War I. Standing at 42 meters, it is a iconic symbol of Delhi. The monument was originally named All India War Memorial.",rating:4.6,openingHours:"Open 24/7 (Best 6 AM - 9 PM)",estimatedTime:"1-2 hours",coordinates:{lat:28.6129,lng:77.2295},reviews:[{author:"Heritage Site Visitor",comment:"An impressive monument with great historical significance.",rating:5},{author:"Tourist",comment:"Beautiful at night. Great for evening walks.",rating:5}],entryFee:"Free",bestTimeToVisit:"October to March (evenings are pleasant)",highlights:["War memorial","Iconic sandstone arch","Night lighting","Surrounding gardens"]},"jaipur-city-palace":{id:"jaipur-city-palace",name:"City Palace",city:"Jaipur",category:"Palace, Museum",description:"Royal residence complex blending Mughal and Rajasthani architecture, still partially occupied by royal family.",detailedDescription:"The City Palace is a magnificent blend of Mughal and Rajasthani architecture. Built in 1729 and still partially inhabited by the royal family, it remains an active palace. The complex includes courtyards, gardens, and museums showcasing royal artifacts.",rating:4.4,openingHours:"9:30 AM - 5:00 PM (Daily)",estimatedTime:"2-2.5 hours",coordinates:{lat:26.9247,lng:75.8261},reviews:[{author:"Architecture Lover",comment:"Beautiful blend of Mughal and Rajasthani styles. Excellent preservation.",rating:5},{author:"History Buff",comment:"Still a functioning palace. The craftsmanship is impressive.",rating:4}],entryFee:"75 (Indians), 300 (Foreigners)",bestTimeToVisit:"October to February",highlights:["Mughal-Rajasthani fusion","Still occupied palace","Museum exhibits","Courtyard architecture"]},"golden-temple":{id:"golden-temple",name:"Golden Temple",city:"Amritsar",category:"Religious Site, Sikh Holy Site",description:"Sacred Sikh temple covered in gold leaf, surrounded by sacred pool, most important pilgrimage site in Sikhism.",detailedDescription:"The Golden Temple (Harmandir Sahib) is the holiest Gurdwara of Sikhism. Located in Amritsar, Punjab, it is surrounded by the sacred pool Amrita Sarovar. The sanctum is covered with gold leaf, which gives it its distinctive golden appearance. It attracts millions of pilgrims and visitors annually.",rating:4.9,openingHours:"4:30 AM - 10:00 PM (Daily)",estimatedTime:"2-3 hours",coordinates:{lat:31.62,lng:74.8765},reviews:[{author:"Pilgrimage Visitor",comment:"A deeply spiritual place. The golden reflection in the pool is mesmerizing.",rating:5},{author:"Tourist",comment:"Breathtaking architecture and peaceful atmosphere. Free langar meal is amazing.",rating:5}],entryFee:"Free (donations welcome)",bestTimeToVisit:"October to February",highlights:["Gold leaf covered sanctum","Sacred pool","Free langar (community meal)","Marble inlay work"]},"varanasi-ghats":{id:"varanasi-ghats",name:"Varanasi Ghats",city:"Varanasi",category:"Religious, Cultural Site",description:"Sacred steps along Ganges River, center of Hindu pilgrimage and spirituality, famous for dawn boat rides.",detailedDescription:"Varanasi Ghats are a series of steps leading down to the Ganges River in Varanasi. There are over 100 ghats, with Dashashwamedh Ghat being the most prominent. These are sacred spaces where millions come to bathe in the holy river. The ghats are most vibrant during sunrise and evening aarti (prayer ceremony).",rating:4.7,openingHours:"Open 24/7 (Best 5 AM - 8 AM)",estimatedTime:"2-3 hours",coordinates:{lat:25.3199,lng:82.985},reviews:[{author:"Spiritual Traveler",comment:"The most spiritual place I have ever been. The energy is incredible.",rating:5},{author:"Culture Enthusiast",comment:"Best at sunrise. The boat ride along the ghats is unforgettable.",rating:5}],entryFee:"Free (Boat rides 200-500)",bestTimeToVisit:"October to February (avoid summer)",highlights:["Sacred Ganges River","Sunrise boat rides","Evening aarti ceremony","100+ historic ghats"]},"red-fort":{id:"red-fort",name:"Red Fort",city:"Delhi",category:"Monument, UNESCO Heritage",description:"Historic fortress with red sandstone walls, former residence of Mughal emperors, symbol of Indian independence.",detailedDescription:"The Red Fort (Lal Qila) is a historic fort in Old Delhi. It was the residence of the Mughal emperors and was built by Emperor Shah Jahan. The fort contains palaces, walls, and a small mosque. It is one of the most iconic symbols of India and was the site where India's first prime minister hoisted the Indian flag.",rating:4.6,openingHours:"9:30 AM - 4:30 PM (Monday closed)",estimatedTime:"2-3 hours",coordinates:{lat:28.6562,lng:77.241},reviews:[{author:"History Enthusiast",comment:"Rich history and magnificent architecture. A must-visit in Delhi.",rating:5},{author:"Tourist",comment:"The red sandstone walls are impressive. Great historical significance.",rating:5}],entryFee:"30 (Indians), 500 (Foreigners)",bestTimeToVisit:"October to March",highlights:["Red sandstone walls","Mughal architecture","Independence history","Sound and light show"]},"mysore-palace":{id:"mysore-palace",name:"Mysore Palace",city:"Mysore",category:"Palace, Museum",description:"Magnificent Indo-Saracenic palace with golden dome, one of India's most visited non-religious sites.",detailedDescription:"Mysore Palace is a royal residence and one of the most visited monuments in India. Built in 1912, it showcases Indo-Saracenic architecture with ornamental gardens. The palace is illuminated on Sundays and public holidays with over 100,000 lights. It houses a museum with royal artifacts and treasures.",rating:4.7,openingHours:"10:00 AM - 5:30 PM (Daily)",estimatedTime:"2-3 hours",coordinates:{lat:12.2958,lng:76.6394},reviews:[{author:"Architecture Lover",comment:"Stunning Indo-Saracenic architecture. The golden dome is spectacular.",rating:5},{author:"Palace Visitor",comment:"Best viewed with lighting on Sundays. Absolutely magnificent.",rating:5}],entryFee:"60 (Indians), 300 (Foreigners)",bestTimeToVisit:"September to March",highlights:["Indo-Saracenic style","Golden dome","Illumination on weekends","Royal artifacts museum"]},"gateway-of-india":{id:"gateway-of-india",name:"Gateway of India",city:"Mumbai",category:"Monument, Architectural",description:"Iconic arch monument commemorating visit of King George V, symbol of Mumbai.",detailedDescription:"The Gateway of India is an arch monument built in the early 20th century. It was constructed to commemorate the visit of King George V and Queen Mary to India. Located at the waterfront in Mumbai, it is one of the most photographed monuments in India and a symbol of the city.",rating:4.5,openingHours:"Open 24/7",estimatedTime:"1-1.5 hours",coordinates:{lat:18.922,lng:72.8347},reviews:[{author:"Mumbai Tourist",comment:"Iconic and must-visit. Best at sunset when viewed from the waterfront.",rating:5},{author:"Photography Enthusiast",comment:"Beautiful architecture and great backdrop for photos.",rating:4}],entryFee:"Free",bestTimeToVisit:"October to February",highlights:["Iconic arch","Waterfront location","Sunset views","Historical significance"]},charminar:{id:"charminar",name:"Charminar",city:"Hyderabad",category:"Monument, Historical",description:"16th-century monument with four minarets, center of old Hyderabad city.",detailedDescription:"Charminar is a prominent monument and mosque built in 1591 by Muhammad Quli Qutb Shah. It is located in the heart of the old city of Hyderabad. The structure has four minarets, each 56 meters high. It is surrounded by the famous Charminar market and is an iconic symbol of Hyderabad.",rating:4.4,openingHours:"9:30 AM - 5:30 PM (Daily)",estimatedTime:"1-2 hours",coordinates:{lat:17.3603,lng:78.4734},reviews:[{author:"History Buff",comment:"Ancient monument with great historical significance. The market around it is vibrant.",rating:4},{author:"Tourist",comment:"Iconic structure. The view from the top is worth the climb.",rating:4}],entryFee:"50 (Access to minarets)",bestTimeToVisit:"October to February",highlights:["Four minarets","16th-century construction","Panoramic city views","Surrounding bazaar"]}},QT=t=>{const e=t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-");if(Up[e])return Up[e];for(const[n,i]of Object.entries(Up))if(i.name.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(i.name.toLowerCase()))return i;return null},ZT={BASE_URL:"/yatra/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyDf64lw_X1oG8LLXiND5SlJbsIddEvQxRk"};var Op={};const eN=()=>{try{if(typeof import.meta<"u"&&ZT)return"AIzaSyDf64lw_X1oG8LLXiND5SlJbsIddEvQxRk"}catch{}try{if(typeof process<"u"&&Op&&Op.VITE_GEMINI_API_KEY)return Op.VITE_GEMINI_API_KEY}catch{}throw new Error("Gemini API key not found. Please set VITE_GEMINI_API_KEY environment variable.")},b5=new XT({apiKey:eN()}),tN=async t=>{const e="gemini-2.5-flash",n=`Find 8 top tourist attractions in India matching the query: "${t}". 
  
  Context:
  - If the query is a city (e.g. "Delhi"), find top general attractions there.
  - If the query is a CATEGORY (e.g. "Historical sites", "Museums", "Temples"), find the best examples of that category in the specified city or across India if no city is named.
  - If the query is "Category in City" (e.g. "Museums in Mumbai"), strictly find that category.
  
  For each attraction:
  - Precise coordinates.
  - Real rating (0-5).
  - Estimated opening hours.
  - 1 concise user review.
  - Source reference.
  
  Return ONLY a raw JSON array (no markdown, no extra text):
  [
    {
      "id": "kebab-case-name",
      "name": "Name",
      "description": "Concise summary (max 15 words)",
      "category": "Category",
      "estimatedTime": "e.g. 2 hrs",
      "rating": 4.5,
      "openingHours": "9AM-5PM",
      "coordinates": { "lat": 12.34, "lng": 56.78 },
      "reviews": [{ "author": "Name", "comment": "Short text", "rating": 5 }],
      "sourceUrl": "https://example.com"
    }
  ]`;try{const i=await b5.models.generateContent({model:e,contents:n,config:{temperature:.3}});if(!i.text)throw new Error("Empty response from API");let o=i.text.trim();o=o.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const a=o.indexOf("["),u=o.lastIndexOf("]");if(a===-1||u===-1)throw console.error("Could not find JSON array in response:",o),new Error("Response does not contain valid JSON array");o=o.substring(a,u+1);const c=JSON.parse(o);if(!Array.isArray(c)||c.length===0)throw new Error("Empty attractions array returned");return c.map(h=>{const g=QT(h.name);return g?{...h,rating:g.rating,openingHours:g.openingHours,reviews:g.reviews,coordinates:g.coordinates,description:g.description,estimatedTime:g.estimatedTime}:h})}catch(i){throw console.error("Error fetching attractions:",i),new Error(`Failed to find attractions: ${i instanceof Error?i.message:"Unknown error"}`)}},nN=async(t,e)=>{const n="gemini-2.5-flash",i=e.map(u=>`${u.name} (Hours: ${u.openingHours}, Location: ${u.coordinates.lat},${u.coordinates.lng})`).join(`
`),o=`You are Yatra AI, an India-focused travel planning assistant.
  For the selected city/area "${t}" and places below, generate a complete itinerary.
  
  Attractions Selected:
  ${i}
  
  Group visits by proximity.
  
  CRITICAL INSTRUCTION: 
  1. Do NOT mix information. Use the specific fields provided in the schema.
  2. For "suggestedStays", recommend 2 distinct accommodation options (Hotel, Resort, Hostel, or Camp) that are convenient for that specific day's location.
  
  Field Requirements:
  - description: Only describe the place and what to do there.
  - foodRecommendations: Specific local famous food spots (0-2km).
  - hiddenGems: Lesser-known spots nearby.
  - insiderTips: Best time to visit, crowd info, what to avoid.
  - transportation: Metro/Bus availability and estimated Auto/Cab fares.
  - safety: Tourist scams, night safety notes, traffic warnings.
  - budget: Cheap food spots, entry fees.
  - addOns: Walkable add-on places nearby.
  - travelEstimate: Time & Distance from previous spot (e.g. "15 min auto ride").
  
  Return strictly JSON matching the schema.`,a={type:zt.OBJECT,properties:{title:{type:zt.STRING},overview:{type:zt.STRING},days:{type:zt.ARRAY,items:{type:zt.OBJECT,properties:{day:{type:zt.INTEGER},suggestedStays:{type:zt.ARRAY,items:{type:zt.OBJECT,properties:{name:{type:zt.STRING},type:{type:zt.STRING},rating:{type:zt.NUMBER},priceRange:{type:zt.STRING},description:{type:zt.STRING}},required:["name","type","rating","priceRange","description"]}},segments:{type:zt.ARRAY,items:{type:zt.OBJECT,properties:{timeOfDay:{type:zt.STRING},title:{type:zt.STRING},description:{type:zt.STRING},location:{type:zt.STRING},foodRecommendations:{type:zt.STRING},hiddenGems:{type:zt.STRING},insiderTips:{type:zt.STRING},transportation:{type:zt.STRING},travelEstimate:{type:zt.STRING},safety:{type:zt.STRING},budget:{type:zt.STRING},addOns:{type:zt.STRING},coordinates:{type:zt.OBJECT,properties:{lat:{type:zt.NUMBER},lng:{type:zt.NUMBER}},required:["lat","lng"]}},required:["timeOfDay","title","description","coordinates","foodRecommendations","hiddenGems","insiderTips","transportation","safety","budget","addOns"]}}},required:["day","segments","suggestedStays"]}}},required:["title","overview","days"]};try{const u=await b5.models.generateContent({model:n,contents:o,config:{responseMimeType:"application/json",responseSchema:a,temperature:.4}});if(u.text)return JSON.parse(u.text);throw new Error("Failed to generate itinerary")}catch(u){throw console.error("Error generating itinerary:",u),u}},iN=async(t,e)=>{await new Promise(o=>setTimeout(o,500));const n=Math.random().toString(36).substr(2,9),i={itinerary:t,location:e,createdAt:new Date().toISOString()};try{return localStorage.setItem(`trip_${n}`,JSON.stringify(i)),n}catch(o){throw console.error("Storage error",o),new Error("Failed to save trip locally.")}},rN=async t=>{await new Promise(e=>setTimeout(e,500));try{const e=localStorage.getItem(`trip_${t}`);return e?JSON.parse(e):null}catch(e){return console.error("Storage error",e),null}},nc={"india-gate":{name:"India Gate",imageUrl:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&q=80",source:"unsplash"},"red-fort":{name:"Red Fort",imageUrl:"https://images.unsplash.com/photo-1569163139394-de4798aa62b3?w=800&q=80",source:"unsplash"},"qutub-minar":{name:"Qutub Minar",imageUrl:"https://images.unsplash.com/photo-1585072104953-1b5d5c13c4f1?w=800&q=80",source:"unsplash"},"lotus-temple":{name:"Lotus Temple",imageUrl:"https://images.unsplash.com/photo-1599079622703-4d6b3eb6c5c2?w=800&q=80",source:"unsplash"},"humayun-tomb":{name:"Humayun's Tomb",imageUrl:"https://images.unsplash.com/photo-1569163139372-42ff08fe9431?w=800&q=80",source:"unsplash"},"jama-masjid":{name:"Jama Masjid",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b67?w=800&q=80",source:"unsplash"},"taj-mahal":{name:"Taj Mahal",imageUrl:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=800&q=80",source:"unsplash"},"agra-fort":{name:"Agra Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce1?w=800&q=80",source:"unsplash"},"mehtab-bagh":{name:"Mehtab Bagh",imageUrl:"https://images.unsplash.com/photo-1585072104953-8ca5e9d3b6f8?w=800&q=80",source:"unsplash"},"fatehpur-sikri":{name:"Fatehpur Sikri",imageUrl:"https://images.unsplash.com/photo-1585072104953-1f7f4e5f6c3a?w=800&q=80",source:"unsplash"},"hawa-mahal":{name:"Hawa Mahal",imageUrl:"https://images.unsplash.com/photo-1478556403677-06ee560319ca?w=800&q=80",source:"unsplash"},"jaipur-city-palace":{name:"City Palace",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b6c?w=800&q=80",source:"unsplash"},"city-palace":{name:"City Palace",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b6c?w=800&q=80",source:"unsplash"},"amber-fort":{name:"Amber Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37c?w=800&q=80",source:"unsplash"},"amer-fort":{name:"Amer Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37c?w=800&q=80",source:"unsplash"},"jantar-mantar":{name:"Jantar Mantar",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2a?w=800&q=80",source:"unsplash"},"albert-hall-museum":{name:"Albert Hall Museum",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce2?w=800&q=80",source:"unsplash"},"jal-mahal":{name:"Jal Mahal",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b6d?w=800&q=80",source:"unsplash"},"nahargarh-fort":{name:"Nahargarh Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37d?w=800&q=80",source:"unsplash"},"golden-temple":{name:"Golden Temple",imageUrl:"https://images.unsplash.com/photo-1599079619662-ec5aacd28cf6?w=800&q=80",source:"unsplash"},"harmandir-sahib":{name:"Harmandir Sahib",imageUrl:"https://images.unsplash.com/photo-1599079619662-ec5aacd28cf6?w=800&q=80",source:"unsplash"},"partition-museum":{name:"Partition Museum",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2b?w=800&q=80",source:"unsplash"},"jallianwala-bagh":{name:"Jallianwala Bagh",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37e?w=800&q=80",source:"unsplash"},"varanasi-ghats":{name:"Varanasi Ghats",imageUrl:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=800&q=80",source:"unsplash"},"kashi-vishwanath-temple":{name:"Kashi Vishwanath Temple",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37f?w=800&q=80",source:"unsplash"},"dashashwamedh-ghat":{name:"Dashashwamedh Ghat",imageUrl:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9945?w=800&q=80",source:"unsplash"},"mysore-palace":{name:"Mysore Palace",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2c?w=800&q=80",source:"unsplash"},"chamundi-hills":{name:"Chamundi Hills",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce3?w=800&q=80",source:"unsplash"},"brindavan-gardens":{name:"Brindavan Gardens",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37g?w=800&q=80",source:"unsplash"},"gateway-of-india":{name:"Gateway of India",imageUrl:"https://images.unsplash.com/photo-1571896349842-31521b8d7cf8?w=800&q=80",source:"unsplash"},"marine-drive":{name:"Marine Drive",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b6e?w=800&q=80",source:"unsplash"},"colaba-causeway":{name:"Colaba Causeway",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2d?w=800&q=80",source:"unsplash"},"elephanta-caves":{name:"Elephanta Caves",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce4?w=800&q=80",source:"unsplash"},charminar:{name:"Charminar",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37h?w=800&q=80",source:"unsplash"},"mecca-masjid":{name:"Mecca Masjid",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2e?w=800&q=80",source:"unsplash"},"falaknuma-palace":{name:"Falaknuma Palace",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b6f?w=800&q=80",source:"unsplash"},"ramoji-film-city":{name:"Ramoji Film City",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce5?w=800&q=80",source:"unsplash"},"baga-beach":{name:"Baga Beach",imageUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800&q=80",source:"unsplash"},"calangute-beach":{name:"Calangute Beach",imageUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d3f?w=800&q=80",source:"unsplash"},"basilica-of-bom-jesus":{name:"Basilica of Bom Jesus",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37i?w=800&q=80",source:"unsplash"},"dudhsagar-falls":{name:"Dudhsagar Falls",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c2f?w=800&q=80",source:"unsplash"},"fort-aguada":{name:"Fort Aguada",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b70?w=800&q=80",source:"unsplash"},"anjuna-beach":{name:"Anjuna Beach",imageUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d40?w=800&q=80",source:"unsplash"},"panjim-church":{name:"Church of Our Lady",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce6?w=800&q=80",source:"unsplash"},munnar:{name:"Munnar",imageUrl:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9946?w=800&q=80",source:"unsplash"},backwaters:{name:"Backwaters",imageUrl:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9947?w=800&q=80",source:"unsplash"},"alleppey-houseboat":{name:"Alleppey Houseboat",imageUrl:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9948?w=800&q=80",source:"unsplash"},"kochi-fort":{name:"Kochi Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37j?w=800&q=80",source:"unsplash"},"udaipur-city-palace":{name:"Udaipur City Palace",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c30?w=800&q=80",source:"unsplash"},"lake-pichola":{name:"Lake Pichola",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b71?w=800&q=80",source:"unsplash"},"ranakpur-temple":{name:"Ranakpur Temple",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce7?w=800&q=80",source:"unsplash"},"mehrangarh-fort":{name:"Mehrangarh Fort",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37k?w=800&q=80",source:"unsplash"},pushkar:{name:"Pushkar",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c31?w=800&q=80",source:"unsplash"},"meenakshi-temple":{name:"Meenakshi Temple",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b72?w=800&q=80",source:"unsplash"},"konark-sun-temple":{name:"Konark Sun Temple",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce8?w=800&q=80",source:"unsplash"},hampi:{name:"Hampi",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37l?w=800&q=80",source:"unsplash"},"virupaksha-temple":{name:"Virupaksha Temple",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c32?w=800&q=80",source:"unsplash"},"jim-corbett":{name:"Jim Corbett National Park",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b73?w=800&q=80",source:"unsplash"},nainital:{name:"Nainital",imageUrl:"https://images.unsplash.com/photo-1585072104953-f71ca16a3ce9?w=800&q=80",source:"unsplash"},shimla:{name:"Shimla",imageUrl:"https://images.unsplash.com/photo-1585072104953-0a1de6d3a37m?w=800&q=80",source:"unsplash"},manali:{name:"Manali",imageUrl:"https://images.unsplash.com/photo-1585072104953-1c5e4d5f6c33?w=800&q=80",source:"unsplash"},darjeeling:{name:"Darjeeling",imageUrl:"https://images.unsplash.com/photo-1585072104953-e2da31a89b74?w=800&q=80",source:"unsplash"},default:{name:"India",imageUrl:"https://images.unsplash.com/photo-1532274040911-5f82f1fbb457?w=800&q=80",source:"unsplash"}},sN=t=>{if(!t)return nc.default.imageUrl;const e=t.toLowerCase().trim().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");if(nc[e])return nc[e].imageUrl;for(const[n,i]of Object.entries(nc))if(n!=="default"&&(n.includes(e)||e.includes(n)))return i.imageUrl;for(const n of Object.values(nc))if(n.name.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(n.name.toLowerCase()))return n.imageUrl;return nc.default.imageUrl},oN=t=>sN(t),aN=({attraction:t,isSelected:e,onToggle:n,onViewDetails:i,index:o})=>{const[a,u]=pt.useState(!1),c=oN(t.name);return D.jsxs("div",{className:`
        group h-full flex flex-col rounded-2xl overflow-hidden 
        bg-white dark:bg-slate-800 transition-all duration-400
        ${e?"ring-3 ring-teal-500 shadow-2xl shadow-teal-500/20 scale-105 dark:ring-offset-slate-900 dark:ring-offset-2":"shadow-lg hover:shadow-2xl hover:-translate-y-2"}
      `,children:[D.jsxs("div",{className:"relative h-56 w-full overflow-hidden bg-gradient-to-br from-slate-300 to-slate-500",children:[D.jsx("img",{src:c,alt:t.name,className:`
            w-full h-full object-cover transition-all duration-500
            ${a?"opacity-100":"opacity-20"}
            group-hover:scale-105
          `,onLoad:()=>u(!0),onError:f=>{u(!0),f.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%236b7280' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' font-size='20' fill='white' text-anchor='middle' dy='.3em'%3EImage Loading%3C/text%3E%3C/svg%3E"}}),D.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2 bg-yellow-400 px-3 py-1.5 rounded-full shadow-md",children:[D.jsx(r0,{size:14,className:"text-yellow-700 fill-yellow-700",strokeWidth:3}),D.jsx("span",{className:"text-xs font-bold text-yellow-900",children:t.rating.toFixed(1)})]})]}),D.jsxs("div",{className:"flex flex-col flex-grow p-5 space-y-4",children:[D.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white leading-tight line-clamp-2",children:t.name}),D.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[D.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/30 p-2 rounded-lg",children:D.jsx(S2,{size:16,className:"text-teal-600 dark:text-teal-400",strokeWidth:2.5})}),D.jsx("span",{className:"text-sm font-semibold",children:t.estimatedTime})]}),D.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed flex-grow",children:t.description}),D.jsx("div",{className:"inline-block",children:D.jsx("span",{className:"inline-block bg-teal-100 dark:bg-teal-900/40 text-teal-700 dark:text-teal-300 text-xs font-bold px-3 py-1.5 rounded-full capitalize",children:t.category})}),D.jsxs("div",{className:"flex gap-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[D.jsxs("button",{onClick:()=>i(t),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg 
              text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300
              hover:bg-teal-50 dark:hover:bg-teal-900/30 transition-colors font-semibold text-sm`,children:[D.jsx(Vd,{size:16,strokeWidth:2.5}),D.jsx("span",{children:"Details"})]}),D.jsx("button",{onClick:()=>n(t),className:`
              flex items-center justify-center px-4 py-2.5 rounded-lg font-bold 
              transition-all duration-300 
              ${e?"bg-teal-500 text-white hover:bg-teal-600 shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-600"}
            `,title:e?"Remove":"Add",children:e?D.jsx($0,{size:20,strokeWidth:3}):D.jsx("span",{className:"text-lg",children:"+"})})]})]})]})};function uh(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function lN(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(i.next(g))}catch(w){u(w)}}function f(g){try{h(i.throw(g))}catch(w){u(w)}}function h(g){g.done?a(g.value):o(g.value).then(c,f)}h((i=i.apply(t,e||[])).next())})}const uN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class rm extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class cN extends rm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wy extends rm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _y extends rm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var w0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(w0||(w0={}));class fN{constructor(e,{headers:n={},customFetch:i,region:o=w0.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=uN(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lN(this,arguments,void 0,function*(n,i={}){var o;let a,u;try{const{headers:c,method:f,body:h,signal:g,timeout:w}=i;let A={},{region:S}=i;S||(S=this.region);const R=new URL(`${this.url}/${n}`);S&&S!=="any"&&(A["x-region"]=S,R.searchParams.set("forceFunctionRegion",S));let N;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",N=h):typeof h=="string"?(A["Content-Type"]="text/plain",N=h):typeof FormData<"u"&&h instanceof FormData?N=h:(A["Content-Type"]="application/json",N=JSON.stringify(h)):N=h;let k=g;w&&(u=new AbortController,a=setTimeout(()=>u.abort(),w),g?(k=u.signal,g.addEventListener("abort",()=>u.abort())):k=u.signal);const C=yield this.fetch(R.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),c),body:N,signal:k}).catch(fe=>{throw new cN(fe)}),U=C.headers.get("x-relay-error");if(U&&U==="true")throw new wy(C);if(!C.ok)throw new _y(C);let z=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Z;return z==="application/json"?Z=yield C.json():z==="application/octet-stream"||z==="application/pdf"?Z=yield C.blob():z==="text/event-stream"?Z=C:z==="multipart/form-data"?Z=yield C.formData():Z=yield C.text(),{data:Z,error:null,response:C}}catch(c){return{data:null,error:c,response:c instanceof _y||c instanceof wy?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var dN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},hN=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let u=null,c=null,f=null,h=a.status,g=a.statusText;if(a.ok){var w,A;if(n.method!=="HEAD"){var S;const C=await a.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=C:c=JSON.parse(C))}const N=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(A=a.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");N&&k&&k.length>1&&(f=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var R;const N=await a.text();try{u=JSON.parse(N),Array.isArray(u)&&a.status===404&&(c=[],u=null,h=200,g="OK")}catch{a.status===404&&N===""?(h=204,g="No Content"):u={message:N}}if(u&&n.isMaybeSingle&&(!(u==null||(R=u.details)===null||R===void 0)&&R.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&n.shouldThrowOnError)throw new dN(u)}return{error:u,data:c,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(o=o.catch(a=>{var u;let c="";const f=a==null?void 0:a.cause;if(f){var h,g,w,A;const R=(h=f==null?void 0:f.message)!==null&&h!==void 0?h:"",N=(g=f==null?void 0:f.code)!==null&&g!==void 0?g:"";c=`${(w=a==null?void 0:a.name)!==null&&w!==void 0?w:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(A=f==null?void 0:f.name)!==null&&A!==void 0?A:"Error"}: ${R}`,N&&(c+=` (${N})`),f!=null&&f.stack&&(c+=`
${f.stack}`)}else{var S;c=(S=a==null?void 0:a.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},pN=class extends hN{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Sy=new RegExp("[,()]");var dc=class extends pN{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Sy.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Sy.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},mN=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}select(t,e){const{head:n=!1,count:i}=e??{},o=n?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new dc({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new dc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var a;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new dc({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new dc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new dc({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},gN=class w5{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new w5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:a}={}){var u;let c;const f=new URL(`${this.url}/rpc/${e}`);let h;i||o?(c=i?"HEAD":"GET",Object.entries(n).filter(([w,A])=>A!==void 0).map(([w,A])=>[w,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([w,A])=>{f.searchParams.append(w,A)})):(c="POST",h=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new dc({method:c,url:f,headers:g,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class vN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yN="2.89.0",bN=`realtime-js/${yN}`,_5="1.0.0",wN="2.0.0",Ay=_5,_0=1e4,_N=1e3,SN=100;var dl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dl||(dl={}));var Ai;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ai||(Ai={}));var Zs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zs||(Zs={}));var S0;(function(t){t.websocket="websocket"})(S0||(S0={}));var iu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(iu||(iu={}));class AN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var o,a;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",h=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+u.length+h.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+A);let R=new DataView(S),N=0;R.setUint8(N++,this.KINDS.userBroadcastPush),R.setUint8(N++,f.length),R.setUint8(N++,c.length),R.setUint8(N++,u.length),R.setUint8(N++,h.length),R.setUint8(N++,w.length),R.setUint8(N++,n),Array.from(f,C=>R.setUint8(N++,C.charCodeAt(0))),Array.from(c,C=>R.setUint8(N++,C.charCodeAt(0))),Array.from(u,C=>R.setUint8(N++,C.charCodeAt(0))),Array.from(h,C=>R.setUint8(N++,C.charCodeAt(0))),Array.from(w,C=>R.setUint8(N++,C.charCodeAt(0)));var k=new Uint8Array(S.byteLength+i.byteLength);return k.set(new Uint8Array(S),0),k.set(new Uint8Array(i),S.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,a,u,c,f]=i;return n({join_ref:o,ref:a,topic:u,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=i.decode(e.slice(f,f+o));f=f+o;const g=i.decode(e.slice(f,f+a));f=f+a;const w=i.decode(e.slice(f,f+u));f=f+u;const A=e.slice(f,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(i.decode(A)):A,R={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(R.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class S5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kn||(kn={}));const xy=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=xN(u,t,e,o),a),{}):{}},xN=(t,e,n,i)=>{const o=e.find(c=>c.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!i.includes(a)?A5(a,u):A0(u)},A5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return CN(e,n)}switch(t){case kn.bool:return EN(e);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return TN(e);case kn.json:case kn.jsonb:return NN(e);case kn.timestamp:return RN(e);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return A0(e);default:return A0(e)}},A0=t=>t,EN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},NN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},CN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(c=>A5(e,c))}return t},RN=t=>typeof t=="string"?t.replace(" ","T"):t,x5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qp{constructor(e,n,i={},o=_0){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ey;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ey||(Ey={}));class Af{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Af.syncState(this.state,o,a,u),this.pendingDiffs.forEach(f=>{this.state=Af.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Af.syncDiff(this.state,o,a,u),c())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),u=this.transformState(n),c={},f={};return this.map(a,(h,g)=>{u[h]||(f[h]=g)}),this.map(u,(h,g)=>{const w=a[h];if(w){const A=g.map(k=>k.presence_ref),S=w.map(k=>k.presence_ref),R=g.filter(k=>S.indexOf(k.presence_ref)<0),N=w.filter(k=>A.indexOf(k.presence_ref)<0);R.length>0&&(c[h]=R),N.length>0&&(f[h]=N)}else c[h]=g}),this.syncDiff(a,{joins:c,leaves:f},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(c,f)=>{var h;const g=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(f),g.length>0){const w=e[c].map(S=>S.presence_ref),A=g.filter(S=>w.indexOf(S.presence_ref)<0);e[c].unshift(...A)}i(c,g,f)}),this.map(u,(c,f)=>{let h=e[c];if(!h)return;const g=f.map(w=>w.presence_ref);h=h.filter(w=>g.indexOf(w.presence_ref)<0),e[c]=h,o(c,h,f),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ty;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ty||(Ty={}));var xf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xf||(xf={}));var ba;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class bc{constructor(e,n={config:{}},i){var o,a;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ai.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qp(this,Zs.join,this.params,this.timeout),this.rejoinTimer=new S5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ai.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ai.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ai.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zs.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Af(this),this.broadcastEndpointURL=x5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ai.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,h=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[xf.PRESENCE]&&this.bindings[xf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,w={},A={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ba.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ba.CLOSED)),this.updateJoinPayload(Object.assign({config:A},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(ba.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(R=N==null?void 0:N.length)!==null&&R!==void 0?R:0,C=[];for(let U=0;U<k;U++){const z=N[U],{filter:{event:Z,schema:fe,table:pe,filter:Q}}=z,K=S&&S[U];if(K&&K.event===Z&&bc.isFilterValueEqual(K.schema,fe)&&bc.isFilterValueEqual(K.table,pe)&&bc.isFilterValueEqual(K.filter,Q))C.push(Object.assign(Object.assign({},z),{id:K.id}));else{this.unsubscribe(),this.state=Ai.errored,e==null||e(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(ba.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ai.errored,e==null||e(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Ai.joined&&e===xf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const h=await c.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,c,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ai.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zs.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new qp(this,Zs.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ai.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new qp(this,e,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>SN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const u=e.toLocaleLowerCase(),{close:c,error:f,leave:h,join:g}=Zs;if(i&&[c,f,h,g].indexOf(u)>=0&&i!==this._joinRef())return;let A=this._onMessage(u,n,i);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var R,N,k;return((R=S.filter)===null||R===void 0?void 0:R.event)==="*"||((k=(N=S.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(S=>S.callback(A,i)):(a=this.bindings[u])===null||a===void 0||a.filter(S=>{var R,N,k,C,U,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const Z=S.id,fe=(R=S.filter)===null||R===void 0?void 0:R.event;return Z&&((N=n.ids)===null||N===void 0?void 0:N.includes(Z))&&(fe==="*"||(fe==null?void 0:fe.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const Z=(U=(C=S==null?void 0:S.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return Z==="*"||Z===((z=n==null?void 0:n.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof A=="object"&&"ids"in A){const R=A.data,{schema:N,table:k,commit_timestamp:C,type:U,errors:z}=R;A=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:C,eventType:U,new:{},old:{},errors:z}),this._getPayloadRecords(R))}S.callback(A,i)})}_isClosed(){return this.state===Ai.closed}_isJoined(){return this.state===Ai.joined}_isJoining(){return this.state===Ai.joining}_isLeaving(){return this.state===Ai.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&bc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zs.close,{},e)}_onError(e){this._on(Zs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ai.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=xy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=xy(e.columns,e.old_record)),n}}const Bp=()=>{},Id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IN=[1e3,2e3,5e3,1e4],kN=1e4,LN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MN{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_0,this.transport=null,this.heartbeatIntervalMs=Id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bp,this.ref=0,this.reconnectTimer=null,this.vsn=Ay,this.logger=Bp,this.conn=null,this.sendBuffer=[],this.serializer=new AN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${S0.websocket}`,this.httpEndpoint=x5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return iu.Connecting;case dl.open:return iu.Open;case dl.closing:return iu.Closing;default:return iu.Closed}}isConnected(){return this.connectionState()===iu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new bc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,u=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_N,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:u}=n,c=u?`(${u})`:"",f=a.status||"";this.log("receive",`${f} ${i} ${o} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===dl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===dl.open||this.conn.readyState===dl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([LN],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:bN};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Zs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new S5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,o,a,u,c,f,h,g,w,A,S;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:_0,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Id.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Bp,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Ay,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(R=>IN[R-1]||kN),this.vsn){case _5:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((R,N)=>N(JSON.stringify(R))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((R,N)=>N(JSON.parse(R)));break;case wN:this.encode=(A=e==null?void 0:e.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Nf=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function PN(t,e,n){const i=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);return i.toString()}async function DN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function UN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:a,headers:u}){const c=PN(t.baseUrl,i,o),f=await DN(t.auth),h=await e(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...u},body:a?JSON.stringify(a):void 0}),g=await h.text(),w=(h.headers.get("content-type")||"").includes("application/json"),A=w&&g?JSON.parse(g):g;if(!h.ok){const S=w?A:void 0,R=S==null?void 0:S.error;throw new Nf((R==null?void 0:R.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:R==null?void 0:R.type,icebergCode:R==null?void 0:R.code,details:S})}return{status:h.status,headers:h.headers,data:A}}}}function kd(t){return t.join("")}var ON=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:kd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kd(t.namespace)}`}),!0}catch(e){if(e instanceof Nf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Nf&&n.status===409)return;throw n}}};function ic(t){return t.join("")}var qN=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Nf&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Nf&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},BN=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=UN({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new ON(this.client,e),this.tableOps=new qN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ch=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var FN=class extends ch{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},x0=class extends ch{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const sm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zN=()=>Response,E0=t=>{if(Array.isArray(t))return t.map(n=>E0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=E0(i)}),e},HN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function VN(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Cf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jN(t){var e=VN(t,"string");return Cf(e)=="symbol"?e:e+""}function $N(t,e,n){return(e=jN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ny(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ny(Object(n),!0).forEach(function(i){$N(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Fp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},JN=async(t,e,n)=>{t instanceof await zN()&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new FN(Fp(i),o,a))}).catch(i=>{e(new x0(Fp(i),i))}):e(new x0(Fp(t),t))},YN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?o:(HN(i)?(o.headers=wt({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),wt(wt({},o),n))};async function Df(t,e,n,i,o,a){return new Promise((u,c)=>{t(n,YN(e,i,o,a)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>JN(f,c,i))})}async function Rf(t,e,n,i){return Df(t,"GET",e,n,i)}async function Qs(t,e,n,i,o){return Df(t,"POST",e,i,o,n)}async function T0(t,e,n,i,o){return Df(t,"PUT",e,i,o,n)}async function KN(t,e,n,i){return Df(t,"HEAD",e,wt(wt({},n),{},{noResolveJson:!0}),i)}async function om(t,e,n,i,o){return Df(t,"DELETE",e,i,o,n)}var WN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}}};let E5;E5=Symbol.toStringTag;var XN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[E5]="BlobDownloadBuilder",this.promise=null}asStream(){return new WN(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}}};const QN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ZN=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=sm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var o=this;try{let a;const u=wt(wt({},Cy),i);let c=wt(wt({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",o.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),f&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(f))):(a=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,f&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(c=wt(wt({},c),i.headers));const h=o._removeEmptyFolders(e),g=o._getFinalPath(h),w=await(t=="PUT"?T0:Qs)(o.fetch,`${o.url}/object/${g}`,a,wt({headers:c},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Kn(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var o=this;const a=o._removeEmptyFolders(t),u=o._getFinalPath(a),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let f;const h=wt({upsert:Cy.upsert},i),g=wt(wt({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType),{data:{path:a,fullPath:(await T0(o.fetch,c.toString(),f,{headers:g})).Key},error:null}}catch(f){if(o.shouldThrowOnError)throw f;if(Kn(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const o=wt({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const a=await Qs(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(n.url+a.url),c=u.searchParams.get("token");if(!c)throw new ch("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await Qs(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}async copy(t,e,n){var i=this;try{return{data:{path:(await Qs(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var i=this;try{let o=i._getFinalPath(t),a=await Qs(i.fetch,`${i.url}/object/sign/${o}`,wt({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${i.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var i=this;try{const o=await Qs(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>wt(wt({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),u=()=>Rf(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new XN(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:E0(await Rf(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await KN(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Kn(i)&&i instanceof x0){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await om(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const o=wt(wt(wt({},QN),e),{},{prefix:t||""});return{data:await Qs(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const i=wt({},t);return{data:await Qs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const T5="2.89.0",N5={"X-Client-Info":`storage-js/${T5}`};var eC=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=wt(wt({},N5),e),this.fetch=sm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Rf(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Rf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Qs(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await T0(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Qs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await om(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},tC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=wt(wt({},N5),e),this.fetch=sm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Rf(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await om(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!GN(t))throw new ch("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new BN({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,a){const u=o[a];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const am={"X-Client-Info":`storage-js/${T5}`,"Content-Type":"application/json"};var C5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function us(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var zp=class extends C5{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nC=class extends C5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const lm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ry=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rC=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new zp(Ry(a),i,u))}).catch(()=>{const a=i+"";e(new zp(o.statusText||`HTTP ${i} error`,i,a))});else{const a=i+"";e(new zp(o.statusText||`HTTP ${i} error`,i,a))}}else e(new nC(Ry(t),t))},sC=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(iC(i)?(o.headers=wt({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,wt(wt({},o),n)):o};async function oC(t,e,n,i,o,a){return new Promise((u,c)=>{t(n,sC(e,i,o,a)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>rC(f,c,i))})}async function cs(t,e,n,i,o){return oC(t,"POST",e,i,o,n)}var aC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=wt(wt({},am),e),this.fetch=lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await cs(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await cs(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}}},lC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=wt(wt({},am),e),this.fetch=lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await cs(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await cs(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await cs(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}},uC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=wt(wt({},am),e),this.fetch=lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await cs(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await cs(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}}},cC=class extends uC{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new fC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},fC=class extends aC{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new dC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},dC=class extends lC{constructor(t,e,n,i,o){super(t,e,o),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,wt(wt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},hC=class extends eC{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new ZN(this.url,this.headers,t,this.fetch)}get vectors(){return new cC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tC(this.url+"/iceberg",this.headers,this.fetch)}};const R5="2.89.0",hc=30*1e3,N0=3,Hp=N0*hc,pC="http://localhost:9999",mC="supabase.auth.token",gC={"X-Client-Info":`gotrue-js/${R5}`},C0="X-Supabase-Api-Version",I5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yC=600*1e3;class If extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ut(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bC extends If{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function wC(t){return ut(t)&&t.name==="AuthApiError"}class ru extends If{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Aa extends If{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class ls extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _C(t){return ut(t)&&t.name==="AuthSessionMissingError"}class rc extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends Aa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Md extends Aa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SC(t){return ut(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iy extends Aa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AC extends Aa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class R0 extends Aa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gp(t){return ut(t)&&t.name==="AuthRetryableFetchError"}class ky extends Aa{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class I0 extends Aa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ly=` 	
\r=`.split(""),xC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ly.length;e+=1)t[Ly[e].charCodeAt(0)]=-2;for(let e=0;e<Xd.length;e+=1)t[Xd[e].charCodeAt(0)]=e;return t})();function My(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Xd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Xd[i]),e.queuedBits-=6}}function k5(t,e,n){const i=xC[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Py(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{NC(u,i,n)};for(let u=0;u<t.length;u+=1)k5(t.charCodeAt(u),o,a);return e.join("")}function EC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TC(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}EC(i,e)}}function NC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ac(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)k5(t.charCodeAt(o),n,i);return new Uint8Array(e)}function CC(t){const e=[];return TC(t,n=>e.push(n)),new Uint8Array(e)}function ou(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>My(o,n,i)),My(null,n,i),e.join("")}function RC(t){return Math.round(Date.now()/1e3)+t}function IC(){return Symbol("auth-callback")}const Ji=()=>typeof window<"u"&&typeof document<"u",Xl={tested:!1,writable:!1},L5=()=>{if(!Ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xl.tested)return Xl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xl.tested=!0,Xl.writable=!0}catch{Xl.tested=!0,Xl.writable=!1}return Xl.writable};function kC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const M5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),LC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ql=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$i=async(t,e)=>{await t.removeItem(e)};class fh{constructor(){this.promise=new fh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fh.promiseConstructor=Promise;function Vp(t){const e=t.split(".");if(e.length!==3)throw new I0("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!vC.test(e[i]))throw new I0("JWT not in base64url format");return{header:JSON.parse(Py(e[0])),payload:JSON.parse(Py(e[1])),signature:Ac(e[2]),raw:{header:e[0],payload:e[1]}}}async function MC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function PC(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){i(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function DC(t){return("0"+t.toString(16)).substr(-2)}function UC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,DC).join("")}async function OC(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function qC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await OC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sc(t,e,n=!1){const i=UC();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await pc(t,`${e}-code-verifier`,o);const a=await qC(i);return[a,i===a?"plain":"s256"]}const BC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FC(t){const e=t.headers.get(C0);if(!e||!e.match(BC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function HC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oc(t){if(!GC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VC(t,e){return new Proxy(t,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,o)}})}function Dy(t){return JSON.parse(JSON.stringify(t))}const tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jC=[502,503,504];async function Uy(t){var e;if(!LC(t))throw new R0(tu(t),0);if(jC.includes(t.status))throw new R0(tu(t),t.status);let n;try{n=await t.json()}catch(a){throw new ru(tu(a),a)}let i;const o=FC(t);if(o&&o.getTime()>=I5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new ky(tu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ls}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new ky(tu(n),t.status,n.weak_password.reasons);throw new bC(tu(n),t.status||500,i)}const $C=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function bt(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[C0]||(a[C0]=I5["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await JC(t,e,n+c,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function JC(t,e,n,i,o,a){const u=$C(e,i,o,a);let c;try{c=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new R0(tu(f),0)}if(c.ok||await Uy(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(f){await Uy(f)}}function Xs(t){var e;let n=null;WC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RC(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Oy(t){const e=Xs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YC(t){return{data:t,error:null}}function KC(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,u=uh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},f=Object.assign({},u);return{data:{properties:c,user:f},error:null}}function qy(t){return t}function WC(t){return t.access_token&&t.refresh_token&&t.expires_in}const $p=["global","local","others"];class XC{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=M5(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=$p[0]){if($p.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$p.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hl})}catch(i){if(ut(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=uh(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:KC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,u,c,f;try{const h={nextPage:null,lastPage:0,total:0},g=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:qy});if(g.error)throw g.error;const w=await g.json(),A=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(f=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(R.split(";")[1].split("=")[1]);h[`${k}Page`]=N}),h.total=parseInt(A)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(ut(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){oc(e);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){oc(e);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hl})}catch(i){if(ut(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){oc(e);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hl})}catch(i){if(ut(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){oc(e.userId);try{const{data:n,error:i}=await bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(e){oc(e.userId),oc(e.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,o,a,u,c,f;try{const h={nextPage:null,lastPage:0,total:0},g=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:qy});if(g.error)throw g.error;const w=await g.json(),A=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(f=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(R.split(";")[1].split("=")[1]);h[`${k}Page`]=N}),h.total=parseInt(A)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(ut(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function By(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ac={debug:!!(globalThis&&L5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class QC extends P5{}async function ZC(t,e,n){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new QC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ac.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function e6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function D5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function t6(t){return parseInt(t,16)}function n6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function i6(t){var e;const{chainId:n,domain:i,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:c,requestId:f,resources:h,scheme:g,uri:w,version:A}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=D5(t.address),R=g?`${g}://${i}`:i,N=t.statement?`${t.statement}
`:"",k=`${R} wants you to sign in with your Ethereum account:
${S}

${N}`;let C=`URI: ${w}
Version: ${A}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),c&&(C+=`
Not Before: ${c.toISOString()}`),f&&(C+=`
Request ID: ${f}`),h){let U=`
Resources:`;for(const z of h){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);U+=`
- ${z}`}C+=U}return`${k}
${C}`}class mi extends Error{constructor({message:e,code:n,cause:i,name:o}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=o??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Qd extends mi{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function r6({error:t,options:e}){var n,i,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new mi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(U5(u)){if(a.rp.id!==u)return new mi({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new mi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function s6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(U5(i)){if(n.rpId!==i)return new mi({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class o6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const a6=new o6;function l6(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,o=uh(t,["challenge","user","excludeCredentials"]),a=Ac(e).buffer,u=Object.assign(Object.assign({},n),{id:Ac(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:u});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];c.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Ac(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function u6(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=uh(t,["challenge","allowCredentials"]),o=Ac(e).buffer,a=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Ac(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function c6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ou(new Uint8Array(t.response.attestationObject)),clientDataJSON:ou(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ou(new Uint8Array(o.authenticatorData)),clientDataJSON:ou(new Uint8Array(o.clientDataJSON)),signature:ou(new Uint8Array(o.signature)),userHandle:o.userHandle?ou(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function U5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Fy(){var t,e;return!!(Ji()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function d6(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",e)}:{data:null,error:new Qd("Empty credential response",e)}}catch(e){return{data:null,error:r6({error:e,options:t})}}}async function h6(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qd("Browser returned unexpected credential type",e)}:{data:null,error:new Qd("Empty credential response",e)}}catch(e){return{data:null,error:s6({error:e,options:t})}}}const p6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},m6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zd(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))i[a]=u;else if(n(u))i[a]=u;else if(e(u)){const c=i[a];e(c)?i[a]=Zd(c,u):i[a]=Zd(u)}else i[a]=u}return i}function g6(t,e){return Zd(p6,t,e||{})}function v6(t,e){return Zd(m6,t,e||{})}class y6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:o},a){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const f=o??a6.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${i}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=g6(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:w}=await d6({publicKey:h,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const h=v6(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:w}=await h6(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(u){return ut(u)?{data:null,error:u}:{data:null,error:new ru("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new If("rpId is required for WebAuthn authentication")};try{if(!Fy())return{data:null,error:new ru("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:a});if(!u)return{data:null,error:c};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return ut(u)?{data:null,error:u}:{data:null,error:new ru("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new If("rpId is required for WebAuthn registration")};try{if(!Fy())return{data:null,error:new ru("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:c};const{data:f,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:a});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(u){return ut(u)?{data:null,error:u}:{data:null,error:new ru("Unexpected error in register",u)}}}}e6();const b6={url:pC,storageKey:mC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zy(t,e,n){return await n()}const lc={};class kf{get jwks(){var e,n;return(n=(e=lc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){lc[this.storageKey]=Object.assign(Object.assign({},lc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=lc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lc[this.storageKey]=Object.assign(Object.assign({},lc[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},b6),e);if(this.storageKey=a.storageKey,this.instanceID=(n=kf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,kf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ji()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new XC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=M5(a.fetch),this.lock=a.lock||zy,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Ji()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=ZC:this.lock=zy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:L5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=By(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=By(this.memoryStorage)),Ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${R5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Ji()&&(n=kC(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ji()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SC(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new ru("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Xs}),{data:u,error:c}=a;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:g,password:w,options:A}=e;let S=null,R=null;this.flowType==="pkce"&&([S,R]=await sc(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:g,password:w,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:S,code_challenge_method:R},xform:Xs})}else if("phone"in e){const{phone:g,password:w,options:A}=e;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(i=A==null?void 0:A.data)!==null&&i!==void 0?i:{},channel:(o=A==null?void 0:A.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Xs})}else throw new Ld("You must provide either an email or phone number and a password");const{data:u,error:c}=a;if(c||!u)return await $i(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:c}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Oy})}else if("phone"in e){const{phone:a,password:u,options:c}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Oy})}else throw new Ld("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const a=new rc;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,o,a,u,c,f,h,g,w,A;let S,R;if("message"in e)S=e.message,R=e.signature;else{const{chain:N,wallet:k,statement:C,options:U}=e;let z;if(Ji())if(typeof k=="object")z=k;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")z=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=k}const Z=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href),fe=await z.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const pe=D5(fe[0]);let Q=(i=U==null?void 0:U.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Q){const me=await z.request({method:"eth_chainId"});Q=t6(me)}const K={domain:Z.host,address:pe,statement:C,uri:Z.href,version:"1",chainId:Q,nonce:(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=U==null?void 0:U.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=U==null?void 0:U.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=i6(K),R=await z.request({method:"personal_sign",params:[n6(S),pe]})}try{const{data:N,error:k}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:R},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Xs});if(k)throw k;if(!N||!N.session||!N.user){const C=new rc;return this._returnResult({data:{user:null,session:null},error:C})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(ut(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var n,i,o,a,u,c,f,h,g,w,A,S;let R,N;if("message"in e)R=e.message,N=e.signature;else{const{chain:k,wallet:C,statement:U,options:z}=e;let Z;if(Ji())if(typeof C=="object")Z=C;else{const pe=window;if("solana"in pe&&typeof pe.solana=="object"&&("signIn"in pe.solana&&typeof pe.solana.signIn=="function"||"signMessage"in pe.solana&&typeof pe.solana.signMessage=="function"))Z=pe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=C}const fe=new URL((n=z==null?void 0:z.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in Z&&Z.signIn){const pe=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z==null?void 0:z.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),U?{statement:U}:null));let Q;if(Array.isArray(pe)&&pe[0]&&typeof pe[0]=="object")Q=pe[0];else if(pe&&typeof pe=="object"&&"signedMessage"in pe&&"signature"in pe)Q=pe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)R=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),N=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${fe.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(o=(i=z==null?void 0:z.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=z==null?void 0:z.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z==null?void 0:z.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((c=z==null?void 0:z.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((f=z==null?void 0:z.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((h=z==null?void 0:z.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((w=(g=z==null?void 0:z.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...z.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const pe=await Z.signMessage(new TextEncoder().encode(R),"utf8");if(!pe||!(pe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=pe}}try{const{data:k,error:C}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:ou(N)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Xs});if(C)throw C;if(!k||!k.session||!k.user){const U=new rc;return this._returnResult({data:{user:null,session:null},error:U})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(ut(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Ql(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new AC;const{data:a,error:u}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Xs});if(await $i(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const c=new rc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:u}=e,c=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xs}),{data:f,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const g=new rc;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,o,a,u;try{if("email"in e){const{email:c,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await sc(this.storage,this.storageKey));const{error:w}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:c,options:f}=e,{data:h,error:g}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new Ld("You must provide either an email or phone number.")}catch(c){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:c}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Xs});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(ut(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,i,o,a,u;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await sc(this.storage,this.storageKey));const h=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:YC});return!((a=h.data)===null||a===void 0)&&a.url&&Ji()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ls;const{error:o}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ut(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:u}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:u,error:c}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ld("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Hp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Ql(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=jp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=VC(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hl}):await this._useSession(async n=>{var i,o,a;const{data:u,error:c}=n;if(c)throw c;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:hl})})}catch(n){if(ut(n))return _C(n)&&(await this._removeSession(),await $i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new ls;const u=o.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await sc(this.storage,this.storageKey));const{data:h,error:g}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:u.access_token,xform:hl});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ls;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:u}=Vp(e.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ls;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ji())throw new Md("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Md(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Iy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Md("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iy("No code detected.");const{data:U,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:c,expires_at:f,token_type:h}=e;if(!a||!c||!u||!h)throw new Md("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(c);let A=g+w;f&&(A=parseInt(f));const S=A-g;S*1e3<=hc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const R=A-w;g-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,A,g):g-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,A,g);const{data:N,error:k}=await this._getUser(a);if(k)throw k;const C={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:w,expires_at:A,refresh_token:u,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(ut(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(wC(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await $i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=IC(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await sc(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var u,c,f,h,g;const{data:w,error:A}=a;if(A)throw A;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Ji()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ut(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:c,token:f,access_token:h,nonce:g}=e,w=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:f,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Xs}),{data:A,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new rc}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:S}))}catch(o){if(await $i(this.storage,`${this.storageKey}-code-verifier`),ut(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)throw u;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await PC(async o=>(o>0&&await MC(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xs})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Gp(a)&&Date.now()+u-i<hc})}catch(i){if(this._debug(n,"error",i),ut(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ji()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Ql(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await pc(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:jp()}else if(o&&!o.user&&!o.user){const u=await Ql(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await $i(this.storage,this.storageKey+"-user"),await pc(this.storage,this.storageKey,o)):o.user=jp()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hp;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Hp}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Gp(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fh;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new ls;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),ut(a)){const u={data:null,error:a};return Gp(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $i(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await pc(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Dy(o);await pc(this.storage,this.storageKey,a)}else{const o=Dy(n);await pc(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $i(this.storage,this.storageKey),await $i(this.storage,this.storageKey+"-code-verifier"),await $i(this.storage,this.storageKey+"-user"),this.userStorage&&await $i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ji()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/hc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hc}ms, refresh threshold is ${N0} ticks`),o<=N0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof P5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ji()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,u]=await sc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?c6(e.webauthn.credential_response):f6(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:l6(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u6(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Vp(i.access_token);let u=null;a.aal&&(u=a.aal);let c=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ls})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new ls});const u=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Ji()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ut(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new ls});const u=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Ji()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ut(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ls})})}catch(e){if(ut(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ls})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+yC>o)return i;const{data:a,error:u}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:S,error:R}=await this.getSession();if(R||!S.session)return this._returnResult({data:null,error:R});i=S.session.access_token}const{header:o,payload:a,signature:u,raw:{header:c,payload:f}}=Vp(i);n!=null&&n.allowExpired||zC(a.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:a,header:o,signature:u},error:null}}const g=HC(o.alg),w=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,u,CC(`${c}.${f}`)))throw new I0("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(i){if(ut(i))return this._returnResult({data:null,error:i});throw i}}}kf.nextInstanceID={};const w6=kf,_6="2.89.0";let Sf="";typeof Deno<"u"?Sf="deno":typeof document<"u"?Sf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sf="react-native":Sf="node";const S6={"X-Client-Info":`supabase-js-${Sf}/${_6}`},A6={headers:S6},x6={schema:"public"},E6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T6={};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function N6(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Lf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C6(t){var e=N6(t,"string");return Lf(e)=="symbol"?e:e+""}function R6(t,e,n){return(e=C6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(n),!0).forEach(function(i){R6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const I6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),k6=()=>Headers,L6=(t,e,n)=>{const i=I6(n),o=k6();return async(a,u)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let h=new o(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),i(a,ti(ti({},u),{},{headers:h}))}};function M6(t){return t.endsWith("/")?t:t+"/"}function P6(t,e){var n,i;const{db:o,auth:a,realtime:u,global:c}=t,{db:f,auth:h,realtime:g,global:w}=e,A={db:ti(ti({},f),o),auth:ti(ti({},h),a),realtime:ti(ti({},g),u),storage:{},global:ti(ti(ti({},w),c),{},{headers:ti(ti({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function D6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var U6=class extends w6{constructor(t){super(t)}},O6=class{constructor(t,e,n){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const a=D6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:x6,realtime:T6,auth:ti(ti({},E6),{},{storageKey:u}),global:A6},f=P6(n??{},c);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=L6(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(ti({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new gN(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new hC(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new fN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:u,lock:c,debug:f,throwOnError:h},g,w){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U6({url:this.authUrl.href,headers:ti(ti({},A),g),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,flowType:u,lock:c,debug:f,throwOnError:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new MN(this.realtimeUrl.href,ti(ti({},t),{},{params:ti(ti({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const O5=(t,e,n)=>new O6(t,e,n);function q6(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}q6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var q5={};const Gy=q5.VITE_SUPABASE_URL||"",Vy=q5.VITE_SUPABASE_ANON_KEY||"";let dh=null;if(Gy&&Vy)try{dh=O5(Gy,Vy)}catch(t){console.error("Failed to initialize Supabase:",t)}else console.warn("Supabase credentials not found in environment variables");const B6=async(t,e,n,i=!1)=>{const{data:o,error:a}=await dh.from("attraction_images").insert([{attraction_id:t,storage_key:e,image_url:n,is_primary:i}]).select().single();if(a)throw console.error("Error saving image metadata:",a),new Error("Failed to save image metadata");return o},F6=async t=>{const{data:e,error:n}=await dh.from("attraction_images").select("*").eq("attraction_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching images:",n),new Error("Failed to fetch images");return e||[]},z6=async t=>{const{data:e,error:n}=await dh.from("attraction_images").select("*").eq("attraction_id",t).eq("is_primary",!0).single();return n&&n.code!=="PGRST116"&&console.error("Error fetching primary image:",n),e||null};var B5={};const jy=B5.VITE_SUPABASE_URL||"",$y=B5.VITE_SUPABASE_ANON_KEY||"";let k0=null;if(jy&&$y)try{k0=O5(jy,$y)}catch(t){console.error("Failed to initialize Supabase:",t)}else console.warn("Supabase credentials not found in environment variables");const Jy="hotel-photos",H6=async(t,e)=>{try{F5(t);const n=Date.now(),i=t.name.split(".").pop()||"jpg",o=`${n}.${i}`,a=`attractions/${e}/${o}`,{data:u,error:c}=await k0.storage.from(Jy).upload(a,t,{cacheControl:"3600",upsert:!1});if(c)throw console.error("Upload error:",c),new Error(`Upload failed: ${c.message}`);if(!u)throw new Error("Upload returned no data");const{data:f}=k0.storage.from(Jy).getPublicUrl(a);return{publicUrl:f.publicUrl,storagePath:a,fileName:o}}catch(n){throw console.error("Error uploading to Supabase Storage:",n),n}},G6=t=>{const e=new URL(t);return e.searchParams.set("width","200"),e.searchParams.set("height","200"),e.toString()},V6=t=>{const e=new URL(t);return e.searchParams.set("width","600"),e.searchParams.set("height","400"),e.toString()},j6=t=>{const e=new URL(t);return e.searchParams.set("width","1200"),e.searchParams.set("height","600"),e.toString()},F5=t=>{if(!["image/jpeg","image/png","image/webp","image/avif"].includes(t.type))throw new Error("Invalid file type. Please upload JPEG, PNG, WebP, or AVIF images.");const n=50*1024*1024;if(t.size>n)throw new Error("File size exceeds 50MB limit. Please compress your image.");return!0},$6=t=>{const[e,n]=pt.useState(null),[i,o]=pt.useState([]),[a,u]=pt.useState(!0),[c,f]=pt.useState(null),h=async()=>{if(!t){u(!1);return}try{u(!0),f(null);const g=await z6(t);n(g||null);const w=await F6(t);o(w||[])}catch(g){console.error("Error fetching attraction images:",g),f(g instanceof Error?g.message:"Failed to load images"),n(null),o([])}finally{u(!1)}};return pt.useEffect(()=>{h()},[t]),{primaryImage:e,allImages:i,loading:a,error:c,refetch:h}},Yy=({attractionId:t,onUploadSuccess:e,onUploadError:n,maxFiles:i=5})=>{const o=pt.useRef(null),[a,u]=pt.useState({}),[c,f]=pt.useState(!1),h=pt.useCallback(async N=>{if(!N)return;const k=Array.from(N).slice(0,i);for(const C of k)await g(C)},[t,i]),g=async N=>{const k=`${Date.now()}-${N.name}`;try{u(Q=>({...Q,[k]:{progress:0,status:"pending"}})),f(!0),u(Q=>({...Q,[k]:{progress:10,status:"uploading"}})),F5(N),u(Q=>({...Q,[k]:{progress:30,status:"uploading"}}));const{publicUrl:C,storagePath:U}=await H6(N,t);u(Q=>({...Q,[k]:{progress:70,status:"uploading"}}));const z=G6(C),Z=V6(C),fe=j6(C);u(Q=>({...Q,[k]:{progress:85,status:"uploading"}}));const pe=await B6(t,U,C,!1);u(Q=>({...Q,[k]:{progress:100,status:"success"}})),e&&e(pe),setTimeout(()=>{u(Q=>{const K={...Q};return delete K[k],K}),f(!1)},3e3)}catch(C){const U=C instanceof Error?C:new Error(String(C));u(z=>({...z,[k]:{progress:0,status:"error",error:U.message}})),n&&n(U),f(!1),setTimeout(()=>{u(z=>{const Z={...z};return delete Z[k],Z})},5e3)}},w=N=>{N.preventDefault(),N.stopPropagation()},A=N=>{N.preventDefault(),N.stopPropagation(),h(N.dataTransfer.files)},S=N=>{h(N.target.files)},R=Object.values(a).some(N=>N.status==="uploading");return D.jsxs("div",{className:"w-full max-w-md mx-auto",children:[D.jsxs("div",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},onDragOver:w,onDrop:A,className:`
          relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer
          transition-all duration-200
          ${R?"border-teal-400 bg-teal-50 dark:bg-teal-900/20":"border-slate-300 dark:border-slate-600 hover:border-teal-400 hover:bg-teal-50/50 dark:hover:bg-teal-900/10"}
        `,children:[D.jsx("input",{ref:o,type:"file",multiple:!0,accept:"image/*",onChange:S,disabled:R,className:"hidden"}),D.jsx(s0,{className:"mx-auto mb-3 text-slate-600 dark:text-slate-400",size:32}),D.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Drop images here or click to select"}),D.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:["PNG, JPG, WebP or AVIF  Max 50MB each  Up to ",i," images"]})]}),D.jsx("div",{className:"mt-4 space-y-2",children:Object.entries(a).map(([N,k])=>D.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 border border-slate-200 dark:border-slate-700",children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:N.split("-").pop()}),k.status==="uploading"&&D.jsx(Tf,{className:"text-teal-500 animate-spin",size:16}),k.status==="success"&&D.jsx(qw,{className:"text-green-500",size:16}),k.status==="error"&&D.jsx(Uw,{className:"text-red-500",size:16})]}),k.status!=="error"&&D.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:D.jsx("div",{className:`h-full transition-all duration-300 ${k.status==="success"?"bg-green-500":"bg-teal-500"}`,style:{width:`${k.progress}%`}})}),k.error&&D.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:k.error})]},N))}),D.jsx("div",{className:"mt-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:D.jsxs("p",{className:"text-xs text-green-900 dark:text-green-200",children:[D.jsx("strong",{children:" No credit card needed!"})," Images are uploaded directly to Supabase Storage (completely free). Metadata saved to your database."]})})]})},J6=({attraction:t,isOpen:e,onClose:n,isSelected:i,onToggle:o})=>{var S;const[a,u]=pt.useState(!1),{primaryImage:c,allImages:f,loading:h,refetch:g}=$6(t.id);if(!e)return null;const w=(c==null?void 0:c.image_url)||`https://picsum.photos/800/600?random=${t.id}`,A=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.name+" "+t.category)}`;return D.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:n}),D.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-4xl max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl flex flex-col md:flex-row animate-in zoom-in-95 duration-300 border dark:border-slate-800",children:[D.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-50 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full backdrop-blur-md transition-colors",children:D.jsx(T2,{size:20})}),D.jsxs("div",{className:"w-full md:w-1/2 h-64 md:h-auto relative bg-slate-100 dark:bg-slate-800",children:[h?D.jsx("div",{className:"w-full h-full flex items-center justify-center",children:D.jsx("div",{className:"animate-pulse text-slate-400",children:"Loading image..."})}):D.jsxs(D.Fragment,{children:[D.jsx("img",{src:w,alt:t.name,className:"w-full h-full object-cover"}),!c&&D.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:D.jsxs("button",{onClick:()=>u(!0),className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-4 py-2 rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-lg",children:[D.jsx(s0,{size:18}),"Add Photo"]})})]}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent md:hidden"}),D.jsxs("div",{className:"absolute bottom-4 left-4 md:hidden text-white",children:[D.jsx("h2",{className:"text-2xl font-bold",children:t.name}),D.jsx("p",{className:"text-white/80 text-sm",children:t.category})]})]}),D.jsxs("div",{className:"w-full md:w-1/2 p-6 md:p-8 overflow-y-auto flex flex-col scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[D.jsxs("div",{className:"hidden md:block mb-6",children:[D.jsxs("div",{className:"flex items-center gap-2 text-brand-600 dark:text-brand-400 font-semibold text-sm mb-2 uppercase tracking-wider",children:[D.jsx(Vd,{size:16}),t.category]}),D.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:t.name})]}),D.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[D.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-3 py-1 rounded-lg font-medium text-sm border border-amber-100 dark:border-amber-800",children:[D.jsx(r0,{size:16,className:"fill-amber-500 text-amber-500"}),t.rating," Rating"]}),D.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-3 py-1 rounded-lg font-medium text-sm",children:[D.jsx(S2,{size:16}),t.estimatedTime]})]}),D.jsxs("div",{className:"prose prose-slate dark:prose-invert mb-8",children:[D.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"About"}),D.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.description})]}),D.jsxs("div",{className:"mb-8",children:[D.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Opening Hours"}),D.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-slate-700 dark:text-slate-300 text-sm",children:t.openingHours})]}),D.jsxs("div",{className:"mb-8",children:[D.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"What travelers say"}),D.jsx("div",{className:"space-y-3",children:(S=t.reviews)==null?void 0:S.map((R,N)=>D.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 p-3 rounded-xl shadow-sm",children:[D.jsxs("div",{className:"flex items-center justify-between mb-1",children:[D.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:R.author}),D.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((k,C)=>D.jsx(r0,{size:10,className:C<Math.round(R.rating)?"fill-current":"text-slate-200 dark:text-slate-600"},C))})]}),D.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs italic",children:['"',R.comment,'"']})]},N))})]}),D.jsxs("div",{className:"mt-auto space-y-3",children:[D.jsx("button",{onClick:()=>o(t),className:`
                 w-full py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all
                 ${i?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800":"bg-brand-600 dark:bg-brand-600 text-white hover:bg-brand-700 shadow-lg shadow-brand-200 dark:shadow-none"}
               `,children:i?D.jsx(D.Fragment,{children:"Remove from Itinerary"}):D.jsxs(D.Fragment,{children:[D.jsx($0,{size:20})," Add to Itinerary"]})}),D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("a",{href:A,target:"_blank",rel:"noreferrer",className:"flex-1 py-3.5 rounded-xl font-semibold text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center justify-center gap-2 transition-colors",children:[D.jsx(Vd,{size:18})," Maps"]}),t.sourceUrl&&D.jsxs("a",{href:t.sourceUrl,target:"_blank",rel:"noreferrer",className:"flex-1 py-3.5 rounded-xl font-semibold text-brand-700 dark:text-brand-400 bg-brand-50 dark:bg-brand-900/30 border border-brand-100 dark:border-brand-800 hover:bg-brand-100 dark:hover:bg-brand-900/50 flex items-center justify-center gap-2 transition-colors",children:[D.jsx(e_,{size:18})," Source"]})]}),a&&D.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:[D.jsx("h4",{className:"text-sm font-bold text-slate-900 dark:text-white mb-3",children:"Upload Attraction Photos"}),D.jsx(Yy,{attractionId:t.id,maxFiles:5,onUploadSuccess:()=>{g(),u(!1)},onUploadError:R=>{console.error("Upload failed:",R)}})]}),!a&&f.length===0&&D.jsxs("button",{onClick:()=>u(!0),className:"w-full py-2.5 rounded-lg font-semibold text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-center gap-2 transition-colors text-sm",children:[D.jsx(s0,{size:16})," Add Photos"]}),f.length>0&&D.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[D.jsxs("div",{className:"flex justify-between items-center mb-3",children:[D.jsxs("h4",{className:"text-sm font-bold text-slate-900 dark:text-white",children:["Photos (",f.length,")"]}),D.jsx("button",{onClick:()=>u(!a),className:"text-xs font-semibold text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300",children:a?"Hide":"Add More"})]}),a&&D.jsx("div",{className:"mb-3",children:D.jsx(Yy,{attractionId:t.id,maxFiles:5,onUploadSuccess:()=>{g()},onUploadError:R=>{console.error("Upload failed:",R)}})}),D.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.slice(0,6).map(R=>D.jsx("img",{src:R.image_url,alt:"Attraction",className:"w-full h-20 object-cover rounded-lg border border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 transition-colors cursor-pointer"},R.id))})]})]})]})]})]})},Y6="modulepreload",K6=function(t){return"/yatra/"+t},Ky={},L0=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=u(n.map(h=>{if(h=K6(h),h in Ky)return;Ky[h]=!0;const g=h.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${w}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":Y6,g||(A.as="script"),A.crossOrigin="",A.href=h,f&&A.setAttribute("nonce",f),document.head.appendChild(A),g)return new Promise((S,R)=>{A.addEventListener("load",S),A.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return o.then(u=>{for(const c of u||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}var $r=Uint8Array,vr=Uint16Array,Mf=Uint32Array,hh=new $r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ph=new $r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M0=new $r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z5=function(t,e){for(var n=new vr(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var o=new Mf(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)o[a]=a-n[i]<<5|i;return[n,o]},H5=z5(hh,2),G5=H5[0],P0=H5[1];G5[28]=258,P0[258]=28;var V5=z5(ph,0),W6=V5[0],Wy=V5[1],D0=new vr(32768);for(var Un=0;Un<32768;++Un){var cl=(Un&43690)>>>1|(Un&21845)<<1;cl=(cl&52428)>>>2|(cl&13107)<<2,cl=(cl&61680)>>>4|(cl&3855)<<4,D0[Un]=((cl&65280)>>>8|(cl&255)<<8)>>>1}var Bo=(function(t,e,n){for(var i=t.length,o=0,a=new vr(e);o<i;++o)++a[t[o]-1];var u=new vr(e);for(o=0;o<e;++o)u[o]=u[o-1]+a[o-1]<<1;var c;if(n){c=new vr(1<<e);var f=15-e;for(o=0;o<i;++o)if(t[o])for(var h=o<<4|t[o],g=e-t[o],w=u[t[o]-1]++<<g,A=w|(1<<g)-1;w<=A;++w)c[D0[w]>>>f]=h}else for(c=new vr(i),o=0;o<i;++o)c[o]=D0[u[t[o]-1]++]>>>15-t[o];return c}),ml=new $r(288);for(var Un=0;Un<144;++Un)ml[Un]=8;for(var Un=144;Un<256;++Un)ml[Un]=9;for(var Un=256;Un<280;++Un)ml[Un]=7;for(var Un=280;Un<288;++Un)ml[Un]=8;var Pf=new $r(32);for(var Un=0;Un<32;++Un)Pf[Un]=5;var X6=Bo(ml,9,0),Q6=Bo(ml,9,1),Z6=Bo(Pf,5,0),e8=Bo(Pf,5,1),Jp=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ks=function(t,e,n){var i=e/8>>0;return(t[i]|t[i+1]<<8)>>>(e&7)&n},Yp=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},um=function(t){return(t/8>>0)+(t&7&&1)},j5=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof vr?vr:t instanceof Mf?Mf:$r)(n-e);return i.set(t.subarray(e,n)),i},t8=function(t,e,n){var i=t.length,o=!e||n,a=!n||n.i;n||(n={}),e||(e=new $r(i*3));var u=function(oe){var ve=e.length;if(oe>ve){var Ae=new $r(Math.max(ve*2,oe));Ae.set(e),e=Ae}},c=n.f||0,f=n.p||0,h=n.b||0,g=n.l,w=n.d,A=n.m,S=n.n,R=i*8;do{if(!g){n.f=c=Ks(t,f,1);var N=Ks(t,f+1,3);if(f+=3,N)if(N==1)g=Q6,w=e8,A=9,S=5;else if(N==2){var z=Ks(t,f,31)+257,Z=Ks(t,f+10,15)+4,fe=z+Ks(t,f+5,31)+1;f+=14;for(var pe=new $r(fe),Q=new $r(19),K=0;K<Z;++K)Q[M0[K]]=Ks(t,f+K*3,7);f+=Z*3;var me=Jp(Q),Te=(1<<me)-1;if(!a&&f+fe*(me+7)>R)break;for(var V=Bo(Q,me,1),K=0;K<fe;){var j=V[Ks(t,f,Te)];f+=j&15;var k=j>>>4;if(k<16)pe[K++]=k;else{var ie=0,ee=0;for(k==16?(ee=3+Ks(t,f,3),f+=2,ie=pe[K-1]):k==17?(ee=3+Ks(t,f,7),f+=3):k==18&&(ee=11+Ks(t,f,127),f+=7);ee--;)pe[K++]=ie}}var Ie=pe.subarray(0,z),$=pe.subarray(z);A=Jp(Ie),S=Jp($),g=Bo(Ie,A,1),w=Bo($,S,1)}else throw"invalid block type";else{var k=um(f)+4,C=t[k-4]|t[k-3]<<8,U=k+C;if(U>i){if(a)throw"unexpected EOF";break}o&&u(h+C),e.set(t.subarray(k,U),h),n.b=h+=C,n.p=f=U*8;continue}if(f>R)throw"unexpected EOF"}o&&u(h+131072);for(var re=(1<<A)-1,ce=(1<<S)-1,Ne=A+S+18;a||f+Ne<R;){var ie=g[Yp(t,f)&re],Re=ie>>>4;if(f+=ie&15,f>R)throw"unexpected EOF";if(!ie)throw"invalid length/literal";if(Re<256)e[h++]=Re;else if(Re==256){g=null;break}else{var W=Re-254;if(Re>264){var K=Re-257,L=hh[K];W=Ks(t,f,(1<<L)-1)+G5[K],f+=L}var H=w[Yp(t,f)&ce],J=H>>>4;if(!H)throw"invalid distance";f+=H&15;var $=W6[J];if(J>3){var L=ph[J];$+=Yp(t,f)&(1<<L)-1,f+=L}if(f>R)throw"unexpected EOF";o&&u(h+131072);for(var te=h+W;h<te;h+=4)e[h]=e[h-$],e[h+1]=e[h+1-$],e[h+2]=e[h+2-$],e[h+3]=e[h+3-$];h=te}}n.l=g,n.p=f,n.b=h,g&&(c=1,n.m=A,n.d=w,n.n=S)}while(!c);return h==e.length?e:j5(e,0,h)},ya=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},bf=function(t,e,n){n<<=e&7;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},Kp=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var o=n.length,a=n.slice();if(!o)return[new $r(0),0];if(o==1){var u=new $r(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort(function(fe,pe){return fe.f-pe.f}),n.push({s:-1,f:25001});var c=n[0],f=n[1],h=0,g=1,w=2;for(n[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=o-1;)c=n[n[h].f<n[w].f?h++:w++],f=n[h!=g&&n[h].f<n[w].f?h++:w++],n[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=a[0].s,i=1;i<o;++i)a[i].s>A&&(A=a[i].s);var S=new vr(A+1),R=U0(n[g-1],S,0);if(R>e){var i=0,N=0,k=R-e,C=1<<k;for(a.sort(function(pe,Q){return S[Q.s]-S[pe.s]||pe.f-Q.f});i<o;++i){var U=a[i].s;if(S[U]>e)N+=C-(1<<R-S[U]),S[U]=e;else break}for(N>>>=k;N>0;){var z=a[i].s;S[z]<e?N-=1<<e-S[z]++-1:++i}for(;i>=0&&N;--i){var Z=a[i].s;S[Z]==e&&(--S[Z],++N)}R=e}return[new $r(S),R]},U0=function(t,e,n){return t.s==-1?Math.max(U0(t.l,e,n+1),U0(t.r,e,n+1)):e[t.s]=n},Xy=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vr(++e),i=0,o=t[0],a=1,u=function(f){n[i++]=f},c=1;c<=e;++c)if(t[c]==o&&c!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)u(32754);a>2&&(u(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(u(o),--a;a>6;a-=6)u(8304);a>2&&(u(a-3<<5|8208),a=0)}for(;a--;)u(o);a=1,o=t[c]}return[n.subarray(0,i),e]},wf=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},O0=function(t,e,n){var i=n.length,o=um(e+2);t[o]=i&255,t[o+1]=i>>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var a=0;a<i;++a)t[o+a+4]=n[a];return(o+4+i)*8},Qy=function(t,e,n,i,o,a,u,c,f,h,g){ya(e,g++,n),++o[256];for(var w=Kp(o,15),A=w[0],S=w[1],R=Kp(a,15),N=R[0],k=R[1],C=Xy(A),U=C[0],z=C[1],Z=Xy(N),fe=Z[0],pe=Z[1],Q=new vr(19),K=0;K<U.length;++K)Q[U[K]&31]++;for(var K=0;K<fe.length;++K)Q[fe[K]&31]++;for(var me=Kp(Q,7),Te=me[0],V=me[1],j=19;j>4&&!Te[M0[j-1]];--j);var ie=h+5<<3,ee=wf(o,ml)+wf(a,Pf)+u,Ie=wf(o,A)+wf(a,N)+u+14+3*j+wf(Q,Te)+(2*Q[16]+3*Q[17]+7*Q[18]);if(ie<=ee&&ie<=Ie)return O0(e,g,t.subarray(f,f+h));var $,re,ce,Ne;if(ya(e,g,1+(Ie<ee)),g+=2,Ie<ee){$=Bo(A,S,0),re=A,ce=Bo(N,k,0),Ne=N;var Re=Bo(Te,V,0);ya(e,g,z-257),ya(e,g+5,pe-1),ya(e,g+10,j-4),g+=14;for(var K=0;K<j;++K)ya(e,g+3*K,Te[M0[K]]);g+=3*j;for(var W=[U,fe],L=0;L<2;++L)for(var H=W[L],K=0;K<H.length;++K){var J=H[K]&31;ya(e,g,Re[J]),g+=Te[J],J>15&&(ya(e,g,H[K]>>>5&127),g+=H[K]>>>12)}}else $=X6,re=ml,ce=Z6,Ne=Pf;for(var K=0;K<c;++K)if(i[K]>255){var J=i[K]>>>18&31;bf(e,g,$[J+257]),g+=re[J+257],J>7&&(ya(e,g,i[K]>>>23&31),g+=hh[J]);var te=i[K]&31;bf(e,g,ce[te]),g+=Ne[te],te>3&&(bf(e,g,i[K]>>>5&8191),g+=ph[te])}else bf(e,g,$[i[K]]),g+=re[i[K]];return bf(e,g,$[256]),g+re[256]},n8=new Mf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i8=function(t,e,n,i,o,a){var u=t.length,c=new $r(i+u+5*(1+Math.floor(u/7e3))+o),f=c.subarray(i,c.length-o),h=0;if(!e||u<8)for(var g=0;g<=u;g+=65535){var w=g+65535;w<u?h=O0(f,h,t.subarray(g,w)):(f[g]=a,h=O0(f,h,t.subarray(g,u)))}else{for(var A=n8[e-1],S=A>>>13,R=A&8191,N=(1<<n)-1,k=new vr(32768),C=new vr(N+1),U=Math.ceil(n/3),z=2*U,Z=function(ct){return(t[ct]^t[ct+1]<<U^t[ct+2]<<z)&N},fe=new Mf(25e3),pe=new vr(288),Q=new vr(32),K=0,me=0,g=0,Te=0,V=0,j=0;g<u;++g){var ie=Z(g),ee=g&32767,Ie=C[ie];if(k[ee]=Ie,C[ie]=ee,V<=g){var $=u-g;if((K>7e3||Te>24576)&&$>423){h=Qy(t,f,0,fe,pe,Q,me,Te,j,g-j,h),Te=K=me=0,j=g;for(var re=0;re<286;++re)pe[re]=0;for(var re=0;re<30;++re)Q[re]=0}var ce=2,Ne=0,Re=R,W=ee-Ie&32767;if($>2&&ie==Z(g-W))for(var L=Math.min(S,$)-1,H=Math.min(32767,g),J=Math.min(258,$);W<=H&&--Re&&ee!=Ie;){if(t[g+ce]==t[g+ce-W]){for(var te=0;te<J&&t[g+te]==t[g+te-W];++te);if(te>ce){if(ce=te,Ne=W,te>L)break;for(var oe=Math.min(W,te-2),ve=0,re=0;re<oe;++re){var Ae=g-W+re+32768&32767,Se=k[Ae],je=Ae-Se+32768&32767;je>ve&&(ve=je,Ie=Ae)}}}ee=Ie,Ie=k[ee],W+=ee-Ie+32768&32767}if(Ne){fe[Te++]=268435456|P0[ce]<<18|Wy[Ne];var Ve=P0[ce]&31,Qe=Wy[Ne]&31;me+=hh[Ve]+ph[Qe],++pe[257+Ve],++Q[Qe],V=g+ce,++K}else fe[Te++]=t[g],++pe[t[g]]}}h=Qy(t,f,a,fe,pe,Q,me,Te,j,g-j,h)}return j5(c,0,i+um(h)+o)},r8=function(){var t=1,e=0;return{p:function(n){for(var i=t,o=e,a=n.length,u=0;u!=a;){for(var c=Math.min(u+5552,a);u<c;++u)i+=n[u],o+=i;i%=65521,o%=65521}t=i,e=o},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},s8=function(t,e,n,i,o){return i8(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,i,!0)},o8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},a8=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=i<<6|(i?32-2*i:1)},l8=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function q0(t,e){e===void 0&&(e={});var n=r8();n.p(t);var i=s8(t,e,2,4);return a8(i,e),o8(i,i.length-4,n.d()),i}function u8(t,e){return t8((l8(t),t.subarray(2,-4)),e)}var xt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Wp(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var En={log:Wp,warn:function(t){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):Wp.call(null,arguments))},error:function(t){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):Wp(t))}};function Xp(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){nu(i.response,e,n)},i.onerror=function(){En.error("could not download file")},i.send()}function Zy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ef,B0,nu=xt.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=xt.URL||xt.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Zy(o.href)?Xp(t,e,n):Pd(o,o.target="_blank"):Pd(o)):(o.href=i.createObjectURL(t),setTimeout((function(){i.revokeObjectURL(o.href)}),4e4),setTimeout((function(){Pd(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Zy(t))Xp(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){Pd(i)}))}else navigator.msSaveOrOpenBlob((function(o,a){return a===void 0?a={autoBom:!1}:mn(a)!=="object"&&(En.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return Xp(t,e,n);var o=t.type==="application/octet-stream",a=/constructor/i.test(xt.HTMLElement)||xt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&a)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},c.readAsDataURL(t)}else{var f=xt.URL||xt.webkitURL,h=f.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $5(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var o=n[i].re,a=n[i].process,u=o.exec(t);u&&(e=a(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+c+f+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qp(t,e){var n=t[0],i=t[1],o=t[2],a=t[3];n=ir(n,i,o,a,e[0],7,-680876936),a=ir(a,n,i,o,e[1],12,-389564586),o=ir(o,a,n,i,e[2],17,606105819),i=ir(i,o,a,n,e[3],22,-1044525330),n=ir(n,i,o,a,e[4],7,-176418897),a=ir(a,n,i,o,e[5],12,1200080426),o=ir(o,a,n,i,e[6],17,-1473231341),i=ir(i,o,a,n,e[7],22,-45705983),n=ir(n,i,o,a,e[8],7,1770035416),a=ir(a,n,i,o,e[9],12,-1958414417),o=ir(o,a,n,i,e[10],17,-42063),i=ir(i,o,a,n,e[11],22,-1990404162),n=ir(n,i,o,a,e[12],7,1804603682),a=ir(a,n,i,o,e[13],12,-40341101),o=ir(o,a,n,i,e[14],17,-1502002290),n=rr(n,i=ir(i,o,a,n,e[15],22,1236535329),o,a,e[1],5,-165796510),a=rr(a,n,i,o,e[6],9,-1069501632),o=rr(o,a,n,i,e[11],14,643717713),i=rr(i,o,a,n,e[0],20,-373897302),n=rr(n,i,o,a,e[5],5,-701558691),a=rr(a,n,i,o,e[10],9,38016083),o=rr(o,a,n,i,e[15],14,-660478335),i=rr(i,o,a,n,e[4],20,-405537848),n=rr(n,i,o,a,e[9],5,568446438),a=rr(a,n,i,o,e[14],9,-1019803690),o=rr(o,a,n,i,e[3],14,-187363961),i=rr(i,o,a,n,e[8],20,1163531501),n=rr(n,i,o,a,e[13],5,-1444681467),a=rr(a,n,i,o,e[2],9,-51403784),o=rr(o,a,n,i,e[7],14,1735328473),n=sr(n,i=rr(i,o,a,n,e[12],20,-1926607734),o,a,e[5],4,-378558),a=sr(a,n,i,o,e[8],11,-2022574463),o=sr(o,a,n,i,e[11],16,1839030562),i=sr(i,o,a,n,e[14],23,-35309556),n=sr(n,i,o,a,e[1],4,-1530992060),a=sr(a,n,i,o,e[4],11,1272893353),o=sr(o,a,n,i,e[7],16,-155497632),i=sr(i,o,a,n,e[10],23,-1094730640),n=sr(n,i,o,a,e[13],4,681279174),a=sr(a,n,i,o,e[0],11,-358537222),o=sr(o,a,n,i,e[3],16,-722521979),i=sr(i,o,a,n,e[6],23,76029189),n=sr(n,i,o,a,e[9],4,-640364487),a=sr(a,n,i,o,e[12],11,-421815835),o=sr(o,a,n,i,e[15],16,530742520),n=or(n,i=sr(i,o,a,n,e[2],23,-995338651),o,a,e[0],6,-198630844),a=or(a,n,i,o,e[7],10,1126891415),o=or(o,a,n,i,e[14],15,-1416354905),i=or(i,o,a,n,e[5],21,-57434055),n=or(n,i,o,a,e[12],6,1700485571),a=or(a,n,i,o,e[3],10,-1894986606),o=or(o,a,n,i,e[10],15,-1051523),i=or(i,o,a,n,e[1],21,-2054922799),n=or(n,i,o,a,e[8],6,1873313359),a=or(a,n,i,o,e[15],10,-30611744),o=or(o,a,n,i,e[6],15,-1560198380),i=or(i,o,a,n,e[13],21,1309151649),n=or(n,i,o,a,e[4],6,-145523070),a=or(a,n,i,o,e[11],10,-1120210379),o=or(o,a,n,i,e[2],15,718787259),i=or(i,o,a,n,e[9],21,-343485551),t[0]=pl(n,t[0]),t[1]=pl(i,t[1]),t[2]=pl(o,t[2]),t[3]=pl(a,t[3])}function mh(t,e,n,i,o,a){return e=pl(pl(e,t),pl(i,a)),pl(e<<o|e>>>32-o,n)}function ir(t,e,n,i,o,a,u){return mh(e&n|~e&i,t,e,o,a,u)}function rr(t,e,n,i,o,a,u){return mh(e&i|n&~i,t,e,o,a,u)}function sr(t,e,n,i,o,a,u){return mh(e^n^i,t,e,o,a,u)}function or(t,e,n,i,o,a,u){return mh(n^(e|~i),t,e,o,a,u)}function J5(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Qp(i,c8(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(Qp(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,Qp(i,o),i}function c8(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ef=xt.atob.bind(xt),B0=xt.btoa.bind(xt);var e2="0123456789abcdef".split("");function f8(t){for(var e="",n=0;n<4;n++)e+=e2[t>>8*n+4&15]+e2[t>>8*n&15];return e}function d8(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function F0(t){return J5(t).map(d8).join("")}var h8=(function(t){for(var e=0;e<t.length;e++)t[e]=f8(t[e]);return t.join("")})(J5("hello"))!="5d41402abc4b2a76b9719d911017c592";function pl(t,e){if(h8){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function z0(t,e){var n,i,o,a;if(t!==n){for(var u=(o=t,a=1+(256/t.length>>0),new Array(a+1).join(o)),c=[],f=0;f<256;f++)c[f]=f;var h=0;for(f=0;f<256;f++){var g=c[f];h=(h+g+u.charCodeAt(f))%256,c[f]=c[h],c[h]=g}n=t,i=c}else c=i;var w=e.length,A=0,S=0,R="";for(f=0;f<w;f++)S=(S+(g=c[A=(A+1)%256]))%256,c[A]=c[S],c[S]=g,u=c[(c[A]+c[S])%256],R+=String.fromCharCode(e.charCodeAt(f)^u);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t2={print:4,modify:8,copy:16,"annot-forms":32};function mc(t,e,n,i){this.v=1,this.r=2;var o=192;t.forEach((function(c){if(t2.perm!==void 0)throw new Error("Invalid permission: "+c);o+=t2[c]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,u),this.P=-(1+(255^o)),this.encryptionKey=F0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=z0(this.encryptionKey,this.padding)}function gc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var o=t.charCodeAt(i);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=t[i]}return e}function n2(t){if(mn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,o){if(o=o||!1,typeof n!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[i,!!o],a},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[n]){var u=e[n][a];try{u[0].apply(t,i)}catch(c){xt.console&&En.error("jsPDF PubSub Error",c.message,c)}u[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function eh(t){if(!(this instanceof eh))return new eh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Y5(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function su(t,e,n,i,o){if(!(this instanceof su))return new su(t,e,n,i,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Y5.call(this,i,o)}function wc(t,e,n,i,o){if(!(this instanceof wc))return new wc(t,e,n,i,o);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Y5.call(this,i,o)}function _t(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],a=arguments[3],u=[],c=1,f=16,h="S",g=null;mn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,o=t.format||o,a=t.compress||t.compressPdf||a,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),u=t.filters||(a===!0?["FlateEncode"]:u),i=i||"mm",n=(""+(n||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,A={},S={internal:{},__private__:{}};S.__private__.PubSub=n2;var R="1.3",N=S.__private__.getPdfVersion=function(){return R};S.__private__.setPdfVersion=function(x){R=x};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return k};var C=S.__private__.getPageFormat=function(x){return k[x]};o=o||"a4";var U={COMPAT:"compat",ADVANCED:"advanced"},z=U.COMPAT;function Z(){this.saveGraphicsState(),ne(new mt(Ze,0,0,-Ze,0,yo()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),h="n",z=U.ADVANCED}function fe(){this.restoreGraphicsState(),h="S",z=U.COMPAT}var pe=S.__private__.combineFontStyleAndFontWeight=function(x,P){if(x=="bold"&&P=="normal"||x=="bold"&&P==400||x=="normal"&&P=="italic"||x=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(x=P==400||P==="normal"?x==="italic"?"italic":"normal":P!=700&&P!=="bold"||x!=="normal"?(P==700?"bold":P)+""+x:"bold"),x};S.advancedAPI=function(x){var P=z===U.COMPAT;return P&&Z.call(this),typeof x!="function"||(x(this),P&&fe.call(this)),this},S.compatAPI=function(x){var P=z===U.ADVANCED;return P&&fe.call(this),typeof x!="function"||(x(this),P&&Z.call(this)),this},S.isAdvancedAPI=function(){return z===U.ADVANCED};var Q,K=function(x){if(z!==U.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=S.roundToPrecision=S.__private__.roundToPrecision=function(x,P){var X=e||P;if(isNaN(x)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(X).replace(/0+$/,"")};Q=S.hpf=S.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return me(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return me(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return me(x,16)};var Te=S.f2=S.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return me(x,2)},V=S.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return me(x,3)},j=S.scale=S.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return z===U.COMPAT?x*Ze:z===U.ADVANCED?x:void 0},ie=function(x){return z===U.COMPAT?yo()-x:z===U.ADVANCED?x:void 0},ee=function(x){return j(ie(x))};S.__private__.setPrecision=S.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ie,$="00000000000000000000000000000000",re=S.__private__.getFileId=function(){return $},ce=S.__private__.setFileId=function(x){return $=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():$.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),g!==null&&(Cn=new mc(g.userPermissions,g.userPassword,g.ownerPassword,$)),$};S.setFileId=function(x){return ce(x),this},S.getFileId=function(){return re()};var Ne=S.__private__.convertDateToPDFDate=function(x){var P=x.getTimezoneOffset(),X=P<0?"+":"-",ae=Math.floor(Math.abs(P/60)),be=Math.abs(P%60),Me=[X,J(ae),"'",J(be),"'"].join("");return["D:",x.getFullYear(),J(x.getMonth()+1),J(x.getDate()),J(x.getHours()),J(x.getMinutes()),J(x.getSeconds()),Me].join("")},Re=S.__private__.convertPDFDateToDate=function(x){var P=parseInt(x.substr(2,4),10),X=parseInt(x.substr(6,2),10)-1,ae=parseInt(x.substr(8,2),10),be=parseInt(x.substr(10,2),10),Me=parseInt(x.substr(12,2),10),He=parseInt(x.substr(14,2),10);return new Date(P,X,ae,be,Me,He,0)},W=S.__private__.setCreationDate=function(x){var P;if(x===void 0&&(x=new Date),x instanceof Date)P=Ne(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=x}return Ie=P},L=S.__private__.getCreationDate=function(x){var P=Ie;return x==="jsDate"&&(P=Re(Ie)),P};S.setCreationDate=function(x){return W(x),this},S.getCreationDate=function(x){return L(x)};var H,J=S.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},te=S.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},oe=0,ve=[],Ae=[],Se=0,je=[],Ve=[],Qe=!1,nt=Ae,ct=function(){oe=0,Se=0,Ae=[],ve=[],je=[],Ei=On(),fn=On()};S.__private__.setCustomOutputDestination=function(x){Qe=!0,nt=x};var Pe=function(x){Qe||(nt=x)};S.__private__.resetCustomOutputDestination=function(){Qe=!1,nt=Ae};var ne=S.__private__.out=function(x){return x=x.toString(),Se+=x.length+1,nt.push(x),nt},Ct=S.__private__.write=function(x){return ne(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},st=S.__private__.getArrayBuffer=function(x){for(var P=x.length,X=new ArrayBuffer(P),ae=new Uint8Array(X);P--;)ae[P]=x.charCodeAt(P);return X},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return Ge};var Je=t.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(x){return Je=z===U.ADVANCED?x/Ze:x,this};var We,Ke=S.__private__.getFontSize=S.getFontSize=function(){return z===U.COMPAT?Je:Je*Ze},ft=t.R2L||!1;S.__private__.setR2L=S.setR2L=function(x){return ft=x,this},S.__private__.getR2L=S.getR2L=function(){return ft};var at,Mt=S.__private__.setZoomMode=function(x){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))We=x;else if(isNaN(x)){if(P.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');We=x}else We=parseInt(x,10)};S.__private__.getZoomMode=function(){return We};var Pt,$t=S.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');at=x};S.__private__.getPageMode=function(){return at};var tn=S.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Pt=x};S.__private__.getLayoutMode=function(){return Pt},S.__private__.setDisplayMode=S.setDisplayMode=function(x,P,X){return Mt(x),tn(P),$t(X),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(x){if(Object.keys(St).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[x]},S.__private__.getDocumentProperties=function(){return St},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(x){for(var P in St)St.hasOwnProperty(P)&&x[P]&&(St[P]=x[P]);return this},S.__private__.setDocumentProperty=function(x,P){if(Object.keys(St).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[x]=P};var Ot,Ze,xi,Bt,Ln,Jt={},Ft={},fs=[],nn={},zo={},_n={},Yi={},br=null,cn=0,At=[],Yt=new n2(S),Ho=t.hotfixes||[],ai={},wr={},Ki=[],mt=function x(P,X,ae,be,Me,He){if(!(this instanceof x))return new x(P,X,ae,be,Me,He);isNaN(P)&&(P=1),isNaN(X)&&(X=0),isNaN(ae)&&(ae=0),isNaN(be)&&(be=1),isNaN(Me)&&(Me=0),isNaN(He)&&(He=0),this._matrix=[P,X,ae,be,Me,He]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(x)},mt.prototype.multiply=function(x){var P=x.sx*this.sx+x.shy*this.shx,X=x.sx*this.shy+x.shy*this.sy,ae=x.shx*this.sx+x.sy*this.shx,be=x.shx*this.shy+x.sy*this.sy,Me=x.tx*this.sx+x.ty*this.shx+this.tx,He=x.tx*this.shy+x.ty*this.sy+this.ty;return new mt(P,X,ae,be,Me,He)},mt.prototype.decompose=function(){var x=this.sx,P=this.shy,X=this.shx,ae=this.sy,be=this.tx,Me=this.ty,He=Math.sqrt(x*x+P*P),et=(x/=He)*X+(P/=He)*ae;X-=x*et,ae-=P*et;var dt=Math.sqrt(X*X+ae*ae);return et/=dt,x*(ae/=dt)<P*(X/=dt)&&(x=-x,P=-P,et=-et,He=-He),{scale:new mt(He,0,0,dt,0,0),translate:new mt(1,0,0,1,be,Me),rotate:new mt(x,P,-P,x,0,0),skew:new mt(1,0,et,1,0,0)}},mt.prototype.toString=function(x){return this.join(" ")},mt.prototype.inversed=function(){var x=this.sx,P=this.shy,X=this.shx,ae=this.sy,be=this.tx,Me=this.ty,He=1/(x*ae-P*X),et=ae*He,dt=-P*He,Et=-X*He,Nt=x*He;return new mt(et,dt,Et,Nt,-et*be-Et*Me,-dt*be-Nt*Me)},mt.prototype.applyToPoint=function(x){var P=x.x*this.sx+x.y*this.shx+this.tx,X=x.x*this.shy+x.y*this.sy+this.ty;return new Wo(P,X)},mt.prototype.applyToRectangle=function(x){var P=this.applyToPoint(x),X=this.applyToPoint(new Wo(x.x+x.w,x.y+x.h));return new kl(P.x,P.y,X.x-P.x,X.y-P.y)},mt.prototype.clone=function(){var x=this.sx,P=this.shy,X=this.shx,ae=this.sy,be=this.tx,Me=this.ty;return new mt(x,P,X,ae,be,Me)},S.Matrix=mt;var _r=S.matrixMult=function(x,P){return P.multiply(x)},Yr=new mt(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=Yr;var Oi=function(x,P){if(!zo[x]){var X=(P instanceof su?"Sh":"P")+(Object.keys(nn).length+1).toString(10);P.id=X,zo[x]=X,nn[X]=P,Yt.publish("addPattern",P)}};S.ShadingPattern=su,S.TilingPattern=wc,S.addShadingPattern=function(x,P){return K("addShadingPattern()"),Oi(x,P),this},S.beginTilingPattern=function(x){K("beginTilingPattern()"),bu(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},S.endTilingPattern=function(x,P){K("endTilingPattern()"),P.stream=Ve[H].join(`
`),Oi(x,P),Yt.publish("endTilingPattern",P),Ki.pop().restore()};var Vn=S.__private__.newObject=function(){var x=On();return Wi(x,!0),x},On=S.__private__.newObjectDeferred=function(){return oe++,ve[oe]=function(){return Se},oe},Wi=function(x,P){return P=typeof P=="boolean"&&P,ve[x]=Se,P&&ne(x+" 0 obj"),x},Go=S.__private__.newAdditionalObject=function(){var x={objId:On(),content:""};return je.push(x),x},Ei=On(),fn=On(),Tn=S.__private__.decodeColorString=function(x){var P=x.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var X=parseFloat(P[0]);P=[X,X,X,"r"]}for(var ae="#",be=0;be<3;be++)ae+=("0"+Math.floor(255*parseFloat(P[be])).toString(16)).slice(-2);return ae},Ti=S.__private__.encodeColorString=function(x){var P;typeof x=="string"&&(x={ch1:x});var X=x.ch1,ae=x.ch2,be=x.ch3,Me=x.ch4,He=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var et=new $5(X);if(et.ok)X=et.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var dt=parseInt(X.substr(1),16);X=dt>>16&255,ae=dt>>8&255,be=255&dt}if(ae===void 0||Me===void 0&&X===ae&&ae===be)if(typeof X=="string")P=X+" "+He[0];else switch(x.precision){case 2:P=Te(X/255)+" "+He[0];break;case 3:default:P=V(X/255)+" "+He[0]}else if(Me===void 0||mn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return P=["1.","1.","1.",He[1]].join(" ");if(typeof X=="string")P=[X,ae,be,He[1]].join(" ");else switch(x.precision){case 2:P=[Te(X/255),Te(ae/255),Te(be/255),He[1]].join(" ");break;default:case 3:P=[V(X/255),V(ae/255),V(be/255),He[1]].join(" ")}}else if(typeof X=="string")P=[X,ae,be,Me,He[2]].join(" ");else switch(x.precision){case 2:P=[Te(X),Te(ae),Te(be),Te(Me),He[2]].join(" ");break;case 3:default:P=[V(X),V(ae),V(be),V(Me),He[2]].join(" ")}return P},Sr=S.__private__.getFilters=function(){return u},Ar=S.__private__.putStream=function(x){var P=(x=x||{}).data||"",X=x.filters||Sr(),ae=x.alreadyAppliedFilters||[],be=x.addLength1||!1,Me=P.length,He=x.objectId,et=function(gi){return gi};if(g!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(et=Cn.encryptor(He,0));var dt={};X===!0&&(X=["FlateEncode"]);var Et=x.additionalKeyValues||[],Nt=(dt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(P,X):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(dt.data.length!==0&&(Et.push({key:"Length",value:dt.data.length}),be===!0&&Et.push({key:"Length1",value:Me})),Nt.length!=0)if(Nt.split("/").length-1==1)Et.push({key:"Filter",value:Nt});else{Et.push({key:"Filter",value:"["+Nt+"]"});for(var Kt=0;Kt<Et.length;Kt+=1)if(Et[Kt].key==="DecodeParms"){for(var Rn=[],Mn=0;Mn<dt.reverseChain.split("/").length-1;Mn+=1)Rn.push("null");Rn.push(Et[Kt].value),Et[Kt].value="["+Rn.join(" ")+"]"}}ne("<<");for(var jn=0;jn<Et.length;jn++)ne("/"+Et[jn].key+" "+Et[jn].value);ne(">>"),dt.data.length!==0&&(ne("stream"),ne(et(dt.data)),ne("endstream"))},ds=S.__private__.putPage=function(x){var P=x.number,X=x.data,ae=x.objId,be=x.contentsObjId;Wi(ae,!0),ne("<</Type /Page"),ne("/Parent "+x.rootDictionaryObjId+" 0 R"),ne("/Resources "+x.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(Q(x.mediaBox.bottomLeftX))+" "+parseFloat(Q(x.mediaBox.bottomLeftY))+" "+Q(x.mediaBox.topRightX)+" "+Q(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ne("/CropBox ["+Q(x.cropBox.bottomLeftX)+" "+Q(x.cropBox.bottomLeftY)+" "+Q(x.cropBox.topRightX)+" "+Q(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ne("/BleedBox ["+Q(x.bleedBox.bottomLeftX)+" "+Q(x.bleedBox.bottomLeftY)+" "+Q(x.bleedBox.topRightX)+" "+Q(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ne("/TrimBox ["+Q(x.trimBox.bottomLeftX)+" "+Q(x.trimBox.bottomLeftY)+" "+Q(x.trimBox.topRightX)+" "+Q(x.trimBox.topRightY)+"]"),x.artBox!==null&&ne("/ArtBox ["+Q(x.artBox.bottomLeftX)+" "+Q(x.artBox.bottomLeftY)+" "+Q(x.artBox.topRightX)+" "+Q(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ne("/UserUnit "+x.userUnit),Yt.publish("putPage",{objId:ae,pageContext:At[P],pageNumber:P,page:X}),ne("/Contents "+be+" 0 R"),ne(">>"),ne("endobj");var Me=X.join(`
`);return z===U.ADVANCED&&(Me+=`
Q`),Wi(be,!0),Ar({data:Me,filters:Sr(),objectId:be}),ne("endobj"),ae},so=S.__private__.putPages=function(){var x,P,X=[];for(x=1;x<=cn;x++)At[x].objId=On(),At[x].contentsObjId=On();for(x=1;x<=cn;x++)X.push(ds({number:x,data:Ve[x],objId:At[x].objId,contentsObjId:At[x].contentsObjId,mediaBox:At[x].mediaBox,cropBox:At[x].cropBox,bleedBox:At[x].bleedBox,trimBox:At[x].trimBox,artBox:At[x].artBox,userUnit:At[x].userUnit,rootDictionaryObjId:Ei,resourceDictionaryObjId:fn}));Wi(Ei,!0),ne("<</Type /Pages");var ae="/Kids [";for(P=0;P<cn;P++)ae+=X[P]+" 0 R ";ne(ae+"]"),ne("/Count "+cn),ne(">>"),ne("endobj"),Yt.publish("postPutPages")},hs=function(x){Yt.publish("putFont",{font:x,out:ne,newObject:Vn,putStream:Ar}),x.isAlreadyPutted!==!0&&(x.objectNumber=Vn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+gc(x.postScriptName)),ne("/Subtype /Type1"),typeof x.encoding=="string"&&ne("/Encoding /"+x.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},oo=function(){for(var x in Jt)Jt.hasOwnProperty(x)&&(w===!1||w===!0&&A.hasOwnProperty(x))&&hs(Jt[x])},Kr=function(x){x.objectNumber=Vn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[Q(x.x),Q(x.y),Q(x.x+x.width),Q(x.y+x.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var X=x.pages[1].join(`
`);Ar({data:X,additionalKeyValues:P,objectId:x.objectNumber}),ne("endobj")},Wr=function(){for(var x in ai)ai.hasOwnProperty(x)&&Kr(ai[x])},ao=function(x,P){var X,ae=[],be=1/(P-1);for(X=0;X<1;X+=be)ae.push(X);if(ae.push(1),x[0].offset!=0){var Me={offset:0,color:x[0].color};x.unshift(Me)}if(x[x.length-1].offset!=1){var He={offset:1,color:x[x.length-1].color};x.push(He)}for(var et="",dt=0,Et=0;Et<ae.length;Et++){for(X=ae[Et];X>x[dt+1].offset;)dt++;var Nt=x[dt].offset,Kt=(X-Nt)/(x[dt+1].offset-Nt),Rn=x[dt].color,Mn=x[dt+1].color;et+=te(Math.round((1-Kt)*Rn[0]+Kt*Mn[0]).toString(16))+te(Math.round((1-Kt)*Rn[1]+Kt*Mn[1]).toString(16))+te(Math.round((1-Kt)*Rn[2]+Kt*Mn[2]).toString(16))}return et.trim()},lo=function(x,P){P||(P=21);var X=Vn(),ae=ao(x.colors,P),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+P+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ar({data:ae,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),ne("endobj"),x.objectNumber=Vn(),ne("<< /ShadingType "+x.type),ne("/ColorSpace /DeviceRGB");var Me="/Coords ["+Q(parseFloat(x.coords[0]))+" "+Q(parseFloat(x.coords[1]))+" ";x.type===2?Me+=Q(parseFloat(x.coords[2]))+" "+Q(parseFloat(x.coords[3])):Me+=Q(parseFloat(x.coords[2]))+" "+Q(parseFloat(x.coords[3]))+" "+Q(parseFloat(x.coords[4]))+" "+Q(parseFloat(x.coords[5])),ne(Me+="]"),x.matrix&&ne("/Matrix ["+x.matrix.toString()+"]"),ne("/Function "+X+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Wn=function(x,P){var X=On(),ae=Vn();P.push({resourcesOid:X,objectOid:ae}),x.objectNumber=ae;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+x.boundingBox.map(Q).join(" ")+"]"}),be.push({key:"XStep",value:Q(x.xStep)}),be.push({key:"YStep",value:Q(x.yStep)}),be.push({key:"Resources",value:X+" 0 R"}),x.matrix&&be.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Ar({data:x.stream,additionalKeyValues:be,objectId:x.objectNumber}),ne("endobj")},Vo=function(x){var P;for(P in nn)nn.hasOwnProperty(P)&&(nn[P]instanceof su?lo(nn[P]):nn[P]instanceof wc&&Wn(nn[P],x))},yl=function(x){for(var P in x.objectNumber=Vn(),ne("<<"),x)switch(P){case"opacity":ne("/ca "+Te(x[P]));break;case"stroke-opacity":ne("/CA "+Te(x[P]))}ne(">>"),ne("endobj")},Ls=function(){var x;for(x in _n)_n.hasOwnProperty(x)&&yl(_n[x])},ps=function(){for(var x in ne("/XObject <<"),ai)ai.hasOwnProperty(x)&&ai[x].objectNumber>=0&&ne("/"+x+" "+ai[x].objectNumber+" 0 R");Yt.publish("putXobjectDict"),ne(">>")},kc=function(){Cn.oid=Vn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Cn.v),ne("/R "+Cn.r),ne("/U <"+Cn.toHexString(Cn.U)+">"),ne("/O <"+Cn.toHexString(Cn.O)+">"),ne("/P "+Cn.P),ne(">>"),ne("endobj")},bl=function(){for(var x in ne("/Font <<"),Jt)Jt.hasOwnProperty(x)&&(w===!1||w===!0&&A.hasOwnProperty(x))&&ne("/"+x+" "+Jt[x].objectNumber+" 0 R");ne(">>")},fu=function(){if(Object.keys(nn).length>0){for(var x in ne("/Shading <<"),nn)nn.hasOwnProperty(x)&&nn[x]instanceof su&&nn[x].objectNumber>=0&&ne("/"+x+" "+nn[x].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),ne(">>")}},xa=function(x){if(Object.keys(nn).length>0){for(var P in ne("/Pattern <<"),nn)nn.hasOwnProperty(P)&&nn[P]instanceof S.TilingPattern&&nn[P].objectNumber>=0&&nn[P].objectNumber<x&&ne("/"+P+" "+nn[P].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),ne(">>")}},Ea=function(){if(Object.keys(_n).length>0){var x;for(x in ne("/ExtGState <<"),_n)_n.hasOwnProperty(x)&&_n[x].objectNumber>=0&&ne("/"+x+" "+_n[x].objectNumber+" 0 R");Yt.publish("putGStateDict"),ne(">>")}},Nn=function(x){Wi(x.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bl(),fu(),xa(x.objectOid),Ea(),ps(),ne(">>"),ne("endobj")},xr=function(){var x=[];oo(),Ls(),Wr(),Vo(x),Yt.publish("putResources"),x.forEach(Nn),Nn({resourcesOid:fn,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},qi=function(){Yt.publish("putAdditionalObjects");for(var x=0;x<je.length;x++){var P=je[x];Wi(P.objId,!0),ne(P.content),ne("endobj")}Yt.publish("postPutAdditionalObjects")},wl=function(x){Ft[x.fontName]=Ft[x.fontName]||{},Ft[x.fontName][x.fontStyle]=x.id},_l=function(x,P,X,ae,be){var Me={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:x,fontName:P,fontStyle:X,encoding:ae,isStandardFont:be||!1,metadata:{}};return Yt.publish("addFont",{font:Me,instance:this}),Jt[Me.id]=Me,wl(Me),Me.id},Sl=function(x){for(var P=0,X=Ge.length;P<X;P++){var ae=_l.call(this,x[P][0],x[P][1],x[P][2],Ge[P][3],!0);w===!1&&(A[ae]=!0);var be=x[P][0].split("-");wl({id:ae,fontName:be[0],fontStyle:be[1]||""})}Yt.publish("addFonts",{fonts:Jt,dictionary:Ft})},Er=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(ae){var P=ae.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var X="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ae.message;if(!xt.console)throw new Error(X);xt.console.error(X,ae),xt.alert&&alert(X)}},x.foo.bar=x,x.foo},Ms=function(x,P){var X,ae,be,Me,He,et,dt,Et,Nt;if(be=(P=P||{}).sourceEncoding||"Unicode",He=P.outputEncoding,(P.autoencode||He)&&Jt[Ot].metadata&&Jt[Ot].metadata[be]&&Jt[Ot].metadata[be].encoding&&(Me=Jt[Ot].metadata[be].encoding,!He&&Jt[Ot].encoding&&(He=Jt[Ot].encoding),!He&&Me.codePages&&(He=Me.codePages[0]),typeof He=="string"&&(He=Me[He]),He)){for(dt=!1,et=[],X=0,ae=x.length;X<ae;X++)(Et=He[x.charCodeAt(X)])?et.push(String.fromCharCode(Et)):et.push(x[X]),et[X].charCodeAt(0)>>8&&(dt=!0);x=et.join("")}for(X=x.length;dt===void 0&&X!==0;)x.charCodeAt(X-1)>>8&&(dt=!0),X--;if(!dt)return x;for(et=P.noBOM?[]:[254,255],X=0,ae=x.length;X<ae;X++){if((Nt=(Et=x.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(Nt),et.push(Et-(Nt<<8))}return String.fromCharCode.apply(void 0,et)},Xi=S.__private__.pdfEscape=S.pdfEscape=function(x,P){return Ms(x,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ni=S.__private__.beginPage=function(x){Ve[++cn]=[],At[cn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Na(cn),Pe(Ve[H])},Ta=function(x,P){var X,ae,be;switch(n=P||n,typeof x=="string"&&(X=C(x.toLowerCase()),Array.isArray(X)&&(ae=X[0],be=X[1])),Array.isArray(x)&&(ae=x[0]*Ze,be=x[1]*Ze),isNaN(ae)&&(ae=o[0],be=o[1]),(ae>14400||be>14400)&&(En.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),be=Math.min(14400,be)),o=[ae,be],n.substr(0,1)){case"l":be>ae&&(o=[be,ae]);break;case"p":ae>be&&(o=[be,ae])}Ni(o),Yo(li),ne(es),Rl!==0&&ne(Rl+" J"),Il!==0&&ne(Il+" j"),Yt.publish("addPage",{pageNumber:cn})},du=function(x){x>0&&x<=cn&&(Ve.splice(x,1),At.splice(x,1),cn--,H>cn&&(H=cn),this.setPage(H))},Na=function(x){x>0&&x<=cn&&(H=x)},uo=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return Ve.length-1},Al=function(x,P,X){var ae,be=void 0;return X=X||{},x=x!==void 0?x:Jt[Ot].fontName,P=P!==void 0?P:Jt[Ot].fontStyle,ae=x.toLowerCase(),Ft[ae]!==void 0&&Ft[ae][P]!==void 0?be=Ft[ae][P]:Ft[x]!==void 0&&Ft[x][P]!==void 0?be=Ft[x][P]:X.disableWarning===!1&&En.warn("Unable to look up font label for font '"+x+"', '"+P+"'. Refer to getFontList() for available fonts."),be||X.noFallback||(be=Ft.times[P])==null&&(be=Ft.times.normal),be},hu=S.__private__.putInfo=function(){var x=Vn(),P=function(ae){return ae};for(var X in g!==null&&(P=Cn.encryptor(x,0)),ne("<<"),ne("/Producer ("+Xi(P("jsPDF "+_t.version))+")"),St)St.hasOwnProperty(X)&&St[X]&&ne("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Xi(P(St[X]))+")");ne("/CreationDate ("+Xi(P(Ie))+")"),ne(">>"),ne("endobj")},ms=S.__private__.putCatalog=function(x){var P=(x=x||{}).rootDictionaryObjId||Ei;switch(Vn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+P+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+We;X.substr(X.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+Te(We)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}at&&ne("/PageMode /"+at),Yt.publish("putCatalog"),ne(">>"),ne("endobj")},Lc=S.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(oe+1)),ne("/Root "+oe+" 0 R"),ne("/Info "+(oe-1)+" 0 R"),g!==null&&ne("/Encrypt "+Cn.oid+" 0 R"),ne("/ID [ <"+$+"> <"+$+"> ]"),ne(">>")},pu=S.__private__.putHeader=function(){ne("%PDF-"+R),ne("%")},mu=S.__private__.putXRef=function(){var x="0000000000";ne("xref"),ne("0 "+(oe+1)),ne("0000000000 65535 f ");for(var P=1;P<=oe;P++)typeof ve[P]=="function"?ne((x+ve[P]()).slice(-10)+" 00000 n "):ve[P]!==void 0?ne((x+ve[P]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Xr=S.__private__.buildDocument=function(){ct(),Pe(Ae),Yt.publish("buildDocument"),pu(),so(),qi(),xr(),g!==null&&kc(),hu(),ms();var x=Se;return mu(),Lc(),ne("startxref"),ne(""+x),ne("%%EOF"),Pe(Ve[H]),Ae.join(`
`)},Ca=S.__private__.getBlob=function(x){return new Blob([st(x)],{type:"application/pdf"})},Ra=S.output=S.__private__.output=Er((function(x,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",x){case void 0:return Xr();case"save":S.save(P.filename);break;case"arraybuffer":return st(Xr());case"blob":return Ca(Xr());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(Ca(Xr()))||void 0;En.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ae=Xr();try{X=B0(ae)}catch{X=B0(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+P.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(be=P.pdfObjectUrl,Me="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",et=xt.open();return et!==null&&et.document.write(He),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Et=xt.open();if(Et!==null){Et.document.write(dt);var Nt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=P.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Rn=xt.open();if(Rn!==null&&(Rn.document.write(Kt),Rn.document.title=P.filename),Rn||typeof safari>"u")return Rn;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",P);default:return null}})),jo=function(x){return Array.isArray(Ho)===!0&&Ho.indexOf(x)>-1};switch(i){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=jo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ze=i}var Cn=null;W(),ce();var xl=function(x){return g!==null?Cn.encryptor(x,0):function(P){return P}},Ia=S.__private__.getPageInfo=S.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[x].objId,pageNumber:x,pageContext:At[x]}},gt=S.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in At)if(At[P].objId===x)break;return Ia(P)},co=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:At[H].objId,pageNumber:H,pageContext:At[H]}};S.addPage=function(){return Ta.apply(this,arguments),this},S.setPage=function(){return Na.apply(this,arguments),Pe.call(this,Ve[H]),this},S.insertPage=function(x){return this.addPage(),this.movePage(H,x),this},S.movePage=function(x,P){var X,ae;if(x>P){X=Ve[x],ae=At[x];for(var be=x;be>P;be--)Ve[be]=Ve[be-1],At[be]=At[be-1];Ve[P]=X,At[P]=ae,this.setPage(P)}else if(x<P){X=Ve[x],ae=At[x];for(var Me=x;Me<P;Me++)Ve[Me]=Ve[Me+1],At[Me]=At[Me+1];Ve[P]=X,At[P]=ae,this.setPage(P)}return this},S.deletePage=function(){return du.apply(this,arguments),this},S.__private__.text=S.text=function(x,P,X,ae,be){var Me,He,et,dt,Et,Nt,Kt,Rn,Mn,jn=(ae=ae||{}).scope||this;if(typeof x=="number"&&typeof P=="number"&&(typeof X=="string"||Array.isArray(X))){var gi=X;X=P,P=x,x=gi}if(arguments[3]instanceof mt?(K("The transform parameter of text() with a Matrix value"),Mn=be):(et=arguments[4],dt=arguments[5],mn(Kt=arguments[3])==="object"&&Kt!==null||(typeof et=="string"&&(dt=et,et=null),typeof Kt=="string"&&(dt=Kt,Kt=null),typeof Kt=="number"&&(et=Kt,Kt=null),ae={flags:Kt,angle:et,align:dt})),isNaN(P)||isNaN(X)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return jn;var ni="",Ci=!1,lr=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:mo,Ds=jn.internal.scaleFactor;function wu(gn){return gn=gn.split("	").join(Array(ae.TabLen||9).join(" ")),Xi(gn,Kt)}function Ua(gn){for(var vn,$n=gn.concat(),Xn=[],ws=$n.length;ws--;)typeof(vn=$n.shift())=="string"?Xn.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?Xn.push(vn[0]):Xn.push([vn[0],vn[1],vn[2]]);return Xn}function Oa(gn,vn){var $n;if(typeof gn=="string")$n=vn(gn)[0];else if(Array.isArray(gn)){for(var Xn,ws,_s=gn.concat(),Ii=[],Zo=_s.length;Zo--;)typeof(Xn=_s.shift())=="string"?Ii.push(vn(Xn)[0]):Array.isArray(Xn)&&typeof Xn[0]=="string"&&(ws=vn(Xn[0],Xn[1],Xn[2]),Ii.push([ws[0],ws[1],ws[2]]));$n=Ii}return $n}var vs=!1,Us=!0;if(typeof x=="string")vs=!0;else if(Array.isArray(x)){var Pl=x.concat();He=[];for(var Os,Bi=Pl.length;Bi--;)(typeof(Os=Pl.shift())!="string"||Array.isArray(Os)&&typeof Os[0]!="string")&&(Us=!1);vs=Us}if(vs===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Qo=Je/jn.internal.scaleFactor,bo=Qo*(lr-1);switch(ae.baseline){case"bottom":X-=bo;break;case"top":X+=Qo-bo;break;case"hanging":X+=Qo-2*bo;break;case"middle":X+=Qo/2-bo}if((Nt=ae.maxWidth||0)>0&&(typeof x=="string"?x=jn.splitTextToSize(x,Nt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce((function(gn,vn){return gn.concat(jn.splitTextToSize(vn,Nt))}),[]))),Me={text:x,x:P,y:X,options:ae,mutex:{pdfEscape:Xi,activeFontKey:Ot,fonts:Jt,activeFontSize:Je}},Yt.publish("preProcessText",Me),x=Me.text,et=(ae=Me.options).angle,!(Mn instanceof mt)&&et&&typeof et=="number"){et*=Math.PI/180,ae.rotationDirection===0&&(et=-et),z===U.ADVANCED&&(et=-et);var wo=Math.cos(et),qa=Math.sin(et);Mn=new mt(wo,qa,-qa,wo,0,0)}else et&&et instanceof mt&&(Mn=et);z!==U.ADVANCED||Mn||(Mn=Yr),(Et=ae.charSpace||Pa)!==void 0&&(ni+=Q(j(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rn=ae.horizontalScale)!==void 0&&(ni+=Q(100*Rn)+` Tz
`),ae.lang;var Fi=-1,_u=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,Dl=jn.internal.getCurrentPageInfo().pageContext;switch(_u){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Su=Dl.usedRenderingMode!==void 0?Dl.usedRenderingMode:-1;Fi!==-1?ni+=Fi+` Tr
`:Su!==-1&&(ni+=`0 Tr
`),Fi!==-1&&(Dl.usedRenderingMode=Fi),dt=ae.align||"left";var ts,Ul=Je*lr,Dc=jn.internal.pageSize.getWidth(),zi=Jt[Ot];Et=ae.charSpace||Pa,Nt=ae.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Rr=[];if(Object.prototype.toString.call(x)==="[object Array]"){var ur;He=Ua(x),dt!=="left"&&(ts=He.map((function(gn){return jn.getStringUnitWidth(gn,{font:zi,charSpace:Et,fontSize:Je,doKerning:!1})*Je/Ds})));var Ir,qs=0;if(dt==="right"){P-=ts[0],x=[],Bi=He.length;for(var ns=0;ns<Bi;ns++)ns===0?(Ir=Zr(P),ur=Cr(X)):(Ir=j(qs-ts[ns]),ur=-Ul),x.push([He[ns],Ir,ur]),qs=ts[ns]}else if(dt==="center"){P-=ts[0]/2,x=[],Bi=He.length;for(var is=0;is<Bi;is++)is===0?(Ir=Zr(P),ur=Cr(X)):(Ir=j((qs-ts[is])/2),ur=-Ul),x.push([He[is],Ir,ur]),qs=ts[is]}else if(dt==="left"){x=[],Bi=He.length;for(var Ba=0;Ba<Bi;Ba++)x.push(He[Ba])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');x=[],Bi=He.length,Nt=Nt!==0?Nt:Dc;for(var Ri=0;Ri<Bi;Ri++)ur=Ri===0?Cr(X):-Ul,Ir=Ri===0?Zr(P):0,Ri<Bi-1?Rr.push(Q(j((Nt-ts[Ri])/(He[Ri].split(" ").length-1)))):Rr.push(0),x.push([He[Ri],Ir,ur])}}var _o=typeof ae.R2L=="boolean"?ae.R2L:ft;_o===!0&&(x=Oa(x,(function(gn,vn,$n){return[gn.split("").reverse().join(""),vn,$n]}))),Me={text:x,x:P,y:X,options:ae,mutex:{pdfEscape:Xi,activeFontKey:Ot,fonts:Jt,activeFontSize:Je}},Yt.publish("postProcessText",Me),x=Me.text,Ci=Me.mutex.isHex||!1;var Bs=Jt[Ot].encoding;Bs!=="WinAnsiEncoding"&&Bs!=="StandardEncoding"||(x=Oa(x,(function(gn,vn,$n){return[wu(gn),vn,$n]}))),He=Ua(x),x=[];for(var ys,kr,Hi,Lr=0,So=1,Ao=Array.isArray(He[0])?So:Lr,Zi="",Fa=function(gn,vn,$n){var Xn="";return $n instanceof mt?($n=typeof ae.angle=="number"?_r($n,new mt(1,0,0,1,gn,vn)):_r(new mt(1,0,0,1,gn,vn),$n),z===U.ADVANCED&&($n=_r(new mt(1,0,0,-1,0,0),$n)),Xn=$n.join(" ")+` Tm
`):Xn=Q(gn)+" "+Q(vn)+` Td
`,Xn},cr=0;cr<He.length;cr++){switch(Zi="",Ao){case So:Hi=(Ci?"<":"(")+He[cr][0]+(Ci?">":")"),ys=parseFloat(He[cr][1]),kr=parseFloat(He[cr][2]);break;case Lr:Hi=(Ci?"<":"(")+He[cr]+(Ci?">":")"),ys=Zr(P),kr=Cr(X)}Rr!==void 0&&Rr[cr]!==void 0&&(Zi=Rr[cr]+` Tw
`),cr===0?x.push(Zi+Fa(ys,kr,Mn)+Hi):Ao===Lr?x.push(Zi+Hi):Ao===So&&x.push(Zi+Fa(ys,kr,Mn)+Hi)}x=Ao===Lr?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var bs=`BT
/`;return bs+=Ot+" "+Je+` Tf
`,bs+=Q(Je*lr)+` TL
`,bs+=Ko+`
`,bs+=ni,bs+=x,ne(bs+="ET"),A[Ot]=!0,jn};var gu=S.__private__.clip=S.clip=function(x){return ne(x==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return gu("evenodd")},S.__private__.discardPath=S.discardPath=function(){return ne("n"),this};var Tr=S.__private__.isValidStyle=function(x){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(P=!0),P};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(x){return Tr(x)&&(h=x),this};var El=S.__private__.getStyle=S.getStyle=function(x){var P=h;switch(x){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=x}return P},fo=S.close=function(){return ne("h"),this};S.stroke=function(){return ne("S"),this},S.fill=function(x){return Qi("f",x),this},S.fillEvenOdd=function(x){return Qi("f*",x),this},S.fillStroke=function(x){return Qi("B",x),this},S.fillStrokeEvenOdd=function(x){return Qi("B*",x),this};var Qi=function(x,P){mn(P)==="object"?gs(P,x):ne(x)},$o=function(x){x===null||z===U.ADVANCED&&x===void 0||(x=El(x),ne(x))};function Jo(x,P,X,ae,be){var Me=new wc(P||this.boundingBox,X||this.xStep,ae||this.yStep,this.gState,be||this.matrix);Me.stream=this.stream;var He=x+"$$"+this.cloneIndex+++"$$";return Oi(He,Me),Me}var gs=function(x,P){var X=zo[x.key],ae=nn[X];if(ae instanceof su)ne("q"),ne(Tl(P)),ae.gState&&S.setGState(ae.gState),ne(x.matrix.toString()+" cm"),ne("/"+X+" sh"),ne("Q");else if(ae instanceof wc){var be=new mt(1,0,0,-1,0,yo());x.matrix&&(be=be.multiply(x.matrix||Yr),X=Jo.call(ae,x.key,x.boundingBox,x.xStep,x.yStep,be).id),ne("q"),ne("/Pattern cs"),ne("/"+X+" scn"),ae.gState&&S.setGState(ae.gState),ne(P),ne("Q")}},Tl=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ho=S.moveTo=function(x,P){return ne(Q(j(x))+" "+Q(ee(P))+" m"),this},po=S.lineTo=function(x,P){return ne(Q(j(x))+" "+Q(ee(P))+" l"),this},Qr=S.curveTo=function(x,P,X,ae,be,Me){return ne([Q(j(x)),Q(ee(P)),Q(j(X)),Q(ee(ae)),Q(j(be)),Q(ee(Me)),"c"].join(" ")),this};S.__private__.line=S.line=function(x,P,X,ae,be){if(isNaN(x)||isNaN(P)||isNaN(X)||isNaN(ae)||!Tr(be))throw new Error("Invalid arguments passed to jsPDF.line");return z===U.COMPAT?this.lines([[X-x,ae-P]],x,P,[1,1],be||"S"):this.lines([[X-x,ae-P]],x,P,[1,1]).stroke()},S.__private__.lines=S.lines=function(x,P,X,ae,be,Me){var He,et,dt,Et,Nt,Kt,Rn,Mn,jn,gi,ni,Ci;if(typeof x=="number"&&(Ci=X,X=P,P=x,x=Ci),ae=ae||[1,1],Me=Me||!1,isNaN(P)||isNaN(X)||!Array.isArray(x)||!Array.isArray(ae)||!Tr(be)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ho(P,X),He=ae[0],et=ae[1],Et=x.length,gi=P,ni=X,dt=0;dt<Et;dt++)(Nt=x[dt]).length===2?(gi=Nt[0]*He+gi,ni=Nt[1]*et+ni,po(gi,ni)):(Kt=Nt[0]*He+gi,Rn=Nt[1]*et+ni,Mn=Nt[2]*He+gi,jn=Nt[3]*et+ni,gi=Nt[4]*He+gi,ni=Nt[5]*et+ni,Qr(Kt,Rn,Mn,jn,gi,ni));return Me&&fo(),$o(be),this},S.path=function(x){for(var P=0;P<x.length;P++){var X=x[P],ae=X.c;switch(X.op){case"m":ho(ae[0],ae[1]);break;case"l":po(ae[0],ae[1]);break;case"c":Qr.apply(this,ae);break;case"h":fo()}}return this},S.__private__.rect=S.rect=function(x,P,X,ae,be){if(isNaN(x)||isNaN(P)||isNaN(X)||isNaN(ae)||!Tr(be))throw new Error("Invalid arguments passed to jsPDF.rect");return z===U.COMPAT&&(ae=-ae),ne([Q(j(x)),Q(ee(P)),Q(j(X)),Q(j(ae)),"re"].join(" ")),$o(be),this},S.__private__.triangle=S.triangle=function(x,P,X,ae,be,Me,He){if(isNaN(x)||isNaN(P)||isNaN(X)||isNaN(ae)||isNaN(be)||isNaN(Me)||!Tr(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-x,ae-P],[be-X,Me-ae],[x-be,P-Me]],x,P,[1,1],He,!0),this},S.__private__.roundedRect=S.roundedRect=function(x,P,X,ae,be,Me,He){if(isNaN(x)||isNaN(P)||isNaN(X)||isNaN(ae)||isNaN(be)||isNaN(Me)||!Tr(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*X),Me=Math.min(Me,.5*ae),this.lines([[X-2*be,0],[be*et,0,be,Me-Me*et,be,Me],[0,ae-2*Me],[0,Me*et,-be*et,Me,-be,Me],[2*be-X,0],[-be*et,0,-be,-Me*et,-be,-Me],[0,2*Me-ae],[0,-Me*et,be*et,-Me,be,-Me]],x+be,P,[1,1],He,!0),this},S.__private__.ellipse=S.ellipse=function(x,P,X,ae,be){if(isNaN(x)||isNaN(P)||isNaN(X)||isNaN(ae)||!Tr(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*X,He=4/3*(Math.SQRT2-1)*ae;return ho(x+X,P),Qr(x+X,P-He,x+Me,P-ae,x,P-ae),Qr(x-Me,P-ae,x-X,P-He,x-X,P),Qr(x-X,P+He,x-Me,P+ae,x,P+ae),Qr(x+Me,P+ae,x+X,P+He,x+X,P),$o(be),this},S.__private__.circle=S.circle=function(x,P,X,ae){if(isNaN(x)||isNaN(P)||isNaN(X)||!Tr(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,P,X,X,ae)},S.setFont=function(x,P,X){return X&&(P=pe(P,X)),Ot=Al(x,P,{disableWarning:!1}),this};var ka=S.__private__.getFont=S.getFont=function(){return Jt[Al.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var x,P,X={};for(x in Ft)if(Ft.hasOwnProperty(x))for(P in X[x]=[],Ft[x])Ft[x].hasOwnProperty(P)&&X[x].push(P);return X},S.addFont=function(x,P,X,ae,be){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(X=pe(X,ae)),be=be||"Identity-H",_l.call(this,x,P,X,be)};var mo,li=t.lineWidth||.200025,Nr=S.__private__.getLineWidth=S.getLineWidth=function(){return li},Yo=S.__private__.setLineWidth=S.setLineWidth=function(x){return li=x,ne(Q(j(x))+" w"),this};S.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(x,P){if(x=x||[],P=P||0,isNaN(P)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map((function(X){return Q(j(X))})).join(" "),P=Q(j(P)),ne("["+x+"] "+P+" d"),this};var go=S.__private__.getLineHeight=S.getLineHeight=function(){return Je*mo};S.__private__.getLineHeight=S.getLineHeight=function(){return Je*mo};var vu=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(mo=x),this},La=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return mo};vu(t.lineHeight);var Zr=S.__private__.getHorizontalCoordinate=function(x){return j(x)},Cr=S.__private__.getVerticalCoordinate=function(x){return z===U.ADVANCED?x:At[H].mediaBox.topRightY-At[H].mediaBox.bottomLeftY-j(x)},Ma=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(x){return Q(Zr(x))},Ps=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(x){return Q(Cr(x))},es=t.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return Tn(es)},S.__private__.setStrokeColor=S.setDrawColor=function(x,P,X,ae){return es=Ti({ch1:x,ch2:P,ch3:X,ch4:ae,pdfColorType:"draw",precision:2}),ne(es),this};var Nl=t.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return Tn(Nl)},S.__private__.setFillColor=S.setFillColor=function(x,P,X,ae){return Nl=Ti({ch1:x,ch2:P,ch3:X,ch4:ae,pdfColorType:"fill",precision:2}),ne(Nl),this};var Ko=t.textColor||"0 g",Cl=S.__private__.getTextColor=S.getTextColor=function(){return Tn(Ko)};S.__private__.setTextColor=S.setTextColor=function(x,P,X,ae){return Ko=Ti({ch1:x,ch2:P,ch3:X,ch4:ae,pdfColorType:"text",precision:3}),this};var Pa=t.charSpace,Mc=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(Pa||0)};S.__private__.setCharSpace=S.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pa=x,this};var Rl=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(x){var P=S.CapJoinStyles[x];if(P===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=P,ne(P+" J"),this};var Il=0;S.__private__.setLineJoin=S.setLineJoin=function(x){var P=S.CapJoinStyles[x];if(P===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=P,ne(P+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(Q(j(x))+" M"),this},S.GState=eh,S.setGState=function(x){(x=typeof x=="string"?_n[Yi[x]]:yu(null,x)).equals(br)||(ne("/"+x.id+" gs"),br=x)};var yu=function(x,P){if(!x||!Yi[x]){var X=!1;for(var ae in _n)if(_n.hasOwnProperty(ae)&&_n[ae].equals(P)){X=!0;break}if(X)P=_n[ae];else{var be="GS"+(Object.keys(_n).length+1).toString(10);_n[be]=P,P.id=be}return x&&(Yi[x]=P.id),Yt.publish("addGState",P),P}};S.addGState=function(x,P){return yu(x,P),this},S.saveGraphicsState=function(){return ne("q"),fs.push({key:Ot,size:Je,color:Ko}),this},S.restoreGraphicsState=function(){ne("Q");var x=fs.pop();return Ot=x.key,Je=x.size,Ko=x.color,br=null,this},S.setCurrentTransformationMatrix=function(x){return ne(x.toString()+" cm"),this},S.comment=function(x){return ne("#"+x),this};var Wo=function(x,P){var X=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Me){isNaN(Me)||(X=parseFloat(Me))}});var ae=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Me){isNaN(Me)||(ae=parseFloat(Me))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Me){be=Me.toString()}}),this},kl=function(x,P,X,ae){Wo.call(this,x,P),this.type="rect";var be=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(He){isNaN(He)||(be=parseFloat(He))}});var Me=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(He){isNaN(He)||(Me=parseFloat(He))}}),this},Ll=function(){this.page=cn,this.currentPage=H,this.pages=Ve.slice(0),this.pagesContext=At.slice(0),this.x=xi,this.y=Bt,this.matrix=Ln,this.width=Xo(H),this.height=yo(H),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ll.prototype.restore=function(){cn=this.page,H=this.currentPage,At=this.pagesContext,Ve=this.pages,xi=this.x,Bt=this.y,Ln=this.matrix,Ml(H,this.width),Da(H,this.height),nt=this.outputDestination};var bu=function(x,P,X,ae,be){Ki.push(new Ll),cn=H=0,Ve=[],xi=x,Bt=P,Ln=be,Ni([X,ae])},Pc=function(x){if(wr[x])Ki.pop().restore();else{var P=new Ll,X="Xo"+(Object.keys(ai).length+1).toString(10);P.id=X,wr[x]=X,ai[X]=P,Yt.publish("addFormObject",P),Ki.pop().restore()}};for(var vo in S.beginFormObject=function(x,P,X,ae,be){return bu(x,P,X,ae,be),this},S.endFormObject=function(x){return Pc(x),this},S.doFormObject=function(x,P){var X=ai[wr[x]];return ne("q"),ne(P.toString()+" cm"),ne("/"+X.id+" Do"),ne("Q"),this},S.getFormObject=function(x){var P=ai[wr[x]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},S.save=function(x,P){return x=x||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(nu(Ca(Xr()),x),typeof nu.unload=="function"&&xt.setTimeout&&setTimeout(nu.unload,911),this):new Promise((function(X,ae){try{var be=nu(Ca(Xr()),x);typeof nu.unload=="function"&&xt.setTimeout&&setTimeout(nu.unload,911),X(be)}catch(Me){ae(Me.message)}}))},_t.API)_t.API.hasOwnProperty(vo)&&(vo==="events"&&_t.API.events.length?(function(x,P){var X,ae,be;for(be=P.length-1;be!==-1;be--)X=P[be][0],ae=P[be][1],x.subscribe.apply(x,[X].concat(typeof ae=="function"?[ae]:ae))})(Yt,_t.API.events):S[vo]=_t.API[vo]);var Xo=S.getPageWidth=function(x){return(At[x=x||H].mediaBox.topRightX-At[x].mediaBox.bottomLeftX)/Ze},Ml=S.setPageWidth=function(x,P){At[x].mediaBox.topRightX=P*Ze+At[x].mediaBox.bottomLeftX},yo=S.getPageHeight=function(x){return(At[x=x||H].mediaBox.topRightY-At[x].mediaBox.bottomLeftY)/Ze},Da=S.setPageHeight=function(x,P){At[x].mediaBox.topRightY=P*Ze+At[x].mediaBox.bottomLeftY};return S.internal={pdfEscape:Xi,getStyle:El,getFont:ka,getFontSize:Ke,getCharSpace:Mc,getTextColor:Cl,getLineHeight:go,getLineHeightFactor:La,getLineWidth:Nr,write:Ct,getHorizontalCoordinate:Zr,getVerticalCoordinate:Cr,getCoordinateString:Ma,getVerticalCoordinateString:Ps,collections:{},newObject:Vn,newAdditionalObject:Go,newObjectDeferred:On,newObjectDeferredBegin:Wi,getFilters:Sr,putStream:Ar,events:Yt,scaleFactor:Ze,pageSize:{getWidth:function(){return Xo(H)},setWidth:function(x){Ml(H,x)},getHeight:function(){return yo(H)},setHeight:function(x){Da(H,x)}},encryptionOptions:g,encryption:Cn,getEncryptor:xl,output:Ra,getNumberOfPages:uo,pages:Ve,out:ne,f2:Te,f3:V,getPageInfo:Ia,getPageInfoByObjId:gt,getCurrentPageInfo:co,getPDFVersion:N,Point:Wo,Rectangle:kl,Matrix:mt,hasHotfix:jo},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return Xo(H)},set:function(x){Ml(H,x)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return yo(H)},set:function(x){Da(H,x)},enumerable:!0,configurable:!0}),Sl.call(S,Ge),Ot="F1",Ta(o,n),Yt.publish("initialized"),S}mc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},mc.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},mc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},mc.prototype.processOwnerPassword=function(t,e){return z0(F0(e).substr(0,5),t)},mc.prototype.encryptor=function(t,e){var n=F0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return z0(n,i)}},eh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||mn(t)!==mn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},_t.API={events:[]},_t.version="2.5.1";var ei=_t.API,cm=1,cu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(t){return t.toFixed(2)},fl=function(t){return t.toFixed(5)};ei.__acroform__={};var Jr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},i2=function(t){return t*cm},Oo=function(t){var e=new W5,n=rt.internal.getHeight(t)||0,i=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Lt(i)),Number(Lt(n))],e},p8=ei.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},m8=ei.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},g8=ei.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ri=ei.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g8(t,e-1)},si=ei.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p8(t,e-1)},oi=ei.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return m8(t,e-1)},v8=ei.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,o=t[0],a=t[1],u=t[2],c=t[3],f={};return f.lowerLeft_X=n(o)||0,f.lowerLeft_Y=i(a+c)||0,f.upperRight_X=n(o+u)||0,f.upperRight_Y=i(a)||0,[Number(Lt(f.lowerLeft_X)),Number(Lt(f.lowerLeft_Y)),Number(Lt(f.upperRight_X)),Number(Lt(f.upperRight_Y))]},y8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=H0(t,n),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+Lt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Oo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},H0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map((function(V){return V.split(`
`)})):o.map((function(V){return[V]}));var a=n,u=rt.internal.getHeight(t)||0;u=u<0?-u:u;var c=rt.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(V,j,ie){if(V+1<o.length){var ee=j+" "+o[V+1][0];return Dd(ee,t,ie).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var h,g,w=Dd("3",t,a).height,A=t.multiline?u-a:(u-w)/2,S=A+=2,R=0,N=0,k=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dd(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var C="",U=0,z=0;z<o.length;z++)if(o.hasOwnProperty(z)){var Z=!1;if(o[z].length!==1&&k!==o[z].length-1){if((w+2)*(U+2)+2>u)continue e;C+=o[z][k],Z=!0,N=z,z--}else{C=(C+=o[z][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var fe=parseInt(z),pe=f(fe,C,a),Q=z>=o.length-1;if(pe&&!Q){C+=" ",k=0;continue}if(pe||Q){if(Q)N=fe;else if(t.multiline&&(w+2)*(U+2)+2>u)continue e}else{if(!t.multiline||(w+2)*(U+2)+2>u)continue e;N=fe}}for(var K="",me=R;me<=N;me++){var Te=o[me];if(t.multiline){if(me===N){K+=Te[k]+" ",k=(k+1)%Te.length;continue}if(me===R){K+=Te[Te.length-1]+" ";continue}}K+=Te[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,g=Dd(K,t,a).width,t.textAlign){case"right":h=c-g-2;break;case"center":h=(c-g)/2;break;case"left":default:h=2}e+=Lt(h)+" "+Lt(S)+` Td
`,e+="("+cu(K)+`) Tj
`,e+=-Lt(h)+` 0 Td
`,S=-(a+2),g=0,R=Z?N:N+1,U++,C=""}break}return i.text=e,i.fontSize=a,i},Dd=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},b8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},w8=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(i){return i.type===n.type&&i.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},_8=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,o=t[n];e.internal.newObjectDeferredBegin(o.objId,!0),mn(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete t[i]}},S8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(b8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new X5,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a.objId=void 0,a.hasAnnotation&&w8(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(i,o){var a=!i;for(var u in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var c=i[u],f=[],h=c.Rect;if(c.Rect&&(c.Rect=v8(c.Rect,o)),o.internal.newObjectDeferredBegin(c.objId,!0),c.DA=rt.createDefaultAppearanceStream(c),mn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=y8(c);f.push({key:"AP",value:"<</N "+g+">>"}),o.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var S=c.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var u in S)if(S.hasOwnProperty(u)){var R=S[u];typeof R=="function"&&(R=R.call(o,c)),w+="/"+u+" "+R+" ",o.internal.acroformPlugin.xForms.indexOf(R)>=0||o.internal.acroformPlugin.xForms.push(R)}}else typeof(R=S)=="function"&&(R=R.call(o,c)),w+="/"+u+" "+R,o.internal.acroformPlugin.xForms.indexOf(R)>=0||o.internal.acroformPlugin.xForms.push(R);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:c.objId}),o.internal.out("endobj")}a&&_8(o.internal.acroformPlugin.xForms,o)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},K5=ei.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(u){return u};if(Array.isArray(t)){for(var o="[",a=0;a<t.length;a++)switch(a!==0&&(o+=" "),mn(t[a])){case"boolean":case"number":case"object":o+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),o+="("+cu(i(t[a].toString()))+")"):o+=t[a].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Zp=function(t,e,n){var i=function(o){return o};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+cu(i(t))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],o=this[i];o&&(Array.isArray(o)?t.push({key:i,value:K5(o,this.objId,this.scope)}):o instanceof qo?(o.scope=this.scope,t.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:i,value:o}))}return t};var W5=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Jr(W5,qo);var X5=function(){qo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cu(n(t))+")"}},set:function(n){t=n}})};Jr(X5,qo);var io=function t(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ri(e,3)},set:function(C){C?this.F=si(e,3):this.F=oi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof th)return;a="FieldObject"+t.FieldNum++}var C=function(U){return U};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+cu(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/cm:h},set:function(C){h=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof th||this instanceof au))return Zp(w,this.objId,this.scope)},set:function(C){C=C.toString(),w=C}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Di?A:Zp(A,this.objId,this.scope)},set:function(C){C=C.toString(),A=this instanceof Di?C:C.substr(0,1)==="("?uc(C.substr(1,C.length-2)):uc(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di?uc(A.substr(1,A.length-1)):A},set:function(C){C=C.toString(),A=this instanceof Di?"/"+C:C}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Di?S:Zp(S,this.objId,this.scope)},set:function(C){C=C.toString(),S=this instanceof Di?C:C.substr(0,1)==="("?uc(C.substr(1,C.length-2)):uc(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di?uc(S.substr(1,S.length-1)):S},set:function(C){C=C.toString(),S=this instanceof Di?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(C){R=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,1)},set:function(C){C?this.Ff=si(this.Ff,1):this.Ff=oi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,2)},set:function(C){C?this.Ff=si(this.Ff,2):this.Ff=oi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,3)},set:function(C){C?this.Ff=si(this.Ff,3):this.Ff=oi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Jr(io,qo);var xc=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return K5(e,this.objId,this.scope)},set:function(n){var i,o;o=[],typeof(i=n)=="string"&&(o=(function(a,u,c){c||(c=1);for(var f,h=[];f=u.exec(a);)h.push(f[c]);return h})(i,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,18)},set:function(n){n?this.Ff=si(this.Ff,18):this.Ff=oi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=si(this.Ff,19):this.Ff=oi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,20)},set:function(n){n?(this.Ff=si(this.Ff,20),e.sort()):this.Ff=oi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,22)},set:function(n){n?this.Ff=si(this.Ff,22):this.Ff=oi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(n){n?this.Ff=si(this.Ff,23):this.Ff=oi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,27)},set:function(n){n?this.Ff=si(this.Ff,27):this.Ff=oi(this.Ff,27)}}),this.hasAppearanceStream=!1};Jr(xc,io);var Ec=function(){xc.call(this),this.fontName="helvetica",this.combo=!1};Jr(Ec,xc);var Tc=function(){Ec.call(this),this.combo=!0};Jr(Tc,Ec);var Fd=function(){Tc.call(this),this.edit=!0};Jr(Fd,Tc);var Di=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,15)},set:function(n){n?this.Ff=si(this.Ff,15):this.Ff=oi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,16)},set:function(n){n?this.Ff=si(this.Ff,16):this.Ff=oi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,17)},set:function(n){n?this.Ff=si(this.Ff,17):this.Ff=oi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(n){n?this.Ff=si(this.Ff,26):this.Ff=oi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,o=[];for(i in o.push("<<"),e)o.push("/"+i+" ("+cu(n(e[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){mn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Jr(Di,io);var zd=function(){Di.call(this),this.pushButton=!0};Jr(zd,Di);var Nc=function(){Di.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Jr(Nc,Di);var th=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(c){return c};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var a,u=[];for(a in u.push("<<"),i)u.push("/"+a+" ("+cu(o(i[a]))+")");return u.push(">>"),u.join(`
`)},set:function(o){mn(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jr(th,io),Nc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Nc.prototype.createOption=function(t){var e=new th;return e.Parent=this,e.optionName=t,this.Kids.push(e),A8.call(this.scope,e),e};var Hd=function(){Di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Jr(Hd,Di);var au=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,13)},set:function(e){e?this.Ff=si(this.Ff,13):this.Ff=oi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,21)},set:function(e){e?this.Ff=si(this.Ff,21):this.Ff=oi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(e){e?this.Ff=si(this.Ff,23):this.Ff=oi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,24)},set:function(e){e?this.Ff=si(this.Ff,24):this.Ff=oi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,25)},set:function(e){e?this.Ff=si(this.Ff,25):this.Ff=oi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(e){e?this.Ff=si(this.Ff,26):this.Ff=oi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jr(au,io);var Gd=function(){au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,14)},set:function(t){t?this.Ff=si(this.Ff,14):this.Ff=oi(this.Ff,14)}}),this.password=!0};Jr(Gd,au);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=H0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Lt(rt.internal.getWidth(t))+" "+Lt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Lt(a.fontSize)+" Tf "+o),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=[],a=rt.internal.getHeight(t),u=rt.internal.getWidth(t),c=H0(t,t.caption);return o.push("1 g"),o.push("0 0 "+Lt(u)+" "+Lt(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Lt(u-1)+" "+Lt(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Lt(c.fontSize)+" Tf "+i),o.push(c.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(rt.internal.getWidth(t))+" "+Lt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var n=[],i=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=rt.internal.Bezier_C,a=Number((i*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fl(rt.internal.getWidth(t)/2)+" "+fl(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=[],i=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*rt.internal.Bezier_C).toFixed(5)),u=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fl(rt.internal.getWidth(t)/2)+" "+fl(rt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),n.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),n.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),n.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fl(rt.internal.getWidth(t)/2)+" "+fl(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),n.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),n.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),n.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=[],i=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fl(rt.internal.getWidth(t)/2)+" "+fl(rt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),n.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),n.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),n.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Oo(t);e.scope=t.scope;var n=[],i=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Lt(rt.internal.getWidth(t)-2)+" "+Lt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(i.x1.x)+" "+Lt(i.x1.y)+" m"),n.push(Lt(i.x2.x)+" "+Lt(i.x2.y)+" l"),n.push(Lt(i.x4.x)+" "+Lt(i.x4.y)+" m"),n.push(Lt(i.x3.x)+" "+Lt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Lt(rt.internal.getWidth(t))+" "+Lt(rt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Lt(rt.internal.getWidth(t)-2)+" "+Lt(rt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),i.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),i.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),i.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Oo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(rt.internal.getWidth(t))+" "+Lt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},rt.internal.getWidth=function(t){var e=0;return mn(t)==="object"&&(e=i2(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return mn(t)==="object"&&(e=i2(t.Rect[3])),e};var A8=ei.addField=function(t){if(S8(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ei.AcroFormChoiceField=xc,ei.AcroFormListBox=Ec,ei.AcroFormComboBox=Tc,ei.AcroFormEditBox=Fd,ei.AcroFormButton=Di,ei.AcroFormPushButton=zd,ei.AcroFormRadioButton=Nc,ei.AcroFormCheckBox=Hd,ei.AcroFormTextField=au,ei.AcroFormPasswordField=Gd,ei.AcroFormAppearance=rt,ei.AcroForm={ChoiceField:xc,ListBox:Ec,ComboBox:Tc,EditBox:Fd,Button:Di,PushButton:zd,RadioButton:Nc,CheckBox:Hd,TextField:au,PasswordField:Gd,Appearance:rt},_t.AcroForm={ChoiceField:xc,ListBox:Ec,ComboBox:Tc,EditBox:Fd,Button:Di,PushButton:zd,RadioButton:Nc,CheckBox:Hd,TextField:au,PasswordField:Gd,Appearance:rt};_t.AcroForm;function Q5(t){return t.reduce((function(e,n,i){return e[n]=i,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(V,j){var ie,ee,Ie,$,re,ce=e;if((j=j||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(pe(V))for(re in n)for(Ie=n[re],ie=0;ie<Ie.length;ie+=1){for($=!0,ee=0;ee<Ie[ie].length;ee+=1)if(Ie[ie][ee]!==void 0&&Ie[ie][ee]!==V[ee]){$=!1;break}if($===!0){ce=re;break}}else for(re in n)for(Ie=n[re],ie=0;ie<Ie.length;ie+=1){for($=!0,ee=0;ee<Ie[ie].length;ee+=1)if(Ie[ie][ee]!==void 0&&Ie[ie][ee]!==V.charCodeAt(ee)){$=!1;break}if($===!0){ce=re;break}}return ce===e&&j!==e&&(ce=j),ce},o=function V(j){for(var ie=this.internal.write,ee=this.internal.putStream,Ie=(0,this.internal.getFilters)();Ie.indexOf("FlateEncode")!==-1;)Ie.splice(Ie.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:j.width}),$.push({key:"Height",value:j.height}),j.colorSpace===k.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===k.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var re="",ce=0,Ne=j.transparency.length;ce<Ne;ce++)re+=j.transparency[ce]+" "+j.transparency[ce]+" ";$.push({key:"Mask",value:"["+re+"]"})}j.sMask!==void 0&&$.push({key:"SMask",value:j.objectId+1+" 0 R"});var Re=j.filter!==void 0?["/"+j.filter]:void 0;if(ee({data:j.data,additionalKeyValues:$,alreadyAppliedFilters:Re,objectId:j.objectId}),ie("endobj"),"sMask"in j&&j.sMask!==void 0){var W="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,L={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:W,data:j.sMask};"filter"in j&&(L.filter=j.filter),V.call(this,L)}if(j.colorSpace===k.INDEXED){var H=this.internal.newObject();ee({data:K(new Uint8Array(j.palette)),objectId:H}),ie("endobj")}},a=function(){var V=this.internal.collections.addImage_images;for(var j in V)o.call(this,V[j])},u=function(){var V,j=this.internal.collections.addImage_images,ie=this.internal.write;for(var ee in j)ie("/I"+(V=j[ee]).index,V.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var V=this.internal.collections.addImage_images;return c.call(this),V},h=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(V){return typeof t["process"+V.toUpperCase()]=="function"},w=function(V){return mn(V)==="object"&&V.nodeType===1},A=function(V,j){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var ie=""+V.getAttribute("src");if(ie.indexOf("data:image/")===0)return Ef(unescape(ie).split("base64,").pop());var ee=t.loadFile(ie,!0);if(ee!==void 0)return ee}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var Ie;switch(j){case"PNG":Ie="image/png";break;case"WEBP":Ie="image/webp";break;case"JPEG":case"JPG":default:Ie="image/jpeg"}return Ef(V.toDataURL(Ie,1).split("base64,").pop())}},S=function(V){var j=this.internal.collections.addImage_images;if(j){for(var ie in j)if(V===j[ie].alias)return j[ie]}},R=function(V,j,ie){return V||j||(V=-96,j=-96),V<0&&(V=-1*ie.width*72/V/this.internal.scaleFactor),j<0&&(j=-1*ie.height*72/j/this.internal.scaleFactor),V===0&&(V=j*ie.width/ie.height),j===0&&(j=V*ie.height/ie.width),[V,j]},N=function(V,j,ie,ee,Ie,$){var re=R.call(this,ie,ee,Ie),ce=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,Re=f.call(this);if(ie=re[0],ee=re[1],Re[Ie.index]=Ie,$){$*=Math.PI/180;var W=Math.cos($),L=Math.sin($),H=function(te){return te.toFixed(4)},J=[H(W),H(L),H(-1*L),H(W),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ce(V),Ne(j+ee),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ce(ie),"0","0",ce(ee),"0","0","cm"].join(" "))):this.internal.write([ce(ie),"0","0",ce(ee),ce(V),Ne(j+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ie.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=t.__addimage__.sHashCode=function(V){var j,ie,ee=0;if(typeof V=="string")for(ie=V.length,j=0;j<ie;j++)ee=(ee<<5)-ee+V.charCodeAt(j),ee|=0;else if(pe(V))for(ie=V.byteLength/2,j=0;j<ie;j++)ee=(ee<<5)-ee+V[j],ee|=0;return ee},z=t.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var j=!0;return V.length===0&&(j=!1),V.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(j=!1),j},Z=t.__addimage__.extractImageFromDataUrl=function(V){var j=(V=V||"").split("base64,"),ie=null;if(j.length===2){var ee=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(ee)&&(ie={mimeType:ee[1],charset:ee[2],data:j[1]})}return ie},fe=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(V){return fe()&&V instanceof ArrayBuffer};var pe=t.__addimage__.isArrayBufferView=function(V){return fe()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},Q=t.__addimage__.binaryStringToUint8Array=function(V){for(var j=V.length,ie=new Uint8Array(j),ee=0;ee<j;ee++)ie[ee]=V.charCodeAt(ee);return ie},K=t.__addimage__.arrayBufferToBinaryString=function(V){for(var j="",ie=pe(V)?V:new Uint8Array(V),ee=0;ee<ie.length;ee+=8192)j+=String.fromCharCode.apply(null,ie.subarray(ee,ee+8192));return j};t.addImage=function(){var V,j,ie,ee,Ie,$,re,ce,Ne;if(typeof arguments[1]=="number"?(j=e,ie=arguments[1],ee=arguments[2],Ie=arguments[3],$=arguments[4],re=arguments[5],ce=arguments[6],Ne=arguments[7]):(j=arguments[1],ie=arguments[2],ee=arguments[3],Ie=arguments[4],$=arguments[5],re=arguments[6],ce=arguments[7],Ne=arguments[8]),mn(V=arguments[0])==="object"&&!w(V)&&"imageData"in V){var Re=V;V=Re.imageData,j=Re.format||j||e,ie=Re.x||ie||0,ee=Re.y||ee||0,Ie=Re.w||Re.width||Ie,$=Re.h||Re.height||$,re=Re.alias||re,ce=Re.compression||ce,Ne=Re.rotation||Re.angle||Ne}var W=this.internal.getFilters();if(ce===void 0&&W.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ie)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=me.call(this,V,j,re,ce);return N.call(this,ie,ee,Ie,$,L,Ne),this};var me=function(V,j,ie,ee){var Ie,$,re;if(typeof V=="string"&&i(V)===e){V=unescape(V);var ce=Te(V,!1);(ce!==""||(ce=t.loadFile(V,!0))!==void 0)&&(V=ce)}if(w(V)&&(V=A(V,j)),j=i(V,j),!g(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((re=ie)==null||re.length===0)&&(ie=(function(Ne){return typeof Ne=="string"||pe(Ne)?U(Ne):pe(Ne.data)?U(Ne.data):null})(V)),(Ie=S.call(this,ie))||(fe()&&(V instanceof Uint8Array||j==="RGBA"||($=V,V=Q(V))),Ie=this["process"+j.toUpperCase()](V,h.call(this),ie,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in t.image_compression?Ne:C.NONE})(ee),$)),!Ie)throw new Error("An unknown error occurred whilst processing the image.");return Ie},Te=t.__addimage__.convertBase64ToBinaryString=function(V,j){var ie;j=typeof j!="boolean"||j;var ee,Ie="";if(typeof V=="string"){ee=(ie=Z(V))!==null?ie.data:V;try{Ie=Ef(ee)}catch($){if(j)throw z(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ie};t.getImageProperties=function(V){var j,ie,ee="";if(w(V)&&(V=A(V)),typeof V=="string"&&i(V)===e&&((ee=Te(V,!1))===""&&(ee=t.loadFile(V)||""),V=ee),ie=i(V),!g(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!fe()||V instanceof Uint8Array||(V=Q(V)),!(j=this["process"+ie.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=ie,j}})(_t.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,o,a,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,g=!1,w=0;w<h.length&&!g;w++)switch((i=h[w]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<h.length;A++){i=h[A];var S=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),U=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+S(C(i.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+f.objId+" 0 R",a+=" /T ("+S(C(U))+") >>",N.content=a;var z=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+z,i.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":o="/Rect ["+u(i.bounds.x)+" "+c(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var Z=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+S(R(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var fe=this.annotations._nameMap[i.options.name];i.options.pageNumber=fe.page,i.options.top=fe.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+S(R(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var pe=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+pe+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,o,a,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(n),y:h(i),w:f(n+o),h:h(i+a)},options:u,type:"link"})},t.textWithLink=function(n,i,o,a){var u,c,f=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var g=this.splitTextToSize(n,c).length;u=Math.ceil(h*g)}else c=f,u=h;return this.text(n,i,o,a),o+=.2*h,a.align==="center"&&(i-=f/2),a.align==="right"&&(i-=f),this.link(i,o-h,c,u,a),f},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(_t.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=t.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&a(N)&&e[N.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&o.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&a(N)&&e[N.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&a(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&a(N)&&e[N.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&a(N)&&e[N.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(N){var k=0,C=n,U="",z=0;for(k=0;k<N.length;k+=1)C[N.charCodeAt(k)]!==void 0?(z++,typeof(C=C[N.charCodeAt(k)])=="number"&&(U+=String.fromCharCode(C),C=n,z=0),k===N.length-1&&(C=n,U+=N.charAt(k-(z-1)),k-=z-1,z=0)):(C=n,U+=N.charAt(k-z),k-=z,z=0);return U};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(N,k,C){return u(N)?a(N)===!1?-1:!h(N)||!u(k)&&!u(C)||!u(C)&&c(k)||c(N)&&!u(k)||c(N)&&f(k)||c(N)&&c(k)?0:g(N)&&u(k)&&!c(k)&&u(C)&&h(C)?3:c(N)||!u(C)?1:2:-1},S=function(N){var k=0,C=0,U=0,z="",Z="",fe="",pe=(N=N||"").split("\\s+"),Q=[];for(k=0;k<pe.length;k+=1){for(Q.push(""),C=0;C<pe[k].length;C+=1)z=pe[k][C],Z=pe[k][C-1],fe=pe[k][C+1],u(z)?(U=A(z,Z,fe),Q[k]+=U!==-1?String.fromCharCode(e[z.charCodeAt(0)][U]):z):Q[k]+=z;Q[k]=w(Q[k])}return Q.join(" ")},R=t.__arabicParser__.processArabic=t.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var U=0;for(C=[],U=0;U<k.length;U+=1)Array.isArray(k[U])?C.push([S(k[U][0]),k[U][1],k[U][2]]):C.push([S(k[U])]);N=C}else N=S(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",R])})(_t.API),_t.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var o;if((n=n||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(_t.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(N){A=N}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(N){S=N}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(N){R=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){i.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),w=h.font||this.getFont(),A=h.scaleFactor||this.internal.scaleFactor,S=0,R=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=h.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce((function(z,Z){return z.concat(k.splitTextToSize(Z,C))}),[])):f=Array.isArray(f)?f:[f];for(var U=0;U<f.length;U++)S<(N=this.getStringUnitWidth(f[U],{font:w})*g)&&(S=N);return S!==0&&(R=f.length),{w:S/=A,h:Math.max((R*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,S&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,g,w,A){if(i.call(this),!g)throw new Error("No data for PDF table.");var S,R,N,k,C=[],U=[],z=[],Z={},fe={},pe=[],Q=[],K=(A=A||{}).autoSize||!1,me=A.printHeaders!==!1,Te=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,V=A.margins||Object.assign({width:this.getPageWidth()},e),j=typeof A.padding=="number"?A.padding:3,ie=A.headerBackgroundColor||"#c8c8c8",ee=A.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=me,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=Te,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=ee,this.setFontSize(Te),w==null)U=C=Object.keys(g[0]),z=C.map((function(){return"left"}));else if(Array.isArray(w)&&mn(w[0])==="object")for(C=w.map((function(Re){return Re.name})),U=w.map((function(Re){return Re.prompt||Re.name||""})),z=w.map((function(Re){return Re.align||"left"})),S=0;S<w.length;S+=1)fe[w[S].name]=w[S].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(U=C=w,z=C.map((function(){return"left"})));if(K||Array.isArray(w)&&typeof w[0]=="string")for(S=0;S<C.length;S+=1){for(Z[k=C[S]]=g.map((function(Re){return Re[k]})),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(U[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=Z[k],this.setFont(void 0,"normal"),N=0;N<R.length;N+=1)pe.push(this.getTextDimensions(R[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);fe[k]=Math.max.apply(null,pe)+j+j,pe=[]}if(me){var Ie={};for(S=0;S<C.length;S+=1)Ie[C[S]]={},Ie[C[S]].text=U[S],Ie[C[S]].align=z[S];var $=c.call(this,Ie,fe);Q=C.map((function(Re){return new a(f,h,fe[Re],$,Ie[Re].text,void 0,Ie[Re].align)})),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var re=w.reduce((function(Re,W){return Re[W.name]=W.align,Re}),{});for(S=0;S<g.length;S+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:S,data:g[S]},this);var ce=c.call(this,g[S],fe);for(N=0;N<C.length;N+=1){var Ne=g[S][C[N]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:S,col:N,data:Ne},this),u.call(this,new a(f,h,fe[C[N]],ce,Ne,S+2,re[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var c=function(f,h){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map((function(S){var R=f[S];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,h[S]-g-g)}),this).map((function(S){return this.getLineHeightFactor()*S.length*w/A+g+g}),this).reduce((function(S,R){return Math.max(S,R)}),0)};t.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){g=this.internal.__cell__.tableHeaderRow[S].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=f;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(R)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}})(_t.API);var Z5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G0=Q5(eb),tb=[100,200,300,400,500,600,700,800,900],x8=Q5(tb);function V0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return Z5[a=a||"normal"]?a:"normal"})(t.style),i=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),o=(function(a){return typeof G0[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:i,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,n,i].join(" ")}}}function r2(t,e,n,i){var o;for(o=n;o>=0&&o<e.length;o+=i)if(t[e[o]])return t[e[o]];for(o=n;o>=0&&o<e.length;o-=i)if(t[e[o]])return t[e[o]]}var E8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function T8(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},E8,n.genericFontFamilies||{}),a=null,u=null,c=0;c<e.length;++c)if(o[(a=V0(e[c])).family]&&(a.family=o[a.family]),t.hasOwnProperty(a.family)){u=t[a.family];break}if(!(u=u||t[i]))throw new Error("Could not find a font-family for the rule '"+o2(a)+"' and default family '"+i+"'.");if(u=(function(f,h){if(h[f])return h[f];var g=G0[f],w=g<=G0.normal?-1:1,A=r2(h,eb,g,w);if(!A)throw new Error("Could not find a matching font-stretch value for "+f);return A})(a.stretch,u),u=(function(f,h){if(h[f])return h[f];for(var g=Z5[f],w=0;w<g.length;++w)if(h[g[w]])return h[g[w]];throw new Error("Could not find a matching font-style for "+f)})(a.style,u),!(u=(function(f,h){if(h[f])return h[f];if(f===400&&h[500])return h[500];if(f===500&&h[400])return h[400];var g=x8[f],w=r2(h,tb,g,f<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+f);return w})(a.weight,u)))throw new Error("Failed to resolve a font for the rule '"+o2(a)+"'.");return u}function a2(t){return t.trimLeft()}function N8(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function C8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ud,l2,u2,e0=["times"];(function(t){var e,n,i,o,a,u,c,f,h,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,h=new g}]);var w=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=L;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Pe){J=!!Pe}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Pe){te=!!Pe}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=Pe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Pe){var ne;typeof Pe=="number"?ne=[Pe,Pe,Pe,Pe]:((ne=new Array(4))[0]=Pe[0],ne[1]=Pe.length>=2?Pe[1]:ne[0],ne[2]=Pe.length>=3?Pe[2]:ne[0],ne[3]=Pe.length>=4?Pe[3]:ne[1]),h.margin=ne}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(Pe){Ae=Pe}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Pe){Se=Pe}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Pe){je=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Pe){Pe instanceof g&&(h=Pe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Pe){h.path=Pe}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(Pe){Ve=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ne;ne=A(Pe),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ne=A(Pe);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var Qe=null;function nt(Pe,ne){if(Qe===null){var Ct=(function(st){var Ge=[];return Object.keys(st).forEach((function(Je){st[Je].forEach((function(We){var Ke=null;switch(We){case"bold":Ke={family:Je,weight:"bold"};break;case"italic":Ke={family:Je,style:"italic"};break;case"bolditalic":Ke={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:Je}}Ke!==null&&(Ke.ref={name:Je,style:We},Ge.push(Ke))}))})),Ge})(Pe.getFontList());Qe=(function(st){for(var Ge={},Je=0;Je<st.length;++Je){var We=V0(st[Je]),Ke=We.family,ft=We.stretch,at=We.style,Mt=We.weight;Ge[Ke]=Ge[Ke]||{},Ge[Ke][ft]=Ge[Ke][ft]||{},Ge[Ke][ft][at]=Ge[Ke][ft][at]||{},Ge[Ke][ft][at][Mt]=We}return Ge})(Ct.concat(ne))}return Qe}var ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Pe){Qe=null,ct=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ne;if(this.ctx.font=Pe,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var Ct=ne[1],st=(ne[2],ne[3]),Ge=ne[4],Je=(ne[5],ne[6]),We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(We==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Ke=(function(St){var Ot,Ze,xi=[],Bt=St.trim();if(Bt==="")return e0;if(Bt in s2)return[s2[Bt]];for(;Bt!=="";){switch(Ze=null,Ot=(Bt=a2(Bt)).charAt(0)){case'"':case"'":Ze=N8(Bt.substring(1),Ot);break;default:Ze=C8(Bt)}if(Ze===null||(xi.push(Ze[0]),(Bt=a2(Ze[1]))!==""&&Bt.charAt(0)!==","))return e0;Bt=Bt.replace(/^,/,"")}return xi})(Je);if(this.fontFaces){var ft=T8(nt(this.pdf,this.fontFaces),Ke.map((function(St){return{family:St,stretch:"normal",weight:st,style:Ct}})));this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var at="";(st==="bold"||parseInt(st,10)>=700||Ct==="bold")&&(at="bold"),Ct==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var Mt="",Pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$t=0;$t<Ke.length;$t++){if(this.pdf.internal.getFont(Ke[$t],at,{noFallback:!0,disableWarning:!0})!==void 0){Mt=Ke[$t];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ke[$t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=Ke[$t],at="bold";else if(this.pdf.internal.getFont(Ke[$t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=Ke[$t],at="normal";break}}if(Mt===""){for(var tn=0;tn<Ke.length;tn++)if(Pt[Ke[tn]]){Mt=Pt[Ke[tn]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};w.prototype.setLineDash=function(L){this.lineDash=L},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){Z.call(this,"fill",!1)},w.prototype.stroke=function(){Z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(L,H){if(isNaN(L)||isNaN(H))throw En.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(L,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(L,H)},w.prototype.closePath=function(){var L=new u(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&mn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){L=new u(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},w.prototype.lineTo=function(L,H){if(isNaN(L)||isNaN(H))throw En.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(L,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(L,H,J,te){if(isNaN(J)||isNaN(te)||isNaN(L)||isNaN(H))throw En.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new u(J,te)),ve=this.ctx.transform.applyToPoint(new u(L,H));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new u(oe.x,oe.y)},w.prototype.bezierCurveTo=function(L,H,J,te,oe,ve){if(isNaN(oe)||isNaN(ve)||isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te))throw En.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new u(oe,ve)),Se=this.ctx.transform.applyToPoint(new u(L,H)),je=this.ctx.transform.applyToPoint(new u(J,te));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:je.x,y2:je.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new u(Ae.x,Ae.y)},w.prototype.arc=function(L,H,J,te,oe,ve){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te)||isNaN(oe))throw En.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new u(L,H));L=Ae.x,H=Ae.y;var Se=this.ctx.transform.applyToPoint(new u(0,J)),je=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(Se.x-je.x,2)+Math.pow(Se.y-je.y,2))}Math.abs(oe-te)>=2*Math.PI&&(te=0,oe=2*Math.PI),this.path.push({type:"arc",x:L,y:H,radius:J,startAngle:te,endAngle:oe,counterclockwise:ve})},w.prototype.arcTo=function(L,H,J,te,oe){throw new Error("arcTo not implemented.")},w.prototype.rect=function(L,H,J,te){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te))throw En.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,H),this.lineTo(L+J,H),this.lineTo(L+J,H+te),this.lineTo(L,H+te),this.lineTo(L,H),this.lineTo(L+J,H),this.lineTo(L,H)},w.prototype.fillRect=function(L,H,J,te){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te))throw En.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,H,J,te),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},w.prototype.strokeRect=function(L,H,J,te){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te))throw En.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(L,H,J,te),this.stroke())},w.prototype.clearRect=function(L,H,J,te){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te))throw En.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,H,J,te))},w.prototype.save=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},w.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(L){var H,J,te,oe;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))H=0,J=0,te=0,oe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ve!==null)H=parseInt(ve[1]),J=parseInt(ve[2]),te=parseInt(ve[3]),oe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)H=parseInt(ve[1]),J=parseInt(ve[2]),te=parseInt(ve[3]),oe=parseFloat(ve[4]);else{if(oe=1,typeof L=="string"&&L.charAt(0)!=="#"){var Ae=new $5(L);L=Ae.ok?Ae.toHex():"#000000"}L.length===4?(H=L.substring(1,2),H+=H,J=L.substring(2,3),J+=J,te=L.substring(3,4),te+=te):(H=L.substring(1,3),J=L.substring(3,5),te=L.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:H,g:J,b:te,a:oe,style:L}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(L,H,J,te){if(isNaN(H)||isNaN(J)||typeof L!="string")throw En.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!S.call(this)){var oe=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;j.call(this,{text:L,x:H,y:J,scale:ve,angle:oe,align:this.textAlign,maxWidth:te})}},w.prototype.strokeText=function(L,H,J,te){if(isNaN(H)||isNaN(J)||typeof L!="string")throw En.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){te=isNaN(te)?void 0:te;var oe=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;j.call(this,{text:L,x:H,y:J,scale:ve,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:te})}},w.prototype.measureText=function(L){if(typeof L!="string")throw En.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,te=H.internal.getFontSize(),oe=H.getStringUnitWidth(L)*te/H.internal.scaleFactor,ve=function(Ae){var Se=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new ve({width:oe*=Math.round(96*J/72*1e4)/1e4})},w.prototype.scale=function(L,H){if(isNaN(L)||isNaN(H))throw En.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(L,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.rotate=function(L){if(isNaN(L))throw En.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},w.prototype.translate=function(L,H){if(isNaN(L)||isNaN(H))throw En.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,L,H);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.transform=function(L,H,J,te,oe,ve){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(te)||isNaN(oe)||isNaN(ve))throw En.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new f(L,H,J,te,oe,ve);this.ctx.transform=this.ctx.transform.multiply(Ae)},w.prototype.setTransform=function(L,H,J,te,oe,ve){L=isNaN(L)?1:L,H=isNaN(H)?0:H,J=isNaN(J)?0:J,te=isNaN(te)?1:te,oe=isNaN(oe)?0:oe,ve=isNaN(ve)?0:ve,this.ctx.transform=new f(L,H,J,te,oe,ve)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(L,H,J,te,oe,ve,Ae,Se,je){var Ve=this.pdf.getImageProperties(L),Qe=1,nt=1,ct=1,Pe=1;te!==void 0&&Se!==void 0&&(ct=Se/te,Pe=je/oe,Qe=Ve.width/te*Se/te,nt=Ve.height/oe*je/oe),ve===void 0&&(ve=H,Ae=J,H=0,J=0),te!==void 0&&Se===void 0&&(Se=te,je=oe),te===void 0&&Se===void 0&&(Se=Ve.width,je=Ve.height);for(var ne,Ct=this.ctx.transform.decompose(),st=ce(Ct.rotate.shx),Ge=new f,Je=(Ge=(Ge=(Ge=Ge.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new c(ve-H*ct,Ae-J*Pe,te*Qe,oe*nt)),We=k.call(this,Je),Ke=[],ft=0;ft<We.length;ft+=1)Ke.indexOf(We[ft])===-1&&Ke.push(We[ft]);if(z(Ke),this.autoPaging)for(var at=Ke[0],Mt=Ke[Ke.length-1],Pt=at;Pt<Mt+1;Pt++){this.pdf.setPage(Pt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Pt===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Pt===1?0:St+(Pt-2)*Ot;if(this.ctx.clip_path.length!==0){var xi=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(ne,this.posX+this.margin[3],-Ze+tn+this.ctx.prevPageLastElemOffset),fe.call(this,"fill",!0),this.path=xi}var Bt=JSON.parse(JSON.stringify(Je));Bt=U([Bt],this.posX+this.margin[3],-Ze+tn+this.ctx.prevPageLastElemOffset)[0];var Ln=(Pt>at||Pt<Mt)&&N.call(this);Ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Ot,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,st),Ln&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,st)};var k=function(L,H,J){var te=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+oe)/J)+1);break;case"arc":te.push(Math.floor((L.y+oe-L.radius)/J)+1),te.push(Math.floor((L.y+oe+L.radius)/J)+1);break;case"qct":var ve=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((ve.y+oe)/J)+1),te.push(Math.floor((ve.y+ve.h+oe)/J)+1);break;case"bct":var Ae=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((Ae.y+oe)/J)+1),te.push(Math.floor((Ae.y+Ae.h+oe)/J)+1);break;case"rect":te.push(Math.floor((L.y+oe)/J)+1),te.push(Math.floor((L.y+L.h+oe)/J)+1)}for(var Se=0;Se<te.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<te[Se];)C.call(this);return te},C=function(){var L=this.fillStyle,H=this.strokeStyle,J=this.font,te=this.lineCap,oe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=H,this.font=J,this.lineCap=te,this.lineWidth=oe,this.lineJoin=ve},U=function(L,H,J){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=H,L[te].y2+=J;case"qct":L[te].x1+=H,L[te].y1+=J;case"mt":case"lt":case"arc":default:L[te].x+=H,L[te].y+=J}return L},z=function(L){return L.sort((function(H,J){return H-J}))},Z=function(L,H){for(var J,te,oe=this.fillStyle,ve=this.strokeStyle,Ae=this.lineCap,Se=this.lineWidth,je=Math.abs(Se*this.ctx.transform.scaleX),Ve=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),ct=[],Pe=0;Pe<nt.length;Pe++)if(nt[Pe].x!==void 0)for(var ne=k.call(this,nt[Pe]),Ct=0;Ct<ne.length;Ct+=1)ct.indexOf(ne[Ct])===-1&&ct.push(ne[Ct]);for(var st=0;st<ct.length;st++)for(;this.pdf.internal.getNumberOfPages()<ct[st];)C.call(this);if(z(ct),this.autoPaging)for(var Ge=ct[0],Je=ct[ct.length-1],We=Ge;We<Je+1;We++){this.pdf.setPage(We),this.fillStyle=oe,this.strokeStyle=ve,this.lineCap=Ae,this.lineWidth=je,this.lineJoin=Ve;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=We===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=We===1?0:at+(We-2)*Mt;if(this.ctx.clip_path.length!==0){var $t=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(J,this.posX+this.margin[3],-Pt+ft+this.ctx.prevPageLastElemOffset),fe.call(this,L,!0),this.path=$t}if(te=JSON.parse(JSON.stringify(Qe)),this.path=U(te,this.posX+this.margin[3],-Pt+ft+this.ctx.prevPageLastElemOffset),H===!1||We===0){var tn=(We>Ge||We<Je)&&N.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Mt,null).clip().discardPath()),fe.call(this,L,H),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=je,fe.call(this,L,H),this.lineWidth=Se;this.path=Qe},fe=function(L,H){if((L!=="stroke"||H||!R.call(this))&&(L==="stroke"||H||!S.call(this))){for(var J,te,oe=[],ve=this.path,Ae=0;Ae<ve.length;Ae++){var Se=ve[Ae];switch(Se.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Se,deltas:[],abs:[]});break;case"lt":var je=oe.length;if(ve[Ae-1]&&!isNaN(ve[Ae-1].x)&&(J=[Se.x-ve[Ae-1].x,Se.y-ve[Ae-1].y],je>0)){for(;je>=0;je--)if(oe[je-1].close!==!0&&oe[je-1].begin!==!0){oe[je-1].deltas.push(J),oe[je-1].abs.push(Se);break}}break;case"bct":J=[Se.x1-ve[Ae-1].x,Se.y1-ve[Ae-1].y,Se.x2-ve[Ae-1].x,Se.y2-ve[Ae-1].y,Se.x-ve[Ae-1].x,Se.y-ve[Ae-1].y],oe[oe.length-1].deltas.push(J);break;case"qct":var Ve=ve[Ae-1].x+2/3*(Se.x1-ve[Ae-1].x),Qe=ve[Ae-1].y+2/3*(Se.y1-ve[Ae-1].y),nt=Se.x+2/3*(Se.x1-Se.x),ct=Se.y+2/3*(Se.y1-Se.y),Pe=Se.x,ne=Se.y;J=[Ve-ve[Ae-1].x,Qe-ve[Ae-1].y,nt-ve[Ae-1].x,ct-ve[Ae-1].y,Pe-ve[Ae-1].x,ne-ve[Ae-1].y],oe[oe.length-1].deltas.push(J);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Se)}}te=H?null:L==="stroke"?"stroke":"fill";for(var Ct=!1,st=0;st<oe.length;st++)if(oe[st].arc)for(var Ge=oe[st].abs,Je=0;Je<Ge.length;Je++){var We=Ge[Je];We.type==="arc"?K.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,H,!Ct):ie.call(this,We.x,We.y),Ct=!0}else if(oe[st].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(oe[st].begin!==!0){var Ke=oe[st].start.x,ft=oe[st].start.y;ee.call(this,oe[st].deltas,Ke,ft),Ct=!0}te&&me.call(this,te),H&&Te.call(this)}},pe=function(L){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+H-J;case"hanging":return L+H-2*J;case"middle":return L+H/2-J;case"ideographic":return L;case"alphabetic":default:return L}},Q=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(H,J){this.colorStops.push([H,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(L,H,J,te,oe,ve,Ae,Se,je){for(var Ve=$.call(this,J,te,oe,ve),Qe=0;Qe<Ve.length;Qe++){var nt=Ve[Qe];Qe===0&&(je?V.call(this,nt.x1+L,nt.y1+H):ie.call(this,nt.x1+L,nt.y1+H)),Ie.call(this,L,H,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}Se?Te.call(this):me.call(this,Ae)},me=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Te=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(L,H){this.pdf.internal.out(n(L)+" "+i(H)+" m")},j=function(L){var H;switch(L.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var J=this.pdf.getTextDimensions(L.text),te=pe.call(this,L.y),oe=Q.call(this,te)-J.h,ve=this.ctx.transform.applyToPoint(new u(L.x,te)),Ae=this.ctx.transform.decompose(),Se=new f;Se=(Se=(Se=Se.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var je,Ve,Qe,nt=this.ctx.transform.applyToRectangle(new c(L.x,te,J.w,J.h)),ct=Se.applyToRectangle(new c(L.x,oe,J.w,J.h)),Pe=k.call(this,ct),ne=[],Ct=0;Ct<Pe.length;Ct+=1)ne.indexOf(Pe[Ct])===-1&&ne.push(Pe[Ct]);if(z(ne),this.autoPaging)for(var st=ne[0],Ge=ne[ne.length-1],Je=st;Je<Ge+1;Je++){this.pdf.setPage(Je);var We=Je===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],at=ft-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Mt-this.margin[3],$t=Je===1?0:Ke+(Je-2)*at;if(this.ctx.clip_path.length!==0){var tn=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(je,this.posX+this.margin[3],-1*$t+We),fe.call(this,"fill",!0),this.path=tn}var St=U([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-$t+We+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*L.scale),Qe=this.lineWidth,this.lineWidth=Qe*L.scale);var Ot=this.autoPaging!=="text";if(Ot||St.y+St.h<=ft){if(Ot||St.y>=We&&St.x<=Mt){var Ze=Ot?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Mt-St.x)[0],xi=U([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-$t+We+this.ctx.prevPageLastElemOffset)[0],Bt=Ot&&(Je>st||Je<Ge)&&N.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,at,null).clip().discardPath()),this.pdf.text(Ze,xi.x,xi.y,{angle:L.angle,align:H,renderingMode:L.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else St.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-St.y);L.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Qe)}else L.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*L.scale),Qe=this.lineWidth,this.lineWidth=Qe*L.scale),this.pdf.text(L.text,ve.x+this.posX,ve.y+this.posY,{angle:L.angle,align:H,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Qe)},ie=function(L,H,J,te){J=J||0,te=te||0,this.pdf.internal.out(n(L+J)+" "+i(H+te)+" l")},ee=function(L,H,J){return this.pdf.lines(L,H,J,null,null)},Ie=function(L,H,J,te,oe,ve,Ae,Se){this.pdf.internal.out([e(o(J+L)),e(a(te+H)),e(o(oe+L)),e(a(ve+H)),e(o(Ae+L)),e(a(Se+H)),"c"].join(" "))},$=function(L,H,J,te){for(var oe=2*Math.PI,ve=Math.PI/2;H>J;)H-=oe;var Ae=Math.abs(J-H);Ae<oe&&te&&(Ae=oe-Ae);for(var Se=[],je=te?-1:1,Ve=H;Ae>1e-5;){var Qe=Ve+je*Math.min(Ae,ve);Se.push(re.call(this,L,Ve,Qe)),Ae-=Math.abs(Qe-Ve),Ve=Qe}return Se},re=function(L,H,J){var te=(J-H)/2,oe=L*Math.cos(te),ve=L*Math.sin(te),Ae=oe,Se=-ve,je=Ae*Ae+Se*Se,Ve=je+Ae*oe+Se*ve,Qe=4/3*(Math.sqrt(2*je*Ve)-Ve)/(Ae*ve-Se*oe),nt=Ae-Qe*Se,ct=Se+Qe*Ae,Pe=nt,ne=-ct,Ct=te+H,st=Math.cos(Ct),Ge=Math.sin(Ct);return{x1:L*Math.cos(H),y1:L*Math.sin(H),x2:nt*st-ct*Ge,y2:nt*Ge+ct*st,x3:Pe*st-ne*Ge,y3:Pe*Ge+ne*st,x4:L*Math.cos(J),y4:L*Math.sin(J)}},ce=function(L){return 180*L/Math.PI},Ne=function(L,H,J,te,oe,ve){var Ae=L+.5*(J-L),Se=H+.5*(te-H),je=oe+.5*(J-oe),Ve=ve+.5*(te-ve),Qe=Math.min(L,oe,Ae,je),nt=Math.max(L,oe,Ae,je),ct=Math.min(H,ve,Se,Ve),Pe=Math.max(H,ve,Se,Ve);return new c(Qe,ct,nt-Qe,Pe-ct)},Re=function(L,H,J,te,oe,ve,Ae,Se){var je,Ve,Qe,nt,ct,Pe,ne,Ct,st,Ge,Je,We,Ke,ft,at=J-L,Mt=te-H,Pt=oe-J,$t=ve-te,tn=Ae-oe,St=Se-ve;for(Ve=0;Ve<41;Ve++)st=(ne=(Qe=L+(je=Ve/40)*at)+je*((ct=J+je*Pt)-Qe))+je*(ct+je*(oe+je*tn-ct)-ne),Ge=(Ct=(nt=H+je*Mt)+je*((Pe=te+je*$t)-nt))+je*(Pe+je*(ve+je*St-Pe)-Ct),Ve==0?(Je=st,We=Ge,Ke=st,ft=Ge):(Je=Math.min(Je,st),We=Math.min(We,Ge),Ke=Math.max(Ke,st),ft=Math.max(ft,Ge));return new c(Math.round(Je),Math.round(We),Math.round(Ke-Je),Math.round(ft-We))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,H,J=(L=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(_t.API),(function(t){var e=function(a){var u,c,f,h,g,w,A,S,R,N;for(c=[],f=0,h=(a+=u="\0\0\0\0".slice(a.length%4||4)).length;h>f;f+=4)(g=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(w=(g=((g=((g=((g=(g-(N=g%85))/85)-(R=g%85))/85)-(S=g%85))/85)-(A=g%85))/85)%85,c.push(w+33,A+33,S+33,R+33,N+33)):c.push(122);return(function(k,C){for(var U=C;U>0;U--)k.pop()})(c,u.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var u,c,f,h,g,w=String,A="length",S=255,R="charCodeAt",N="slice",k="replace";for(a[N](-2),a=a[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),f=[],h=0,g=(a+=u="uuuuu"[N](a[A]%5||5))[A];g>h;h+=5)c=52200625*(a[R](h)-33)+614125*(a[R](h+1)-33)+7225*(a[R](h+2)-33)+85*(a[R](h+3)-33)+(a[R](h+4)-33),f.push(S&c>>24,S&c>>16,S&c>>8,S&c);return(function(C,U){for(var z=U;z>0;z--)C.pop()})(f,u[A]),w.fromCharCode.apply(w,f)},i=function(a){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),u.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},o=function(a){for(var u=new Uint8Array(a.length),c=a.length;c--;)u[c]=a.charCodeAt(c);return a=(u=q0(u)).reduce((function(f,h){return f+String.fromCharCode(h)}),"")};t.processDataByFilters=function(a,u){var c=0,f=a||"",h=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map((function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)})).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(_t.API),(function(t){t.loadFile=function(e,n,i){return(function(o,a,u){a=a!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,h,g){var w=new XMLHttpRequest,A=0,S=function(R){var N=R.length,k=[],C=String.fromCharCode;for(A=0;A<N;A+=1)k.push(C(255&R.charCodeAt(A)));return k.join("")};if(w.open("GET",f,!h),w.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(w.onload=function(){w.status===200?g(S(this.responseText)):g(void 0)}),w.send(null),h&&w.status===200)return S(w.responseText)})(o,a,u)}catch{}return c})(e,n,i)},t.loadImageFile=t.loadFile})(_t.API),(function(t){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):L0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))})).then((function(u){return u.default?u.default:u}))}function n(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):L0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(u){return Promise.reject(new Error("Could not load dompurify: "+u))})).then((function(u){return u.default?u.default:u}))}var i=function(u){var c=mn(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},o=function(u,c){var f=document.createElement(u);for(var h in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[h]=c.style[h];return f},a=function u(c){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),h=u.convert(Promise.resolve(),f);return h=(h=h.setProgress(1,u,1,[u])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(u,c){return u.__proto__=c||a.prototype,u},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(u,c){return this.then((function(){switch(c=c||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u)){case"string":return this.then(n).then((function(f){return this.set({src:o("div",{innerHTML:u,dompurify:f})})}));case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=(function f(h,g){for(var w=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),A=h.firstChild;A;A=A.nextSibling)g!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||w.appendChild(f(A,g));return h.nodeType===1&&(h.nodeName==="CANVAS"?(w.width=h.width,w.height=h.height,w.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(w.value=h.value),w.addEventListener("load",(function(){w.scrollTop=h.scrollTop,w.scrollLeft=h.scrollLeft}),!0)),w})(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then((function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)})).then((function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then((function(c){var f=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var A=0;A<h.length;++A){var S=h[A],R=S.src.find((function(N){return N.format==="truetype"}));R&&f.addFont(R.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),c(this.prop.container,w)})).then((function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(u,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},a.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(u,c)}))},a.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}}))},a.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(u){if(i(u)!=="object")return this;var c=Object.keys(u||{}).map((function(f){if(f in a.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}}),this);return this.then((function(){return this.thenList(c)}))},a.prototype.get=function(u,c){return this.then((function(){var f=u in a.template.prop?this.prop[u]:this.opt[u];return c?c(f):f}))},a.prototype.setMargin=function(u){return this.then((function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u})).then(this.setPageSize)},a.prototype.setPageSize=function(u){function c(f,h){return Math.floor(f*h/72*96)}return this.then((function(){(u=u||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u}))},a.prototype.setProgress=function(u,c,f,h){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(u,c,f,h){return this.setProgress(u?this.progress.val+u:null,c||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(u,c){var f=this;return this.thenCore(u,c,(function(h,g){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,(function(w){return f.updateProgress(null,h),w})).then(h,g).then((function(w){return f.updateProgress(1),w}))}))},a.prototype.thenCore=function(u,c,f){f=f||Promise.prototype.then,u&&(u=u.bind(this)),c&&(c=c.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),g=f.call(h,u,c);return a.convert(g,this.__proto__)},a.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},a.prototype.thenList=function(u){var c=this;return u.forEach((function(f){c=c.thenCore(f)})),c},a.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return a.convert(c,this)},a.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},a.prototype.error=function(u){return this.then((function(){throw new Error(u)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_t.getPageSize=function(u,c,f){if(mn(u)==="object"){var h=u;u=h.orientation,c=h.unit||c,f=h.format||f}c=c||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var g,w=(""+f).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var S,R=0,N=0;if(A.hasOwnProperty(w))R=A[w][1]/g,N=A[w][0]/g;else try{R=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",N>R&&(S=N,N=R,R=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",R>N&&(S=N,N=R,R=S)}return{width:N,height:R,unit:c,k:g,orientation:u}},t.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(V0):null;var f=new a(c);return c.worker?f:f.from(u).doCallback()}})(_t.API),_t.API.addJS=function(t){return u2=t,this.internal.events.subscribe("postPutResources",(function(){Ud=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ud+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+u2+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ud!==void 0&&l2!==void 0&&this.internal.out("/Names <</JavaScript "+Ud+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),a=0;a<o.length;a++){var u=o[a],c=i.exec(u);if(c!=null){var f=c[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(a=0;a<h;a++){var w=n.internal.newObject();g.push(w);var A=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var S=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<g.length;a++)n.internal.write("(page_"+(a+1)+")"+g[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+S+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,o,a){var u={title:o,options:a,children:[]};return i==null&&(i=this.root),i.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var u=i.children[a];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,o){for(var a=0;a<o.children.length;a++)i.count++,this.count_r(i,o.children[a]);return i.count}}])})(_t.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,o,a,u,c){var f,h=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(f=(function(w){for(var A,S=256*w.charCodeAt(4)+w.charCodeAt(5),R=w.length,N={width:0,height:0,numcomponents:1},k=4;k<R;k+=2){if(k+=S,e.indexOf(w.charCodeAt(k+1))!==-1){A=256*w.charCodeAt(k+5)+w.charCodeAt(k+6),N={width:256*w.charCodeAt(k+7)+w.charCodeAt(k+8),height:A,numcomponents:w.charCodeAt(k+9)};break}S=256*w.charCodeAt(k+2)+w.charCodeAt(k+3)}return N})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:n,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:h,index:i,alias:o}}return g}})(_t.API);var cc,Od,c2,f2,d2,R8=(function(){var t,e,n;function i(a){var u,c,f,h,g,w,A,S,R,N,k,C,U,z;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(u=this.readUInt32(),R=(function(){var Z,fe;for(fe=[],Z=0;Z<4;++Z)fe.push(String.fromCharCode(this.data[this.pos++]));return fe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),h=this.readUInt16()||100,w.delay=1e3*g/h,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,u-=4),a=(w!=null?w.data:void 0)||this.imgData,C=0;0<=u?C<u:C>u;0<=u?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((N=f-this.transparency.indexed.length)>0)for(U=0;0<=N?U<N:U>N;0<=N?++U:--U)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":A=(k=this.read(u)).indexOf(0),S=String.fromCharCode.apply(String,k.slice(0,A)),this.text[S]=String.fromCharCode.apply(String,k.slice(A+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(z=this.colorType)===4||z===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var u,c;for(c=[],u=0;0<=a?u<a:u>a;0<=a?++u:--u)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var u=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*u),f=0,h=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function g(w,A,S,R){var N,k,C,U,z,Z,fe,pe,Q,K,me,Te,V,j,ie,ee,Ie,$,re,ce,Ne,Re=Math.ceil((h.width-w)/S),W=Math.ceil((h.height-A)/R),L=h.width==Re&&h.height==W;for(j=u*Re,Te=L?c:new Uint8Array(j*W),Z=a.length,V=0,k=0;V<W&&f<Z;){switch(a[f++]){case 0:for(U=Ie=0;Ie<j;U=Ie+=1)Te[k++]=a[f++];break;case 1:for(U=$=0;$<j;U=$+=1)N=a[f++],z=U<u?0:Te[k-u],Te[k++]=(N+z)%256;break;case 2:for(U=re=0;re<j;U=re+=1)N=a[f++],C=(U-U%u)/u,ie=V&&Te[(V-1)*j+C*u+U%u],Te[k++]=(ie+N)%256;break;case 3:for(U=ce=0;ce<j;U=ce+=1)N=a[f++],C=(U-U%u)/u,z=U<u?0:Te[k-u],ie=V&&Te[(V-1)*j+C*u+U%u],Te[k++]=(N+Math.floor((z+ie)/2))%256;break;case 4:for(U=Ne=0;Ne<j;U=Ne+=1)N=a[f++],C=(U-U%u)/u,z=U<u?0:Te[k-u],V===0?ie=ee=0:(ie=Te[(V-1)*j+C*u+U%u],ee=C&&Te[(V-1)*j+(C-1)*u+U%u]),fe=z+ie-ee,pe=Math.abs(fe-z),K=Math.abs(fe-ie),me=Math.abs(fe-ee),Q=pe<=K&&pe<=me?z:K<=me?ie:ee,Te[k++]=(N+Q)%256;break;default:throw new Error("Invalid filter algorithm: "+a[f-1])}if(!L){var H=((A+V*R)*h.width+w)*u,J=V*j;for(U=0;U<Re;U+=1){for(var te=0;te<u;te+=1)c[H++]=Te[J++];H+=(S-1)*u}}V++}}return a=u8(a),h.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),c},i.prototype.decodePalette=function(){var a,u,c,f,h,g,w,A,S;for(c=this.palette,g=this.transparency.indexed||[],h=new Uint8Array((g.length||0)+c.length),f=0,a=0,u=w=0,A=c.length;w<A;u=w+=3)h[f++]=c[u],h[f++]=c[u+1],h[f++]=c[u+2],h[f++]=(S=g[a++])!=null?S:255;return h},i.prototype.copyToImageData=function(a,u){var c,f,h,g,w,A,S,R,N,k,C;if(f=this.colors,N=null,c=this.hasAlphaChannel,this.palette.length&&(N=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),f=4,c=!0),R=(h=a.data||a).length,w=N||u,g=A=0,f===1)for(;g<R;)S=N?4*u[g/4]:A,k=w[S++],h[g++]=k,h[g++]=k,h[g++]=k,h[g++]=c?w[S++]:255,A=S;else for(;g<R;)S=N?4*u[g/4]:A,h[g++]=w[S++],h[g++]=w[S++],h[g++]=w[S++],h[g++]=c?w[S++]:255,A=S},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var o=function(){if(Object.prototype.toString.call(xt)==="[object Window]"){try{e=xt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),t=function(a){var u;if(o()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var u,c,f,h,g,w,A,S;if(this.animation){for(S=[],c=g=0,w=(A=this.animation.frames).length;g<w;c=++g)u=A[c],f=a.createImageData(u.width,u.height),h=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(f,h),u.imageData=f,S.push(u.image=t(f));return S}},i.prototype.renderFrame=function(a,u){var c,f,h;return c=(f=this.animation.frames)[u],h=f[u-1],u===0&&a.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?a.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&a.putImageData(h.imageData,h.xOffset,h.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(a){var u,c,f,h,g,w,A=this;return c=0,w=this.animation,h=w.numFrames,f=w.frames,g=w.numPlays,(u=function(){var S,R;if(S=c++%h,R=f[S],A.renderFrame(a,S),h>1&&c/h<g)return A.animation._timeout=setTimeout(u,R.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var u,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,u=a.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(c=u.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),u.putImageData(c,0,0))},i})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function I8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],a=o>>7,u=1<<(7&o)+1;t[e++],t[e++];var c=null,f=null;a&&(c=e,f=u,e+=3*u);var h=!0,g=[],w=0,A=null,S=0,R=null;for(this.width=n,this.height=i;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,R=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];w=t[e++]|t[e++]<<8,A=t[e++],(1&N)==0&&(A=null),S=N>>2&7,e++;break;case 254:for(;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,Z=t[e++],fe=Z>>6&1,pe=1<<(7&Z)+1,Q=c,K=f,me=!1;Z>>7&&(me=!0,Q=e,K=pe,e+=3*pe);var Te=e;for(e++;;){var V;if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}g.push({x:k,y:C,width:U,height:z,has_local_palette:me,palette_offset:Q,palette_size:K,data_offset:Te,data_length:e-Te,transparent_index:A,interlaced:!!fe,delay:w,disposal:S});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return R},this.frameInfo=function(j){if(j<0||j>=g.length)throw new Error("Frame index out of range.");return g[j]},this.decodeAndBlitFrameBGRA=function(j,ie){var ee=this.frameInfo(j),Ie=ee.width*ee.height,$=new Uint8Array(Ie);h2(t,ee.data_offset,$,Ie);var re=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var Ne=ee.width,Re=n-Ne,W=Ne,L=4*(ee.y*n+ee.x),H=4*((ee.y+ee.height)*n+ee.x),J=L,te=4*Re;ee.interlaced===!0&&(te+=4*n*7);for(var oe=8,ve=0,Ae=$.length;ve<Ae;++ve){var Se=$[ve];if(W===0&&(W=Ne,(J+=te)>=H&&(te=4*Re+4*n*(oe-1),J=L+(Ne+Re)*(oe<<1),oe>>=1)),Se===ce)J+=4;else{var je=t[re+3*Se],Ve=t[re+3*Se+1],Qe=t[re+3*Se+2];ie[J++]=Qe,ie[J++]=Ve,ie[J++]=je,ie[J++]=255}--W}},this.decodeAndBlitFrameRGBA=function(j,ie){var ee=this.frameInfo(j),Ie=ee.width*ee.height,$=new Uint8Array(Ie);h2(t,ee.data_offset,$,Ie);var re=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var Ne=ee.width,Re=n-Ne,W=Ne,L=4*(ee.y*n+ee.x),H=4*((ee.y+ee.height)*n+ee.x),J=L,te=4*Re;ee.interlaced===!0&&(te+=4*n*7);for(var oe=8,ve=0,Ae=$.length;ve<Ae;++ve){var Se=$[ve];if(W===0&&(W=Ne,(J+=te)>=H&&(te=4*Re+4*n*(oe-1),J=L+(Ne+Re)*(oe<<1),oe>>=1)),Se===ce)J+=4;else{var je=t[re+3*Se],Ve=t[re+3*Se+1],Qe=t[re+3*Se+2];ie[J++]=je,ie[J++]=Ve,ie[J++]=Qe,ie[J++]=255}--W}}}function h2(t,e,n,i){for(var o=t[e++],a=1<<o,u=a+1,c=u+1,f=o+1,h=(1<<f)-1,g=0,w=0,A=0,S=t[e++],R=new Int32Array(4096),N=null;;){for(;g<16&&S!==0;)w|=t[e++]<<g,g+=8,S===1?S=t[e++]:--S;if(g<f)break;var k=w&h;if(w>>=f,g-=f,k!==a){if(k===u)break;for(var C=k<c?k:N,U=0,z=C;z>a;)z=R[z]>>8,++U;var Z=z;if(A+U+(C!==k?1:0)>i)return void En.log("Warning, gif stream longer than expected.");n[A++]=Z;var fe=A+=U;for(C!==k&&(n[A++]=Z),z=C;U--;)z=R[z],n[--fe]=255&z,z>>=8;N!==null&&c<4096&&(R[c++]=N<<8|Z,c>=h+1&&f<12&&(++f,h=h<<1|1)),N=k}else c=u+1,h=(1<<(f=o+1))-1,N=null}return A!==i&&En.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function t0(t){var e,n,i,o,a,u=Math.floor,c=new Array(64),f=new Array(64),h=new Array(64),g=new Array(64),w=new Array(65535),A=new Array(65535),S=new Array(64),R=new Array(64),N=[],k=0,C=7,U=new Array(64),z=new Array(64),Z=new Array(64),fe=new Array(256),pe=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],Te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(L,H){for(var J=0,te=0,oe=new Array,ve=1;ve<=16;ve++){for(var Ae=1;Ae<=L[ve];Ae++)oe[H[te]]=[],oe[H[te]][0]=J,oe[H[te]][1]=ve,te++,J++;J*=2}return oe}function re(L){for(var H=L[0],J=L[1]-1;J>=0;)H&1<<J&&(k|=1<<C),J--,--C<0&&(k==255?(ce(255),ce(0)):ce(k),C=7,k=0)}function ce(L){N.push(L)}function Ne(L){ce(L>>8&255),ce(255&L)}function Re(L,H,J,te,oe){for(var ve,Ae=oe[0],Se=oe[240],je=(function(Ge,Je){var We,Ke,ft,at,Mt,Pt,$t,tn,St,Ot,Ze=0;for(St=0;St<8;++St){We=Ge[Ze],Ke=Ge[Ze+1],ft=Ge[Ze+2],at=Ge[Ze+3],Mt=Ge[Ze+4],Pt=Ge[Ze+5],$t=Ge[Ze+6];var xi=We+(tn=Ge[Ze+7]),Bt=We-tn,Ln=Ke+$t,Jt=Ke-$t,Ft=ft+Pt,fs=ft-Pt,nn=at+Mt,zo=at-Mt,_n=xi+nn,Yi=xi-nn,br=Ln+Ft,cn=Ln-Ft;Ge[Ze]=_n+br,Ge[Ze+4]=_n-br;var At=.707106781*(cn+Yi);Ge[Ze+2]=Yi+At,Ge[Ze+6]=Yi-At;var Yt=.382683433*((_n=zo+fs)-(cn=Jt+Bt)),Ho=.5411961*_n+Yt,ai=1.306562965*cn+Yt,wr=.707106781*(br=fs+Jt),Ki=Bt+wr,mt=Bt-wr;Ge[Ze+5]=mt+Ho,Ge[Ze+3]=mt-Ho,Ge[Ze+1]=Ki+ai,Ge[Ze+7]=Ki-ai,Ze+=8}for(Ze=0,St=0;St<8;++St){We=Ge[Ze],Ke=Ge[Ze+8],ft=Ge[Ze+16],at=Ge[Ze+24],Mt=Ge[Ze+32],Pt=Ge[Ze+40],$t=Ge[Ze+48];var _r=We+(tn=Ge[Ze+56]),Yr=We-tn,Oi=Ke+$t,Vn=Ke-$t,On=ft+Pt,Wi=ft-Pt,Go=at+Mt,Ei=at-Mt,fn=_r+Go,Tn=_r-Go,Ti=Oi+On,Sr=Oi-On;Ge[Ze]=fn+Ti,Ge[Ze+32]=fn-Ti;var Ar=.707106781*(Sr+Tn);Ge[Ze+16]=Tn+Ar,Ge[Ze+48]=Tn-Ar;var ds=.382683433*((fn=Ei+Wi)-(Sr=Vn+Yr)),so=.5411961*fn+ds,hs=1.306562965*Sr+ds,oo=.707106781*(Ti=Wi+Vn),Kr=Yr+oo,Wr=Yr-oo;Ge[Ze+40]=Wr+so,Ge[Ze+24]=Wr-so,Ge[Ze+8]=Kr+hs,Ge[Ze+56]=Kr-hs,Ze++}for(St=0;St<64;++St)Ot=Ge[St]*Je[St],S[St]=Ot>0?Ot+.5|0:Ot-.5|0;return S})(L,H),Ve=0;Ve<64;++Ve)R[Q[Ve]]=je[Ve];var Qe=R[0]-J;J=R[0],Qe==0?re(te[0]):(re(te[A[ve=32767+Qe]]),re(w[ve]));for(var nt=63;nt>0&&R[nt]==0;)nt--;if(nt==0)return re(Ae),J;for(var ct,Pe=1;Pe<=nt;){for(var ne=Pe;R[Pe]==0&&Pe<=nt;)++Pe;var Ct=Pe-ne;if(Ct>=16){ct=Ct>>4;for(var st=1;st<=ct;++st)re(Se);Ct&=15}ve=32767+R[Pe],re(oe[(Ct<<4)+A[ve]]),re(w[ve]),Pe++}return nt!=63&&re(Ae),J}function W(L){L=Math.min(Math.max(L,1),100),a!=L&&((function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var oe=u((J[te]*H+50)/100);oe=Math.min(Math.max(oe,1),255),c[Q[te]]=oe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Se=u((ve[Ae]*H+50)/100);Se=Math.min(Math.max(Se,1),255),f[Q[Ae]]=Se}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Qe=0;Qe<8;Qe++)for(var nt=0;nt<8;nt++)h[Ve]=1/(c[Q[Ve]]*je[Qe]*je[nt]*8),g[Ve]=1/(f[Q[Ve]]*je[Qe]*je[nt]*8),Ve++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,H){H&&W(H),N=new Array,k=0,C=7,Ne(65496),Ne(65504),Ne(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Ne(1),Ne(1),ce(0),ce(0),(function(){Ne(65499),Ne(132),ce(0);for(var Ke=0;Ke<64;Ke++)ce(c[Ke]);ce(1);for(var ft=0;ft<64;ft++)ce(f[ft])})(),(function(Ke,ft){Ne(65472),Ne(17),ce(8),Ne(ft),Ne(Ke),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(L.width,L.height),(function(){Ne(65476),Ne(418),ce(0);for(var Ke=0;Ke<16;Ke++)ce(K[Ke+1]);for(var ft=0;ft<=11;ft++)ce(me[ft]);ce(16);for(var at=0;at<16;at++)ce(Te[at+1]);for(var Mt=0;Mt<=161;Mt++)ce(V[Mt]);ce(1);for(var Pt=0;Pt<16;Pt++)ce(j[Pt+1]);for(var $t=0;$t<=11;$t++)ce(ie[$t]);ce(17);for(var tn=0;tn<16;tn++)ce(ee[tn+1]);for(var St=0;St<=161;St++)ce(Ie[St])})(),Ne(65498),Ne(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var J=0,te=0,oe=0;k=0,C=7,this.encode.displayName="_encode_";for(var ve,Ae,Se,je,Ve,Qe,nt,ct,Pe,ne=L.data,Ct=L.width,st=L.height,Ge=4*Ct,Je=0;Je<st;){for(ve=0;ve<Ge;){for(Ve=Ge*Je+ve,nt=-1,ct=0,Pe=0;Pe<64;Pe++)Qe=Ve+(ct=Pe>>3)*Ge+(nt=4*(7&Pe)),Je+ct>=st&&(Qe-=Ge*(Je+1+ct-st)),ve+nt>=Ge&&(Qe-=ve+nt-Ge+4),Ae=ne[Qe++],Se=ne[Qe++],je=ne[Qe++],U[Pe]=(pe[Ae]+pe[Se+256>>0]+pe[je+512>>0]>>16)-128,z[Pe]=(pe[Ae+768>>0]+pe[Se+1024>>0]+pe[je+1280>>0]>>16)-128,Z[Pe]=(pe[Ae+1280>>0]+pe[Se+1536>>0]+pe[je+1792>>0]>>16)-128;J=Re(U,h,J,e,i),te=Re(z,g,te,n,o),oe=Re(Z,g,oe,n,o),ve+=32}Je+=8}if(C>=0){var We=[];We[1]=C+1,We[0]=(1<<C+1)-1,re(We)}return Ne(65497),new Uint8Array(N)},t=t||50,(function(){for(var L=String.fromCharCode,H=0;H<256;H++)fe[H]=L(H)})(),e=$(K,me),n=$(j,ie),i=$(Te,V),o=$(ee,Ie),(function(){for(var L=1,H=2,J=1;J<=15;J++){for(var te=L;te<H;te++)A[32767+te]=J,w[32767+te]=[],w[32767+te][1]=J,w[32767+te][0]=te;for(var oe=-(H-1);oe<=-L;oe++)A[32767+oe]=J,w[32767+oe]=[],w[32767+oe][1]=J,w[32767+oe][0]=H-1+oe;L<<=1,H<<=1}})(),(function(){for(var L=0;L<256;L++)pe[L]=19595*L,pe[L+256>>0]=38470*L,pe[L+512>>0]=7471*L+32768,pe[L+768>>0]=-11059*L,pe[L+1024>>0]=-21709*L,pe[L+1280>>0]=32768*L+8421375,pe[L+1536>>0]=-27439*L,pe[L+1792>>0]=-5329*L})(),W(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ws(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p2(t){function e(K){if(!K)throw Error("assert :P")}function n(K,me,Te){for(var V=0;4>V;V++)if(K[me+V]!=Te.charCodeAt(V))return!0;return!1}function i(K,me,Te,V,j){for(var ie=0;ie<j;ie++)K[me+ie]=Te[V+ie]}function o(K,me,Te,V){for(var j=0;j<V;j++)K[me+j]=Te}function a(K){return new Int32Array(K)}function u(K,me){for(var Te=[],V=0;V<K;V++)Te.push(new me);return Te}function c(K,me){var Te=[];return(function V(j,ie,ee){for(var Ie=ee[ie],$=0;$<Ie&&(j.push(ee.length>ie+1?[]:new me),!(ee.length<ie+1));$++)V(j[$],ie+1,ee)})(Te,0,K),Te}var f=function(){var K=this;function me(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function Te(m,b,E,T,M){e(!(T%E));do m[b+(T-=E)]=M;while(0<T)}function V(m,b,E,T,M){if(e(2328>=M),512>=M)var O=a(512);else if((O=a(M))==null)return 0;return(function(q,B,G,Y,le,_e){var we,ge,Be=B,Le=1<<G,ue=a(16),he=a(16);for(e(le!=0),e(Y!=null),e(q!=null),e(0<G),ge=0;ge<le;++ge){if(15<Y[ge])return 0;++ue[Y[ge]]}if(ue[0]==le)return 0;for(he[1]=0,we=1;15>we;++we){if(ue[we]>1<<we)return 0;he[we+1]=he[we]+ue[we]}for(ge=0;ge<le;++ge)we=Y[ge],0<Y[ge]&&(_e[he[we]++]=ge);if(he[15]==1)return(Y=new j).g=0,Y.value=_e[0],Te(q,Be,1,Le,Y),Le;var Oe,ze=-1,Ue=Le-1,Xe=0,$e=1,lt=1,Ye=1<<G;for(ge=0,we=1,le=2;we<=G;++we,le<<=1){if($e+=lt<<=1,0>(lt-=ue[we]))return 0;for(;0<ue[we];--ue[we])(Y=new j).g=we,Y.value=_e[ge++],Te(q,Be+Xe,le,Ye,Y),Xe=me(Xe,we)}for(we=G+1,le=2;15>=we;++we,le<<=1){if($e+=lt<<=1,0>(lt-=ue[we]))return 0;for(;0<ue[we];--ue[we]){if(Y=new j,(Xe&Ue)!=ze){for(Be+=Ye,Oe=1<<(ze=we)-G;15>ze&&!(0>=(Oe-=ue[ze]));)++ze,Oe<<=1;Le+=Ye=1<<(Oe=ze-G),q[B+(ze=Xe&Ue)].g=Oe+G,q[B+ze].value=Be-B-ze}Y.g=we-G,Y.value=_e[ge++],Te(q,Be+(Xe>>G),le,Ye,Y),Xe=me(Xe,we)}}return $e!=2*he[15]-1?0:Le})(m,b,E,T,M,O)}function j(){this.value=this.g=0}function ie(){this.value=this.g=0}function ee(){this.G=u(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Bi,ie)}function Ie(m,b,E,T){e(m!=null),e(b!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+T,m.Zc=4<=T?E+T-4+1:E,ve(m)}function $(m,b){for(var E=0;0<b--;)E|=Se(m,128)<<b;return E}function re(m,b){var E=$(m,b);return Ae(m)?-E:E}function ce(m,b,E,T){var M,O=0;for(e(m!=null),e(b!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),M=0;M<T;++M)O+=b[E+M]<<8*M;m.Ra=O,m.bb=T,m.oa=b,m.pa=E}function Ne(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<wo-8>>>0,++m.bb,m.u-=8;J(m)&&(m.h=1,m.u=0)}function Re(m,b){if(e(0<=b),!m.h&&b<=bo){var E=H(m)&Qo[b];return m.u+=b,Ne(m),E}return m.h=1,m.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(m){return m.Ra>>>(m.u&wo-1)>>>0}function J(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>wo}function te(m,b){m.u=b,m.h=J(m)}function oe(m){m.u>=qa&&(e(m.u>=qa),Ne(m))}function ve(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ae(m){return $(m,1)}function Se(m,b){var E=m.Ca;0>m.b&&ve(m);var T=m.b,M=E*b>>>8,O=(m.I>>>T>M)+0;for(O?(E-=M,m.I-=M+1<<T>>>0):E=M+1,T=E,M=0;256<=T;)M+=8,T>>=8;return T=7^M+Fi[T],m.b-=T,m.Ca=(E<<T)-1,O}function je(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=E>>0&255}function Ve(m,b){return m[b+0]<<0|m[b+1]<<8}function Qe(m,b){return Ve(m,b)|m[b+2]<<16}function nt(m,b){return Ve(m,b)|Ve(m,b+2)<<16}function ct(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=a(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Pe(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),i(b.X,0,m.X,0,1<<b.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Ct(m,b,E,T){e(E!=null),e(T!=null);var M=E[0],O=T[0];return M==0&&(M=(m*O+b/2)/b),O==0&&(O=(b*M+m/2)/m),0>=M||0>=O?0:(E[0]=M,T[0]=O,1)}function st(m,b){return m+(1<<b)-1>>>b}function Ge(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Je(m,b){K[b]=function(E,T,M,O,q,B,G){var Y;for(Y=0;Y<q;++Y){var le=K[m](B[G+Y-1],M,O+Y);B[G+Y]=Ge(E[T+Y],le)}}}function We(){this.ud=this.hd=this.jd=0}function Ke(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function ft(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function at(m,b){return ft(m+(m-b+.5>>1))}function Mt(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function Pt(m,b,E,T,M,O,q){for(T=O[q-1],E=0;E<M;++E)O[q+E]=T=Ge(m[b+E],T)}function $t(m,b,E,T,M){var O;for(O=0;O<E;++O){var q=m[b+O],B=q>>8&255,G=16711935&(G=(G=16711935&q)+((B<<16)+B));T[M+O]=(4278255360&q)+G>>>0}}function tn(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function St(m,b,E,T,M,O){var q;for(q=0;q<T;++q){var B=b[E+q],G=B>>>8,Y=B,le=255&(le=(le=B>>>16)+((m.jd<<24>>24)*(G<<24>>24)>>>5));Y=255&(Y=(Y=Y+((m.hd<<24>>24)*(G<<24>>24)>>>5))+((m.ud<<24>>24)*(le<<24>>24)>>>5)),M[O+q]=(4278255360&B)+(le<<16)+Y}}function Ot(m,b,E,T,M){K[b]=function(O,q,B,G,Y,le,_e,we,ge){for(G=_e;G<we;++G)for(_e=0;_e<ge;++_e)Y[le++]=M(B[T(O[q++])])},K[m]=function(O,q,B,G,Y,le,_e){var we=8>>O.b,ge=O.Ea,Be=O.K[0],Le=O.w;if(8>we)for(O=(1<<O.b)-1,Le=(1<<we)-1;q<B;++q){var ue,he=0;for(ue=0;ue<ge;++ue)ue&O||(he=T(G[Y++])),le[_e++]=M(Be[he&Le]),he>>=we}else K["VP8LMapColor"+E](G,Y,Be,Le,le,_e,q,B,ge)}}function Ze(m,b,E,T,M){for(E=b+E;b<E;){var O=m[b++];T[M++]=O>>16&255,T[M++]=O>>8&255,T[M++]=O>>0&255}}function xi(m,b,E,T,M){for(E=b+E;b<E;){var O=m[b++];T[M++]=O>>16&255,T[M++]=O>>8&255,T[M++]=O>>0&255,T[M++]=O>>24&255}}function Bt(m,b,E,T,M){for(E=b+E;b<E;){var O=(q=m[b++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;T[M++]=O,T[M++]=q}}function Ln(m,b,E,T,M){for(E=b+E;b<E;){var O=(q=m[b++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;T[M++]=O,T[M++]=q}}function Jt(m,b,E,T,M){for(E=b+E;b<E;){var O=m[b++];T[M++]=O>>0&255,T[M++]=O>>8&255,T[M++]=O>>16&255}}function Ft(m,b,E,T,M,O){if(O==0)for(E=b+E;b<E;)je(T,((O=m[b++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),M+=32;else i(T,M,m,b,E)}function fs(m,b){K[b][0]=K[m+"0"],K[b][1]=K[m+"1"],K[b][2]=K[m+"2"],K[b][3]=K[m+"3"],K[b][4]=K[m+"4"],K[b][5]=K[m+"5"],K[b][6]=K[m+"6"],K[b][7]=K[m+"7"],K[b][8]=K[m+"8"],K[b][9]=K[m+"9"],K[b][10]=K[m+"10"],K[b][11]=K[m+"11"],K[b][12]=K[m+"12"],K[b][13]=K[m+"13"],K[b][14]=K[m+"0"],K[b][15]=K[m+"0"]}function nn(m){return m==zl||m==Nu||m==Ha||m==Cu}function zo(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zo,this.f.kb=new _n,this.sd=null}function br(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Yt(m,b){var E=m.T,T=b.ba.f.RGBA,M=T.eb,O=T.fb+m.ka*T.A,q=bi[b.ba.S],B=m.y,G=m.O,Y=m.f,le=m.N,_e=m.ea,we=m.W,ge=b.cc,Be=b.dc,Le=b.Mc,ue=b.Nc,he=m.ka,Oe=m.ka+m.T,ze=m.U,Ue=ze+1>>1;for(he==0?q(B,G,null,null,Y,le,_e,we,Y,le,_e,we,M,O,null,null,ze):(q(b.ec,b.fc,B,G,ge,Be,Le,ue,Y,le,_e,we,M,O-T.A,M,O,ze),++E);he+2<Oe;he+=2)ge=Y,Be=le,Le=_e,ue=we,le+=m.Rc,we+=m.Rc,O+=2*T.A,q(B,(G+=2*m.fa)-m.fa,B,G,ge,Be,Le,ue,Y,le,_e,we,M,O-T.A,M,O,ze);return G+=m.fa,m.j+Oe<m.o?(i(b.ec,b.fc,B,G,ze),i(b.cc,b.dc,Y,le,Ue),i(b.Mc,b.Nc,_e,we,Ue),E--):1&Oe||q(B,G,null,null,Y,le,_e,we,Y,le,_e,we,M,O+T.A,null,null,ze),E}function Ho(m,b,E){var T=m.F,M=[m.J];if(T!=null){var O=m.U,q=b.ba.S,B=q==Fl||q==Ha;b=b.ba.f.RGBA;var G=[0],Y=m.ka;G[0]=m.T,m.Kb&&(Y==0?--G[0]:(--Y,M[0]-=m.width),m.j+m.ka+m.T==m.o&&(G[0]=m.o-m.j-Y));var le=b.eb;Y=b.fb+Y*b.A,m=Zo(T,M[0],m.width,O,G,le,Y+(B?0:3),b.A),e(E==G),m&&nn(q)&&_s(le,Y,B,O,G,b.A)}return 0}function ai(m){var b=m.ma,E=b.ba.S,T=11>E,M=E==Li||E==Mr||E==Fl||E==za||E==12||nn(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Us(b.Oa,m,M?11:12))return 0;if(M&&nn(E)&&He(),m.da)alert("todo:use_scaling");else{if(T){if(b.Ib=At,m.Kb){if(E=m.U+1>>1,b.memory=a(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Yt,He()}}else alert("todo:EmitYUV");M&&(b.Jb=Ho,T&&be())}if(T&&!Io){for(m=0;256>m;++m)wi[m]=89858*(m-128)+ja>>Br,vh[m]=-22014*(m-128)+ja,qf[m]=-45773*(m-128),Mu[m]=113618*(m-128)+ja>>Br;for(m=ia;m<Ro;++m)b=76283*(m-16)+ja>>Br,yh[m-ia]=lr(b,255),bh[m-ia]=lr(b+8>>4,15);Io=1}return 1}function wr(m){var b=m.ma,E=m.U,T=m.T;return e(!(1&m.ka)),0>=E||0>=T?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function Ki(m){m.ma.memory=null}function mt(m,b,E,T){return Re(m,8)!=47?0:(b[0]=Re(m,14)+1,E[0]=Re(m,14)+1,T[0]=Re(m,1),Re(m,3)!=0?0:!m.h)}function _r(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+Re(b,E)+1}function Yr(m,b){return 120<b?b-120:1<=(E=((E=Dr[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function Oi(m,b,E){var T=H(E),M=m[b+=255&T].g-8;return 0<M&&(te(E,E.u+8),T=H(E),b+=m[b].value,b+=T&(1<<M)-1),te(E,E.u+m[b].g),m[b].value}function Vn(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function On(m,b,E){var T=m.xc;return e((b=T==0?0:m.vc[m.md*(E>>T)+(b>>T)])<m.Wb),m.Ya[b]}function Wi(m,b,E,T){var M=m.ab,O=m.c*b,q=m.C;b=q+b;var B=E,G=T;for(T=m.Ta,E=m.Ua;0<M--;){var Y=m.gc[M],le=q,_e=b,we=B,ge=G,Be=(G=T,B=E,Y.Ea);switch(e(le<_e),e(_e<=Y.nc),Y.hc){case 2:Su(we,ge,(_e-le)*Be,G,B);break;case 0:var Le=le,ue=_e,he=G,Oe=B,ze=(Ye=Y).Ea;Le==0&&(_u(we,ge,null,null,1,he,Oe),Pt(we,ge+1,0,0,ze-1,he,Oe+1),ge+=ze,Oe+=ze,++Le);for(var Ue=1<<Ye.b,Xe=Ue-1,$e=st(ze,Ye.b),lt=Ye.K,Ye=Ye.w+(Le>>Ye.b)*$e;Le<ue;){var en=lt,Gt=Ye,Wt=1;for(Dl(we,ge,he,Oe-ze,1,he,Oe);Wt<ze;){var Rt=(Wt&~Xe)+Ue;Rt>ze&&(Rt=ze),(0,Rr[en[Gt++]>>8&15])(we,ge+ +Wt,he,Oe+Wt-ze,Rt-Wt,he,Oe+Wt),Wt=Rt}ge+=ze,Oe+=ze,++Le&Xe||(Ye+=$e)}_e!=Y.nc&&i(G,B-Be,G,B+(_e-le-1)*Be,Be);break;case 1:for(Be=we,ue=ge,ze=(we=Y.Ea)-(Oe=we&~(he=(ge=1<<Y.b)-1)),Le=st(we,Y.b),Ue=Y.K,Y=Y.w+(le>>Y.b)*Le;le<_e;){for(Xe=Ue,$e=Y,lt=new We,Ye=ue+Oe,en=ue+we;ue<Ye;)tn(Xe[$e++],lt),ur(lt,Be,ue,ge,G,B),ue+=ge,B+=ge;ue<en&&(tn(Xe[$e++],lt),ur(lt,Be,ue,ze,G,B),ue+=ze,B+=ze),++le&he||(Y+=Le)}break;case 3:if(we==G&&ge==B&&0<Y.b){for(ue=G,we=Be=B+(_e-le)*Be-(Oe=(_e-le)*st(Y.Ea,Y.b)),ge=G,he=B,Le=[],Oe=(ze=Oe)-1;0<=Oe;--Oe)Le[Oe]=ge[he+Oe];for(Oe=ze-1;0<=Oe;--Oe)ue[we+Oe]=Le[Oe];ts(Y,le,_e,G,Be,G,B)}else ts(Y,le,_e,we,ge,G,B)}B=T,G=E}G!=E&&i(T,E,B,G,O)}function Go(m,b){var E=m.V,T=m.Ba+m.c*m.C,M=b-m.C;if(e(b<=m.l.o),e(16>=M),0<M){var O=m.l,q=m.Ta,B=m.Ua,G=O.width;if(Wi(m,M,E,T),M=B=[B],e((E=m.C)<(T=b)),e(O.v<O.va),T>O.o&&(T=O.o),E<O.j){var Y=O.j-E;E=O.j,M[0]+=Y*G}if(E>=T?E=0:(M[0]+=4*O.v,O.ka=E-O.j,O.U=O.va-O.v,O.T=T-E,E=1),E){if(B=B[0],11>(E=m.ca).S){var le=E.f.RGBA,_e=(T=E.S,M=O.U,O=O.T,Y=le.eb,le.A),we=O;for(le=le.fb+m.Ma*le.A;0<we--;){var ge=q,Be=B,Le=M,ue=Y,he=le;switch(T){case Eu:Ir(ge,Be,Le,ue,he);break;case Li:qs(ge,Be,Le,ue,he);break;case zl:qs(ge,Be,Le,ue,he),_s(ue,he,0,Le,1,0);break;case Tu:Ba(ge,Be,Le,ue,he);break;case Mr:Ft(ge,Be,Le,ue,he,1);break;case Nu:Ft(ge,Be,Le,ue,he,1),_s(ue,he,0,Le,1,0);break;case Fl:Ft(ge,Be,Le,ue,he,0);break;case Ha:Ft(ge,Be,Le,ue,he,0),_s(ue,he,1,Le,1,0);break;case za:ns(ge,Be,Le,ue,he);break;case Cu:ns(ge,Be,Le,ue,he),Ii(ue,he,Le,1,0);break;case xo:is(ge,Be,Le,ue,he);break;default:e(0)}B+=G,le+=_e}m.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function Ei(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,T=m.Ya[b].H;if(0<E[1][T[1]+0].g||0<E[2][T[2]+0].g||0<E[3][T[3]+0].g)return 0}return 1}function fn(m,b,E,T,M,O){if(m.Z!=0){var q=m.qd,B=m.rd;for(e(zs[m.Z]!=null);b<E;++b)zs[m.Z](q,B,T,M,T,M,O),q=T,B=M,M+=O;m.qd=q,m.rd=B}}function Tn(m,b){var E=m.l.ma,T=E.Z==0||E.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(b<=m.l.o),b>T){var M=m.l.width,O=E.ca,q=E.tb+M*T,B=m.V,G=m.Ba+m.c*T,Y=m.gc;e(m.ab==1),e(Y[0].hc==3),Dc(Y[0],T,b,B,G,O,q),fn(E,T,b,O,q,M)}m.C=m.Ma=b}function Ti(m,b,E,T,M,O,q){var B=m.$/T,G=m.$%T,Y=m.m,le=m.s,_e=E+m.$,we=_e;M=E+T*M;var ge=E+T*O,Be=280+le.ua,Le=m.Pb?B:16777216,ue=0<le.ua?le.Wa:null,he=le.wc,Oe=_e<ge?On(le,G,B):null;e(m.C<O),e(ge<=M);var ze=!1;e:for(;;){for(;ze||_e<ge;){var Ue=0;if(B>=Le){var Xe=_e-E;e((Le=m).Pb),Le.wd=Le.m,Le.xd=Xe,0<Le.s.ua&&Pe(Le.s.Wa,Le.s.vb),Le=B+Eo}if(G&he||(Oe=On(le,G,B)),e(Oe!=null),Oe.Qb&&(b[_e]=Oe.qb,ze=!0),!ze)if(oe(Y),Oe.jc){Ue=Y,Xe=b;var $e=_e,lt=Oe.pd[H(Ue)&Bi-1];e(Oe.jc),256>lt.g?(te(Ue,Ue.u+lt.g),Xe[$e]=lt.value,Ue=0):(te(Ue,Ue.u+lt.g-256),e(256<=lt.value),Ue=lt.value),Ue==0&&(ze=!0)}else Ue=Oi(Oe.G[0],Oe.H[0],Y);if(Y.h)break;if(ze||256>Ue){if(!ze)if(Oe.nd)b[_e]=(Oe.qb|Ue<<8)>>>0;else{if(oe(Y),ze=Oi(Oe.G[1],Oe.H[1],Y),oe(Y),Xe=Oi(Oe.G[2],Oe.H[2],Y),$e=Oi(Oe.G[3],Oe.H[3],Y),Y.h)break;b[_e]=($e<<24|ze<<16|Ue<<8|Xe)>>>0}if(ze=!1,++_e,++G>=T&&(G=0,++B,q!=null&&B<=O&&!(B%16)&&q(m,B),ue!=null))for(;we<_e;)Ue=b[we++],ue.X[(506832829*Ue&4294967295)>>>ue.Mb]=Ue}else if(280>Ue){if(Ue=_r(Ue-256,Y),Xe=Oi(Oe.G[4],Oe.H[4],Y),oe(Y),Xe=Yr(T,Xe=_r(Xe,Y)),Y.h)break;if(_e-E<Xe||M-_e<Ue)break e;for($e=0;$e<Ue;++$e)b[_e+$e]=b[_e+$e-Xe];for(_e+=Ue,G+=Ue;G>=T;)G-=T,++B,q!=null&&B<=O&&!(B%16)&&q(m,B);if(e(_e<=M),G&he&&(Oe=On(le,G,B)),ue!=null)for(;we<_e;)Ue=b[we++],ue.X[(506832829*Ue&4294967295)>>>ue.Mb]=Ue}else{if(!(Ue<Be))break e;for(ze=Ue-280,e(ue!=null);we<_e;)Ue=b[we++],ue.X[(506832829*Ue&4294967295)>>>ue.Mb]=Ue;Ue=_e,e(!(ze>>>(Xe=ue).Xa)),b[Ue]=Xe.X[ze],ze=!0}ze||e(Y.h==J(Y))}if(m.Pb&&Y.h&&_e<M)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Pe(m.s.vb,m.s.Wa);else{if(Y.h)break e;q!=null&&q(m,B>O?O:B),m.a=0,m.$=_e-E}return 1}return m.a=3,0}function Sr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Ar(){var m=new Pc;return m==null?null:(m.a=0,m.xb=Oc,fs("Predictor","VP8LPredictors"),fs("Predictor","VP8LPredictors_C"),fs("PredictorAdd","VP8LPredictorsAdd"),fs("PredictorAdd","VP8LPredictorsAdd_C"),Su=$t,ur=St,Ir=Ze,qs=xi,ns=Bt,is=Ln,Ba=Jt,K.VP8LMapColor32b=Ul,K.VP8LMapColor8b=zi,m)}function ds(m,b,E,T,M){var O=1,q=[m],B=[b],G=T.m,Y=T.s,le=null,_e=0;e:for(;;){if(E)for(;O&&Re(G,1);){var we=q,ge=B,Be=T,Le=1,ue=Be.m,he=Be.gc[Be.ab],Oe=Re(ue,2);if(Be.Oc&1<<Oe)O=0;else{switch(Be.Oc|=1<<Oe,he.hc=Oe,he.Ea=we[0],he.nc=ge[0],he.K=[null],++Be.ab,e(4>=Be.ab),Oe){case 0:case 1:he.b=Re(ue,3)+2,Le=ds(st(he.Ea,he.b),st(he.nc,he.b),0,Be,he.K),he.K=he.K[0];break;case 3:var ze,Ue=Re(ue,8)+1,Xe=16<Ue?0:4<Ue?1:2<Ue?2:3;if(we[0]=st(he.Ea,Xe),he.b=Xe,ze=Le=ds(Ue,1,0,Be,he.K)){var $e,lt=Ue,Ye=he,en=1<<(8>>Ye.b),Gt=a(en);if(Gt==null)ze=0;else{var Wt=Ye.K[0],Rt=Ye.w;for(Gt[0]=Ye.K[0][0],$e=1;$e<1*lt;++$e)Gt[$e]=Ge(Wt[Rt+$e],Gt[$e-1]);for(;$e<4*en;++$e)Gt[$e]=0;Ye.K[0]=null,Ye.K[0]=Gt,ze=1}}Le=ze;break;case 2:break;default:e(0)}O=Le}}if(q=q[0],B=B[0],O&&Re(G,1)&&!(O=1<=(_e=Re(G,4))&&11>=_e)){T.a=3;break e}var ln;if(ln=O)t:{var rn,vt,dn,ui=T,Bn=q,Mi=B,Zt=_e,_i=E,er=ui.m,ii=ui.s,Fn=[null],ci=1,hr=0,Fr=Ur[Zt];n:for(;;){if(_i&&Re(er,1)){var Qn=Re(er,3)+2,Yn=st(Bn,Qn),fi=st(Mi,Qn),pr=Yn*fi;if(!ds(Yn,fi,0,ui,Fn))break n;for(Fn=Fn[0],ii.xc=Qn,rn=0;rn<pr;++rn){var As=Fn[rn]>>8&65535;Fn[rn]=As,As>=ci&&(ci=As+1)}}if(er.h)break n;for(vt=0;5>vt;++vt){var Pn=ta[vt];!vt&&0<Zt&&(Pn+=1<<Zt),hr<Pn&&(hr=Pn)}var xs=u(ci*Fr,j),tr=ci,zn=u(tr,ee);if(zn==null)var ra=null;else e(65536>=tr),ra=zn;var mr=a(hr);if(ra==null||mr==null||xs==null){ui.a=1;break n}var Tt=xs;for(rn=dn=0;rn<ci;++rn){var qt=ra[rn],An=qt.G,Hs=qt.H,sa=0,Es=1,jl=0;for(vt=0;5>vt;++vt){Pn=ta[vt],An[vt]=Tt,Hs[vt]=dn,!vt&&0<Zt&&(Pn+=1<<Zt);r:{var ko,Lo=Pn,Du=ui,yn=mr,Bc=Tt,Fc=dn,Uu=0,Gs=Du.m,wh=Re(Gs,1);if(o(yn,0,0,Lo),wh){var zc=Re(Gs,1)+1,Hc=Re(Gs,1),Ou=Re(Gs,Hc==0?1:8);yn[Ou]=1,zc==2&&(yn[Ou=Re(Gs,8)]=1);var di=1}else{var Hn=a(19),$l=Re(Gs,4)+4;if(19<$l){Du.a=3;var Mo=0;break r}for(ko=0;ko<$l;++ko)Hn[Hl[ko]]=Re(Gs,3);var Ja=void 0,oa=void 0,Ts=Du,qu=Hn,Ya=Lo,Bu=yn,Fu=0,Vs=Ts.m,Gc=8,Vc=u(128,j);i:for(;V(Vc,0,7,qu,19);){if(Re(Vs,1)){var Bf=2+2*Re(Vs,3);if((Ja=2+Re(Vs,Bf))>Ya)break i}else Ja=Ya;for(oa=0;oa<Ya&&Ja--;){oe(Vs);var jc=Vc[0+(127&H(Vs))];te(Vs,Vs.u+jc.g);var Po=jc.value;if(16>Po)Bu[oa++]=Po,Po!=0&&(Gc=Po);else{var Ff=Po==16,zf=Po-16,Hf=Ga[zf],$c=Re(Vs,Pr[zf])+Hf;if(oa+$c>Ya)break i;for(var Gf=Ff?Gc:0;0<$c--;)Bu[oa++]=Gf}}Fu=1;break i}Fu||(Ts.a=3),di=Fu}(di=di&&!Gs.h)&&(Uu=V(Bc,Fc,8,yn,Lo)),di&&Uu!=0?Mo=Uu:(Du.a=3,Mo=0)}if(Mo==0)break n;if(Es&&Ru[vt]==1&&(Es=Tt[dn].g==0),sa+=Tt[dn].g,dn+=Mo,3>=vt){var aa,zu=mr[0];for(aa=1;aa<Pn;++aa)mr[aa]>zu&&(zu=mr[aa]);jl+=zu}}if(qt.nd=Es,qt.Qb=0,Es&&(qt.qb=(An[3][Hs[3]+0].value<<24|An[1][Hs[1]+0].value<<16|An[2][Hs[2]+0].value)>>>0,sa==0&&256>An[0][Hs[0]+0].value&&(qt.Qb=1,qt.qb+=An[0][Hs[0]+0].value<<8)),qt.jc=!qt.Qb&&6>jl,qt.jc){var Jl,Ns=qt;for(Jl=0;Jl<Bi;++Jl){var js=Jl,$s=Ns.pd[js],Hu=Ns.G[0][Ns.H[0]+js];256<=Hu.value?($s.g=Hu.g+256,$s.value=Hu.value):($s.g=0,$s.value=0,js>>=Vn(Hu,8,$s),js>>=Vn(Ns.G[1][Ns.H[1]+js],16,$s),js>>=Vn(Ns.G[2][Ns.H[2]+js],0,$s),Vn(Ns.G[3][Ns.H[3]+js],24,$s))}}}ii.vc=Fn,ii.Wb=ci,ii.Ya=ra,ii.yc=xs,ln=1;break t}ln=0}if(!(O=ln)){T.a=3;break e}if(0<_e){if(Y.ua=1<<_e,!ct(Y.Wa,_e)){T.a=1,O=0;break e}}else Y.ua=0;var Gu=T,la=q,Vf=B,Ka=Gu.s,Wa=Ka.xc;if(Gu.c=la,Gu.i=Vf,Ka.md=st(la,Wa),Ka.wc=Wa==0?-1:(1<<Wa)-1,E){T.xb=To;break e}if((le=a(q*B))==null){T.a=1,O=0;break e}O=(O=Ti(T,le,0,q,B,B,null))&&!G.h;break e}return O?(M!=null?M[0]=le:(e(le==null),e(E)),T.$=0,E||Sr(Y)):Sr(Y),O}function so(m,b){var E=m.c*m.i,T=E+b+16*b;return e(m.c<=b),m.V=a(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function hs(m,b){var E=m.C,T=b-E,M=m.V,O=m.Ba+m.c*E;for(e(b<=m.l.o);0<T;){var q=16<T?16:T,B=m.l.ma,G=m.l.width,Y=G*q,le=B.ca,_e=B.tb+G*E,we=m.Ta,ge=m.Ua;Wi(m,q,M,O),fr(we,ge,le,_e,Y),fn(B,E,E+q,le,_e,G),T-=q,M+=q*m.c,E+=q}e(E==b),m.C=m.Ma=b}function oo(){this.ub=this.yd=this.td=this.Rb=0}function Kr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ao(){this.Yb=(function(){var m=[];return(function b(E,T,M){for(var O=M[T],q=0;q<O&&(E.push(M.length>T+1?[]:0),!(M.length<T+1));q++)b(E[q],T+1,M)})(m,0,[3,11]),m})()}function lo(){this.jb=a(3),this.Wc=c([4,8],ao),this.Xc=c([4,17],ao)}function Wn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Vo(){this.ld=this.La=this.dd=this.tc=0}function yl(){this.Na=this.la=0}function Ls(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ps(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vo),this.Y=0,this.ya=Array(new ps),this.aa=0,this.l=new xa}function bl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function fu(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new oo,this.Kc=new Kr,this.ed=new Wn,this.Qa=new Wr,this.Ic=this.$c=this.Aa=0,this.D=new kc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,W),this.ia=0,this.pb=u(4,Ls),this.Pa=new lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bl),this.Hd=0,this.rb=Array(new yl),this.sb=0,this.wa=Array(new Vo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ps),this.L=this.aa=0,this.gd=c([4,2],Vo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ea(){var m=new fu;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,dr||(dr=wl)),m}function Nn(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function xr(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function qi(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Nn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,T=b.w,M=b.ha;if(4>M)return Nn(m,7,"Truncated header.");var O=E[T+0]|E[T+1]<<8|E[T+2]<<16,q=m.Od;if(q.Rb=!(1&O),q.td=O>>1&7,q.yd=O>>4&1,q.ub=O>>5,3<q.td)return Nn(m,3,"Incorrect keyframe parameters.");if(!q.yd)return Nn(m,4,"Frame not displayable.");T+=3,M-=3;var B=m.Kc;if(q.Rb){if(7>M)return Nn(m,7,"cannot parse picture header");if(!xr(E,T,M))return Nn(m,3,"Bad code word");B.c=16383&(E[T+4]<<8|E[T+3]),B.Td=E[T+4]>>6,B.i=16383&(E[T+6]<<8|E[T+5]),B.Ud=E[T+6]>>6,T+=7,M-=7,m.za=B.c+15>>4,m.Ub=B.i+15>>4,b.width=B.c,b.height=B.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,o((O=m.Pa).jb,0,255,O.jb.length),e((O=m.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,o(O.Zb,0,0,O.Zb.length),o(O.Lb,0,0,O.Lb)}if(q.ub>M)return Nn(m,7,"bad partition length");Ie(O=m.m,E,T,q.ub),T+=q.ub,M-=q.ub,q.Rb&&(B.Ld=Ae(O),B.Kd=Ae(O)),B=m.Qa;var G,Y=m.Pa;if(e(O!=null),e(B!=null),B.Cb=Ae(O),B.Cb){if(B.Bb=Ae(O),Ae(O)){for(B.Fb=Ae(O),G=0;4>G;++G)B.Zb[G]=Ae(O)?re(O,7):0;for(G=0;4>G;++G)B.Lb[G]=Ae(O)?re(O,6):0}if(B.Bb)for(G=0;3>G;++G)Y.jb[G]=Ae(O)?$(O,8):255}else B.Bb=0;if(O.Ka)return Nn(m,3,"cannot parse segment header");if((B=m.ed).zd=Ae(O),B.Tb=$(O,6),B.wb=$(O,3),B.Pc=Ae(O),B.Pc&&Ae(O)){for(Y=0;4>Y;++Y)Ae(O)&&(B.vd[Y]=re(O,6));for(Y=0;4>Y;++Y)Ae(O)&&(B.od[Y]=re(O,6))}if(m.L=B.Tb==0?0:B.zd?1:2,O.Ka)return Nn(m,3,"cannot parse filter header");var le=M;if(M=G=T,T=G+le,B=le,m.Xb=(1<<$(m.m,2))-1,le<3*(Y=m.Xb))E=7;else{for(G+=3*Y,B-=3*Y,le=0;le<Y;++le){var _e=E[M+0]|E[M+1]<<8|E[M+2]<<16;_e>B&&(_e=B),Ie(m.Jc[+le],E,G,_e),G+=_e,B-=_e,M+=3}Ie(m.Jc[+Y],E,G,B),E=G<T?0:5}if(E!=0)return Nn(m,E,"cannot parse partitions");for(E=$(G=m.m,7),M=Ae(G)?re(G,4):0,T=Ae(G)?re(G,4):0,B=Ae(G)?re(G,4):0,Y=Ae(G)?re(G,4):0,G=Ae(G)?re(G,4):0,le=m.Qa,_e=0;4>_e;++_e){if(le.Cb){var we=le.Zb[_e];le.Fb||(we+=E)}else{if(0<_e){m.pb[_e]=m.pb[0];continue}we=E}var ge=m.pb[_e];ge.Sc[0]=Or[lr(we+M,127)],ge.Sc[1]=qr[lr(we+0,127)],ge.Eb[0]=2*Or[lr(we+T,127)],ge.Eb[1]=101581*qr[lr(we+B,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=Or[lr(we+Y,117)],ge.Qc[1]=qr[lr(we+G,127)],ge.lc=we+G}if(!q.Rb)return Nn(m,4,"Not a key frame.");for(Ae(O),q=m.Pa,E=0;4>E;++E){for(M=0;8>M;++M)for(T=0;3>T;++T)for(B=0;11>B;++B)Y=Se(O,Sn[E][M][T][B])?$(O,8):Of[E][M][T][B],q.Wc[E][M].Yb[T][B]=Y;for(M=0;17>M;++M)q.Xc[E][M]=q.Wc[E][Ht[M]]}return m.kc=Ae(O),m.kc&&(m.Bd=$(O,8)),m.cb=1}function wl(m,b,E,T,M,O,q){var B=b[M].Yb[E];for(E=0;16>M;++M){if(!Se(m,B[E+0]))return M;for(;!Se(m,B[E+1]);)if(B=b[++M].Yb[0],E=0,M==16)return 16;var G=b[M+1].Yb;if(Se(m,B[E+2])){var Y=m,le=0;if(Se(Y,(we=B)[(_e=E)+3]))if(Se(Y,we[_e+6])){for(B=0,_e=2*(le=Se(Y,we[_e+8]))+(we=Se(Y,we[_e+9+le])),le=0,we=Uf[_e];we[B];++B)le+=le+Se(Y,we[B]);le+=3+(8<<_e)}else Se(Y,we[_e+7])?(le=7+2*Se(Y,165),le+=Se(Y,145)):le=5+Se(Y,159);else le=Se(Y,we[_e+4])?3+Se(Y,we[_e+5]):2;B=G[2]}else le=1,B=G[1];G=q+Uc[M],0>(Y=m).b&&ve(Y);var _e,we=Y.b,ge=(_e=Y.Ca>>1)-(Y.I>>we)>>31;--Y.b,Y.Ca+=ge,Y.Ca|=1,Y.I-=(_e+1&ge)<<we,O[G]=((le^ge)-ge)*T[(0<M)+0]}return 16}function _l(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,o(m.zc,0,0,m.zc.length),m.ja=0}function Sl(m,b){if(m==null)return 0;if(b==null)return Nn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!qi(m,b))return 0;if(e(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var E=$a[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-E>>4,m.zb=b.j-E>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+E>>4,m.Hb=b.va+15+E>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var T=m.ed;for(E=0;4>E;++E){var M;if(m.Qa.Cb){var O=m.Qa.Lb[E];m.Qa.Fb||(O+=T.Tb)}else O=T.Tb;for(M=0;1>=M;++M){var q=m.gd[E][M],B=O;if(T.Pc&&(B+=T.vd[0],M&&(B+=T.od[0])),0<(B=0>B?0:63<B?63:B)){var G=B;0<T.wb&&(G=4<T.wb?G>>2:G>>1)>9-T.wb&&(G=9-T.wb),1>G&&(G=1),q.dd=G,q.tc=2*B+G,q.ld=40<=B?2:15<=B?1:0}else q.tc=0;q.La=M}}}E=0}else Nn(m,6,"Frame setup failed"),E=m.a;if(E=E==0){if(E){m.$c=0,0<m.Aa||(m.Ic=Vl);e:{E=m.Ic,T=4*(G=m.za);var Y=32*G,le=G+1,_e=0<m.L?G*(0<m.Aa?2:1):0,we=(m.Aa==2?2:1)*G;if((q=T+832+(M=3*(16*E+$a[m.L])/2*Y)+(O=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=q)E=0;else{if(q>m.Vb){if(m.Vb=0,m.Ec=a(q),m.Fc=0,m.Ec==null){E=Nn(m,1,"no memory during frame initialization.");break e}m.Vb=q}q=m.Ec,B=m.Fc,m.Ac=q,m.Bc=B,B+=T,m.Gd=u(Y,bl),m.Hd=0,m.rb=u(le+1,yl),m.sb=1,m.wa=_e?u(_e,Vo):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=G),e(!0),m.oc=q,m.pc=B,B+=832,m.ya=u(we,ps),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=G),m.R=16*G,m.B=8*G,G=(Y=$a[m.L])*m.R,Y=Y/2*m.B,m.sa=q,m.ta=B+G,m.qa=m.sa,m.ra=m.ta+16*E*m.R+Y,m.Ha=m.qa,m.Ia=m.ra+8*E*m.B+Y,m.$c=0,B+=M,m.mb=O?q:null,m.nb=O?B:null,e(B+O<=m.Fc+m.Vb),_l(m),o(m.Ac,m.Bc,0,T),E=1}}if(E){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!xu){for(E=-255;255>=E;++E)ea[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Au[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Ol[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)ql[255+E]=0>E?0:255<E?255:E;xu=1}Ri=hu,_o=du,ys=Na,kr=uo,Hi=Al,Bs=Ta,Lr=Nl,So=Ko,Ao=Mc,Zi=Rl,Fa=Cl,cr=Pa,bs=Il,gn=yu,vn=La,$n=Zr,Xn=Cr,ws=Ma,qn[0]=Tr,qn[1]=Lc,qn[2]=co,qn[3]=gu,qn[4]=El,qn[5]=Qi,qn[6]=fo,qn[7]=$o,qn[8]=gs,qn[9]=Jo,Gi[0]=jo,Gi[1]=mu,Gi[2]=Xr,Gi[3]=Ca,Gi[4]=Cn,Gi[5]=xl,Gi[6]=Ia,rs[0]=Qr,rs[1]=pu,rs[2]=Tl,rs[3]=ho,rs[4]=mo,rs[5]=ka,rs[6]=li,E=1}else E=0}E&&(E=(function(ge,Be){for(ge.M=0;ge.M<ge.Va;++ge.M){var Le,ue=ge.Jc[ge.M&ge.Xb],he=ge.m,Oe=ge;for(Le=0;Le<Oe.za;++Le){var ze=he,Ue=Oe,Xe=Ue.Ac,$e=Ue.Bc+4*Le,lt=Ue.zc,Ye=Ue.ya[Ue.aa+Le];if(Ue.Qa.Bb?Ye.$b=Se(ze,Ue.Pa.jb[0])?2+Se(ze,Ue.Pa.jb[2]):Se(ze,Ue.Pa.jb[1]):Ye.$b=0,Ue.kc&&(Ye.Ad=Se(ze,Ue.Bd)),Ye.Za=!Se(ze,145)+0,Ye.Za){var en=Ye.Ob,Gt=0;for(Ue=0;4>Ue;++Ue){var Wt,Rt=lt[0+Ue];for(Wt=0;4>Wt;++Wt){Rt=yi[Xe[$e+Wt]][Rt];for(var ln=Iu[Se(ze,Rt[0])];0<ln;)ln=Iu[2*ln+Se(ze,Rt[ln])];Rt=-ln,Xe[$e+Wt]=Rt}i(en,Gt,Xe,$e,4),Gt+=4,lt[0+Ue]=Rt}}else Rt=Se(ze,156)?Se(ze,128)?1:3:Se(ze,163)?2:0,Ye.Ob[0]=Rt,o(Xe,$e,Rt,4),o(lt,0,Rt,4);Ye.Dd=Se(ze,142)?Se(ze,114)?Se(ze,183)?1:3:2:0}if(Oe.m.Ka)return Nn(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Oe=ue,ze=(he=ge).rb[he.sb-1],Xe=he.rb[he.sb+he.ja],Le=he.ya[he.aa+he.ja],$e=he.kc?Le.Ad:0)ze.la=Xe.la=0,Le.Za||(ze.Na=Xe.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var rn,vt;if(ze=Xe,Xe=Oe,$e=he.Pa.Xc,lt=he.ya[he.aa+he.ja],Ye=he.pb[lt.$b],Ue=lt.ad,en=0,Gt=he.rb[he.sb-1],Rt=Wt=0,o(Ue,en,0,384),lt.Za)var dn=0,ui=$e[3];else{ln=a(16);var Bn=ze.Na+Gt.Na;if(Bn=dr(Xe,$e[1],Bn,Ye.Eb,0,ln,0),ze.Na=Gt.Na=(0<Bn)+0,1<Bn)Ri(ln,0,Ue,en);else{var Mi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Ue[en+ln]=Mi}dn=1,ui=$e[0]}var Zt=15&ze.la,_i=15&Gt.la;for(ln=0;4>ln;++ln){var er=1&_i;for(Mi=vt=0;4>Mi;++Mi)Zt=Zt>>1|(er=(Bn=dr(Xe,ui,Bn=er+(1&Zt),Ye.Sc,dn,Ue,en))>dn)<<7,vt=vt<<2|(3<Bn?3:1<Bn?2:Ue[en+0]!=0),en+=16;Zt>>=4,_i=_i>>1|er<<7,Wt=(Wt<<8|vt)>>>0}for(ui=Zt,dn=_i>>4,rn=0;4>rn;rn+=2){for(vt=0,Zt=ze.la>>4+rn,_i=Gt.la>>4+rn,ln=0;2>ln;++ln){for(er=1&_i,Mi=0;2>Mi;++Mi)Bn=er+(1&Zt),Zt=Zt>>1|(er=0<(Bn=dr(Xe,$e[2],Bn,Ye.Qc,0,Ue,en)))<<3,vt=vt<<2|(3<Bn?3:1<Bn?2:Ue[en+0]!=0),en+=16;Zt>>=2,_i=_i>>1|er<<5}Rt|=vt<<4*rn,ui|=Zt<<4<<rn,dn|=(240&_i)<<rn}ze.la=ui,Gt.la=dn,lt.Hc=Wt,lt.Gc=Rt,lt.ia=43690&Rt?0:Ye.ia,$e=!(Wt|Rt)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[Le.$b][Le.Za],he.wa[he.Y+he.ja].La|=!$e),Oe.Ka)return Nn(ge,7,"Premature end-of-file encountered.")}if(_l(ge),he=Be,Oe=1,Le=(ue=ge).D,ze=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Le.M=ue.M,Le.uc=ze,Oa(ue,Le),Oe=1,Le=(vt=ue.D).Nb,ze=(Rt=$a[ue.L])*ue.R,Xe=Rt/2*ue.B,ln=16*Le*ue.R,Mi=8*Le*ue.B,$e=ue.sa,lt=ue.ta-ze+ln,Ye=ue.qa,Ue=ue.ra-Xe+Mi,en=ue.Ha,Gt=ue.Ia-Xe+Mi,_i=(Zt=vt.M)==0,Wt=Zt>=ue.Va-1,ue.Aa==2&&Oa(ue,vt),vt.uc)for(er=(Bn=ue).D.M,e(Bn.D.uc),vt=Bn.yb;vt<Bn.Hb;++vt){dn=vt,ui=er;var ii=(Fn=(Pn=Bn).D).Nb;rn=Pn.R;var Fn=Fn.wa[Fn.Y+dn],ci=Pn.sa,hr=Pn.ta+16*ii*rn+16*dn,Fr=Fn.dd,Qn=Fn.tc;if(Qn!=0)if(e(3<=Qn),Pn.L==1)0<dn&&$n(ci,hr,rn,Qn+4),Fn.La&&ws(ci,hr,rn,Qn),0<ui&&vn(ci,hr,rn,Qn+4),Fn.La&&Xn(ci,hr,rn,Qn);else{var Yn=Pn.B,fi=Pn.qa,pr=Pn.ra+8*ii*Yn+8*dn,As=Pn.Ha,Pn=Pn.Ia+8*ii*Yn+8*dn;ii=Fn.ld,0<dn&&(So(ci,hr,rn,Qn+4,Fr,ii),Zi(fi,pr,As,Pn,Yn,Qn+4,Fr,ii)),Fn.La&&(cr(ci,hr,rn,Qn,Fr,ii),gn(fi,pr,As,Pn,Yn,Qn,Fr,ii)),0<ui&&(Lr(ci,hr,rn,Qn+4,Fr,ii),Ao(fi,pr,As,Pn,Yn,Qn+4,Fr,ii)),Fn.La&&(Fa(ci,hr,rn,Qn,Fr,ii),bs(fi,pr,As,Pn,Yn,Qn,Fr,ii))}}if(ue.ia&&alert("todo:DitherRow"),he.put!=null){if(vt=16*Zt,Zt=16*(Zt+1),_i?(he.y=ue.sa,he.O=ue.ta+ln,he.f=ue.qa,he.N=ue.ra+Mi,he.ea=ue.Ha,he.W=ue.Ia+Mi):(vt-=Rt,he.y=$e,he.O=lt,he.f=Ye,he.N=Ue,he.ea=en,he.W=Gt),Wt||(Zt-=Rt),Zt>he.o&&(Zt=he.o),he.F=null,he.J=null,ue.Fa!=null&&0<ue.Fa.length&&vt<Zt&&(he.J=Da(ue,he,vt,Zt-vt),he.F=ue.mb,he.F==null&&he.F.length==0)){Oe=Nn(ue,3,"Could not decode alpha data.");break e}vt<he.j&&(Rt=he.j-vt,vt=he.j,e(!(1&Rt)),he.O+=ue.R*Rt,he.N+=ue.B*(Rt>>1),he.W+=ue.B*(Rt>>1),he.F!=null&&(he.J+=he.width*Rt)),vt<Zt&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=vt-he.j,he.U=he.va-he.v,he.T=Zt-vt,Oe=he.put(he))}Le+1!=ue.Ic||Wt||(i(ue.sa,ue.ta-ze,$e,lt+16*ue.R,ze),i(ue.qa,ue.ra-Xe,Ye,Ue+8*ue.B,Xe),i(ue.Ha,ue.Ia-Xe,en,Gt+8*ue.B,Xe))}if(!Oe)return Nn(ge,6,"Output aborted.")}return 1})(m,b)),b.bc!=null&&b.bc(b),E&=1}return E?(m.cb=0,E):0}function Er(m,b,E,T,M){M=m[b+E+32*T]+(M>>3),m[b+E+32*T]=-256&M?0>M?0:255:M}function Ms(m,b,E,T,M,O){Er(m,b,0,E,T+M),Er(m,b,1,E,T+O),Er(m,b,2,E,T-O),Er(m,b,3,E,T-M)}function Xi(m){return(20091*m>>16)+m}function Ni(m,b,E,T){var M,O=0,q=a(16);for(M=0;4>M;++M){var B=m[b+0]+m[b+8],G=m[b+0]-m[b+8],Y=(35468*m[b+4]>>16)-Xi(m[b+12]),le=Xi(m[b+4])+(35468*m[b+12]>>16);q[O+0]=B+le,q[O+1]=G+Y,q[O+2]=G-Y,q[O+3]=B-le,O+=4,b++}for(M=O=0;4>M;++M)B=(m=q[O+0]+4)+q[O+8],G=m-q[O+8],Y=(35468*q[O+4]>>16)-Xi(q[O+12]),Er(E,T,0,0,B+(le=Xi(q[O+4])+(35468*q[O+12]>>16))),Er(E,T,1,0,G+Y),Er(E,T,2,0,G-Y),Er(E,T,3,0,B-le),O++,T+=32}function Ta(m,b,E,T){var M=m[b+0]+4,O=35468*m[b+4]>>16,q=Xi(m[b+4]),B=35468*m[b+1]>>16;Ms(E,T,0,M+q,m=Xi(m[b+1]),B),Ms(E,T,1,M+O,m,B),Ms(E,T,2,M-O,m,B),Ms(E,T,3,M-q,m,B)}function du(m,b,E,T,M){Ni(m,b,E,T),M&&Ni(m,b+16,E,T+4)}function Na(m,b,E,T){_o(m,b+0,E,T,1),_o(m,b+32,E,T+128,1)}function uo(m,b,E,T){var M;for(m=m[b+0]+4,M=0;4>M;++M)for(b=0;4>b;++b)Er(E,T,b,M,m)}function Al(m,b,E,T){m[b+0]&&kr(m,b+0,E,T),m[b+16]&&kr(m,b+16,E,T+4),m[b+32]&&kr(m,b+32,E,T+128),m[b+48]&&kr(m,b+48,E,T+128+4)}function hu(m,b,E,T){var M,O=a(16);for(M=0;4>M;++M){var q=m[b+0+M]+m[b+12+M],B=m[b+4+M]+m[b+8+M],G=m[b+4+M]-m[b+8+M],Y=m[b+0+M]-m[b+12+M];O[0+M]=q+B,O[8+M]=q-B,O[4+M]=Y+G,O[12+M]=Y-G}for(M=0;4>M;++M)q=(m=O[0+4*M]+3)+O[3+4*M],B=O[1+4*M]+O[2+4*M],G=O[1+4*M]-O[2+4*M],Y=m-O[3+4*M],E[T+0]=q+B>>3,E[T+16]=Y+G>>3,E[T+32]=q-B>>3,E[T+48]=Y-G>>3,T+=64}function ms(m,b,E){var T,M=b-32,O=ki,q=255-m[M-1];for(T=0;T<E;++T){var B,G=O,Y=q+m[b-1];for(B=0;B<E;++B)m[b+B]=G[Y+m[M+B]];b+=32}}function Lc(m,b){ms(m,b,4)}function pu(m,b){ms(m,b,8)}function mu(m,b){ms(m,b,16)}function Xr(m,b){var E;for(E=0;16>E;++E)i(m,b+32*E,m,b-32,16)}function Ca(m,b){var E;for(E=16;0<E;--E)o(m,b,m[b-1],16),b+=32}function Ra(m,b,E){var T;for(T=0;16>T;++T)o(b,E+32*T,m,16)}function jo(m,b){var E,T=16;for(E=0;16>E;++E)T+=m[b-1+32*E]+m[b+E-32];Ra(T>>5,m,b)}function Cn(m,b){var E,T=8;for(E=0;16>E;++E)T+=m[b-1+32*E];Ra(T>>4,m,b)}function xl(m,b){var E,T=8;for(E=0;16>E;++E)T+=m[b+E-32];Ra(T>>4,m,b)}function Ia(m,b){Ra(128,m,b)}function gt(m,b,E){return m+2*b+E+2>>2}function co(m,b){var E,T=b-32;for(T=new Uint8Array([gt(m[T-1],m[T+0],m[T+1]),gt(m[T+0],m[T+1],m[T+2]),gt(m[T+1],m[T+2],m[T+3]),gt(m[T+2],m[T+3],m[T+4])]),E=0;4>E;++E)i(m,b+32*E,T,0,T.length)}function gu(m,b){var E=m[b-1],T=m[b-1+32],M=m[b-1+64],O=m[b-1+96];je(m,b+0,16843009*gt(m[b-1-32],E,T)),je(m,b+32,16843009*gt(E,T,M)),je(m,b+64,16843009*gt(T,M,O)),je(m,b+96,16843009*gt(M,O,O))}function Tr(m,b){var E,T=4;for(E=0;4>E;++E)T+=m[b+E-32]+m[b-1+32*E];for(T>>=3,E=0;4>E;++E)o(m,b+32*E,T,4)}function El(m,b){var E=m[b-1+0],T=m[b-1+32],M=m[b-1+64],O=m[b-1-32],q=m[b+0-32],B=m[b+1-32],G=m[b+2-32],Y=m[b+3-32];m[b+0+96]=gt(T,M,m[b-1+96]),m[b+1+96]=m[b+0+64]=gt(E,T,M),m[b+2+96]=m[b+1+64]=m[b+0+32]=gt(O,E,T),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=gt(q,O,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=gt(B,q,O),m[b+3+32]=m[b+2+0]=gt(G,B,q),m[b+3+0]=gt(Y,G,B)}function fo(m,b){var E=m[b+1-32],T=m[b+2-32],M=m[b+3-32],O=m[b+4-32],q=m[b+5-32],B=m[b+6-32],G=m[b+7-32];m[b+0+0]=gt(m[b+0-32],E,T),m[b+1+0]=m[b+0+32]=gt(E,T,M),m[b+2+0]=m[b+1+32]=m[b+0+64]=gt(T,M,O),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=gt(M,O,q),m[b+3+32]=m[b+2+64]=m[b+1+96]=gt(O,q,B),m[b+3+64]=m[b+2+96]=gt(q,B,G),m[b+3+96]=gt(B,G,G)}function Qi(m,b){var E=m[b-1+0],T=m[b-1+32],M=m[b-1+64],O=m[b-1-32],q=m[b+0-32],B=m[b+1-32],G=m[b+2-32],Y=m[b+3-32];m[b+0+0]=m[b+1+64]=O+q+1>>1,m[b+1+0]=m[b+2+64]=q+B+1>>1,m[b+2+0]=m[b+3+64]=B+G+1>>1,m[b+3+0]=G+Y+1>>1,m[b+0+96]=gt(M,T,E),m[b+0+64]=gt(T,E,O),m[b+0+32]=m[b+1+96]=gt(E,O,q),m[b+1+32]=m[b+2+96]=gt(O,q,B),m[b+2+32]=m[b+3+96]=gt(q,B,G),m[b+3+32]=gt(B,G,Y)}function $o(m,b){var E=m[b+0-32],T=m[b+1-32],M=m[b+2-32],O=m[b+3-32],q=m[b+4-32],B=m[b+5-32],G=m[b+6-32],Y=m[b+7-32];m[b+0+0]=E+T+1>>1,m[b+1+0]=m[b+0+64]=T+M+1>>1,m[b+2+0]=m[b+1+64]=M+O+1>>1,m[b+3+0]=m[b+2+64]=O+q+1>>1,m[b+0+32]=gt(E,T,M),m[b+1+32]=m[b+0+96]=gt(T,M,O),m[b+2+32]=m[b+1+96]=gt(M,O,q),m[b+3+32]=m[b+2+96]=gt(O,q,B),m[b+3+64]=gt(q,B,G),m[b+3+96]=gt(B,G,Y)}function Jo(m,b){var E=m[b-1+0],T=m[b-1+32],M=m[b-1+64],O=m[b-1+96];m[b+0+0]=E+T+1>>1,m[b+2+0]=m[b+0+32]=T+M+1>>1,m[b+2+32]=m[b+0+64]=M+O+1>>1,m[b+1+0]=gt(E,T,M),m[b+3+0]=m[b+1+32]=gt(T,M,O),m[b+3+32]=m[b+1+64]=gt(M,O,O),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=O}function gs(m,b){var E=m[b-1+0],T=m[b-1+32],M=m[b-1+64],O=m[b-1+96],q=m[b-1-32],B=m[b+0-32],G=m[b+1-32],Y=m[b+2-32];m[b+0+0]=m[b+2+32]=E+q+1>>1,m[b+0+32]=m[b+2+64]=T+E+1>>1,m[b+0+64]=m[b+2+96]=M+T+1>>1,m[b+0+96]=O+M+1>>1,m[b+3+0]=gt(B,G,Y),m[b+2+0]=gt(q,B,G),m[b+1+0]=m[b+3+32]=gt(E,q,B),m[b+1+32]=m[b+3+64]=gt(T,E,q),m[b+1+64]=m[b+3+96]=gt(M,T,E),m[b+1+96]=gt(O,M,T)}function Tl(m,b){var E;for(E=0;8>E;++E)i(m,b+32*E,m,b-32,8)}function ho(m,b){var E;for(E=0;8>E;++E)o(m,b,m[b-1],8),b+=32}function po(m,b,E){var T;for(T=0;8>T;++T)o(b,E+32*T,m,8)}function Qr(m,b){var E,T=8;for(E=0;8>E;++E)T+=m[b+E-32]+m[b-1+32*E];po(T>>4,m,b)}function ka(m,b){var E,T=4;for(E=0;8>E;++E)T+=m[b+E-32];po(T>>3,m,b)}function mo(m,b){var E,T=4;for(E=0;8>E;++E)T+=m[b-1+32*E];po(T>>3,m,b)}function li(m,b){po(128,m,b)}function Nr(m,b,E){var T=m[b-E],M=m[b+0],O=3*(M-T)+Fs[1020+m[b-2*E]-m[b+E]],q=Bl[112+(O+4>>3)];m[b-E]=ki[255+T+Bl[112+(O+3>>3)]],m[b+0]=ki[255+M-q]}function Yo(m,b,E,T){var M=m[b+0],O=m[b+E];return vi[255+m[b-2*E]-m[b-E]]>T||vi[255+O-M]>T}function go(m,b,E,T){return 4*vi[255+m[b-E]-m[b+0]]+vi[255+m[b-2*E]-m[b+E]]<=T}function vu(m,b,E,T,M){var O=m[b-3*E],q=m[b-2*E],B=m[b-E],G=m[b+0],Y=m[b+E],le=m[b+2*E],_e=m[b+3*E];return 4*vi[255+B-G]+vi[255+q-Y]>T?0:vi[255+m[b-4*E]-O]<=M&&vi[255+O-q]<=M&&vi[255+q-B]<=M&&vi[255+_e-le]<=M&&vi[255+le-Y]<=M&&vi[255+Y-G]<=M}function La(m,b,E,T){var M=2*T+1;for(T=0;16>T;++T)go(m,b+T,E,M)&&Nr(m,b+T,E)}function Zr(m,b,E,T){var M=2*T+1;for(T=0;16>T;++T)go(m,b+T*E,1,M)&&Nr(m,b+T*E,1)}function Cr(m,b,E,T){var M;for(M=3;0<M;--M)La(m,b+=4*E,E,T)}function Ma(m,b,E,T){var M;for(M=3;0<M;--M)Zr(m,b+=4,E,T)}function Ps(m,b,E,T,M,O,q,B){for(O=2*O+1;0<M--;){if(vu(m,b,E,O,q))if(Yo(m,b,E,B))Nr(m,b,E);else{var G=m,Y=b,le=E,_e=G[Y-2*le],we=G[Y-le],ge=G[Y+0],Be=G[Y+le],Le=G[Y+2*le],ue=27*(Oe=Fs[1020+3*(ge-we)+Fs[1020+_e-Be]])+63>>7,he=18*Oe+63>>7,Oe=9*Oe+63>>7;G[Y-3*le]=ki[255+G[Y-3*le]+Oe],G[Y-2*le]=ki[255+_e+he],G[Y-le]=ki[255+we+ue],G[Y+0]=ki[255+ge-ue],G[Y+le]=ki[255+Be-he],G[Y+2*le]=ki[255+Le-Oe]}b+=T}}function es(m,b,E,T,M,O,q,B){for(O=2*O+1;0<M--;){if(vu(m,b,E,O,q))if(Yo(m,b,E,B))Nr(m,b,E);else{var G=m,Y=b,le=E,_e=G[Y-le],we=G[Y+0],ge=G[Y+le],Be=Bl[112+((Le=3*(we-_e))+4>>3)],Le=Bl[112+(Le+3>>3)],ue=Be+1>>1;G[Y-2*le]=ki[255+G[Y-2*le]+ue],G[Y-le]=ki[255+_e+Le],G[Y+0]=ki[255+we-Be],G[Y+le]=ki[255+ge-ue]}b+=T}}function Nl(m,b,E,T,M,O){Ps(m,b,E,1,16,T,M,O)}function Ko(m,b,E,T,M,O){Ps(m,b,1,E,16,T,M,O)}function Cl(m,b,E,T,M,O){var q;for(q=3;0<q;--q)es(m,b+=4*E,E,1,16,T,M,O)}function Pa(m,b,E,T,M,O){var q;for(q=3;0<q;--q)es(m,b+=4,1,E,16,T,M,O)}function Mc(m,b,E,T,M,O,q,B){Ps(m,b,M,1,8,O,q,B),Ps(E,T,M,1,8,O,q,B)}function Rl(m,b,E,T,M,O,q,B){Ps(m,b,1,M,8,O,q,B),Ps(E,T,1,M,8,O,q,B)}function Il(m,b,E,T,M,O,q,B){es(m,b+4*M,M,1,8,O,q,B),es(E,T+4*M,M,1,8,O,q,B)}function yu(m,b,E,T,M,O,q,B){es(m,b+4,1,M,8,O,q,B),es(E,T+4,1,M,8,O,q,B)}function Wo(){this.ba=new Yi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ll(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bu(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new j}function Pc(){this.xb=this.a=0,this.l=new xa,this.ca=new Yi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bu,this.ab=0,this.gc=u(4,Ll),this.Oc=0}function vo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xo(m,b,E,T,M,O,q){for(m=m==null?0:m[b+0],b=0;b<q;++b)M[O+b]=m+E[T+b]&255,m=M[O+b]}function Ml(m,b,E,T,M,O,q){var B;if(m==null)Xo(null,null,E,T,M,O,q);else for(B=0;B<q;++B)M[O+B]=m[b+B]+E[T+B]&255}function yo(m,b,E,T,M,O,q){if(m==null)Xo(null,null,E,T,M,O,q);else{var B,G=m[b+0],Y=G,le=G;for(B=0;B<q;++B)Y=le+(G=m[b+B])-Y,le=E[T+B]+(-256&Y?0>Y?0:255:Y)&255,Y=G,M[O+B]=le}}function Da(m,b,E,T){var M=b.width,O=b.o;if(e(m!=null&&b!=null),0>E||0>=T||E+T>O)return null;if(!m.Cc){if(m.ga==null){var q;if(m.ga=new vo,(q=m.ga==null)||(q=b.width*b.o,e(m.Gb.length==0),m.Gb=a(q),m.Uc=0,m.Gb==null?q=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,q=1),q=!q),!q){q=m.ga;var B=m.Fa,G=m.P,Y=m.qc,le=m.mb,_e=m.nb,we=G+1,ge=Y-1,Be=q.l;if(e(B!=null&&le!=null&&b!=null),zs[0]=null,zs[1]=Xo,zs[2]=Ml,zs[3]=yo,q.ca=le,q.tb=_e,q.c=b.width,q.i=b.height,e(0<q.c&&0<q.i),1>=Y)b=0;else if(q.$a=B[G+0]>>0&3,q.Z=B[G+0]>>2&3,q.Lc=B[G+0]>>4&3,G=B[G+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||G)b=0;else if(Be.put=wr,Be.ac=ai,Be.bc=Ki,Be.ma=q,Be.width=b.width,Be.height=b.height,Be.Da=b.Da,Be.v=b.v,Be.va=b.va,Be.j=b.j,Be.o=b.o,q.$a)e:{e(q.$a==1),b=Ar();t:for(;;){if(b==null){b=0;break e}if(e(q!=null),q.mc=b,b.c=q.c,b.i=q.i,b.l=q.l,b.l.ma=q,b.l.width=q.c,b.l.height=q.i,b.a=0,ce(b.m,B,we,ge),!ds(q.c,q.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ei(b.s)?(q.ic=1,B=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(B),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(q.ic=0,b=so(b,q.c)),!b))break t;b=1;break e}q.mc=null,b=0}else b=ge>=q.c*q.i;q=!b}if(q)return null;m.ga.Lc!=1?m.Ga=0:T=O-E}e(m.ga!=null),e(E+T<=O);e:{if(b=(B=m.ga).c,O=B.l.o,B.$a==0){if(we=m.rc,ge=m.Vc,Be=m.Fa,G=m.P+1+E*b,Y=m.mb,le=m.nb+E*b,e(G<=m.P+m.qc),B.Z!=0)for(e(zs[B.Z]!=null),q=0;q<T;++q)zs[B.Z](we,ge,Be,G,Y,le,b),we=Y,ge=le,le+=b,G+=b;else for(q=0;q<T;++q)i(Y,le,Be,G,b),we=Y,ge=le,le+=b,G+=b;m.rc=we,m.Vc=ge}else{if(e(B.mc!=null),b=E+T,e((q=B.mc)!=null),e(b<=q.i),q.C>=b)b=1;else if(B.ic||be(),B.ic){B=q.V,we=q.Ba,ge=q.c;var Le=q.i,ue=(Be=1,G=q.$/ge,Y=q.$%ge,le=q.m,_e=q.s,q.$),he=ge*Le,Oe=ge*b,ze=_e.wc,Ue=ue<Oe?On(_e,Y,G):null;e(ue<=he),e(b<=Le),e(Ei(_e));t:for(;;){for(;!le.h&&ue<Oe;){if(Y&ze||(Ue=On(_e,Y,G)),e(Ue!=null),oe(le),256>(Le=Oi(Ue.G[0],Ue.H[0],le)))B[we+ue]=Le,++ue,++Y>=ge&&(Y=0,++G<=b&&!(G%16)&&Tn(q,G));else{if(!(280>Le)){Be=0;break t}Le=_r(Le-256,le);var Xe,$e=Oi(Ue.G[4],Ue.H[4],le);if(oe(le),!(ue>=($e=Yr(ge,$e=_r($e,le)))&&he-ue>=Le)){Be=0;break t}for(Xe=0;Xe<Le;++Xe)B[we+ue+Xe]=B[we+ue+Xe-$e];for(ue+=Le,Y+=Le;Y>=ge;)Y-=ge,++G<=b&&!(G%16)&&Tn(q,G);ue<Oe&&Y&ze&&(Ue=On(_e,Y,G))}e(le.h==J(le))}Tn(q,G>b?b:G);break t}!Be||le.h&&ue<he?(Be=0,q.a=le.h?5:3):q.$=ue,b=Be}else b=Ti(q,q.V,q.Ba,q.c,q.i,b,hs);if(!b){T=0;break e}}E+T>=O&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*M}function x(m,b,E,T,M,O){for(;0<M--;){var q,B=m,G=b+(E?1:0),Y=m,le=b+(E?0:3);for(q=0;q<T;++q){var _e=Y[le+4*q];_e!=255&&(_e*=32897,B[G+4*q+0]=B[G+4*q+0]*_e>>23,B[G+4*q+1]=B[G+4*q+1]*_e>>23,B[G+4*q+2]=B[G+4*q+2]*_e>>23)}b+=O}}function P(m,b,E,T,M){for(;0<T--;){var O;for(O=0;O<E;++O){var q=m[b+2*O+0],B=15&(Y=m[b+2*O+1]),G=4369*B,Y=(240&Y|Y>>4)*G>>16;m[b+2*O+0]=(240&q|q>>4)*G>>16&240|(15&q|q<<4)*G>>16>>4&15,m[b+2*O+1]=240&Y|B}b+=M}}function X(m,b,E,T,M,O,q,B){var G,Y,le=255;for(Y=0;Y<M;++Y){for(G=0;G<T;++G){var _e=m[b+G];O[q+4*G]=_e,le&=_e}b+=E,q+=B}return le!=255}function ae(m,b,E,T,M){var O;for(O=0;O<M;++O)E[T+O]=m[b+O]>>8}function be(){_s=x,Ii=P,Zo=X,fr=ae}function Me(m,b,E){K[m]=function(T,M,O,q,B,G,Y,le,_e,we,ge,Be,Le,ue,he,Oe,ze){var Ue,Xe=ze-1>>1,$e=B[G+0]|Y[le+0]<<16,lt=_e[we+0]|ge[Be+0]<<16;e(T!=null);var Ye=3*$e+lt+131074>>2;for(b(T[M+0],255&Ye,Ye>>16,Le,ue),O!=null&&(Ye=3*lt+$e+131074>>2,b(O[q+0],255&Ye,Ye>>16,he,Oe)),Ue=1;Ue<=Xe;++Ue){var en=B[G+Ue]|Y[le+Ue]<<16,Gt=_e[we+Ue]|ge[Be+Ue]<<16,Wt=$e+en+lt+Gt+524296,Rt=Wt+2*(en+lt)>>3;Ye=Rt+$e>>1,$e=(Wt=Wt+2*($e+Gt)>>3)+en>>1,b(T[M+2*Ue-1],255&Ye,Ye>>16,Le,ue+(2*Ue-1)*E),b(T[M+2*Ue-0],255&$e,$e>>16,Le,ue+(2*Ue-0)*E),O!=null&&(Ye=Wt+lt>>1,$e=Rt+Gt>>1,b(O[q+2*Ue-1],255&Ye,Ye>>16,he,Oe+(2*Ue-1)*E),b(O[q+2*Ue+0],255&$e,$e>>16,he,Oe+(2*Ue+0)*E)),$e=en,lt=Gt}1&ze||(Ye=3*$e+lt+131074>>2,b(T[M+ze-1],255&Ye,Ye>>16,Le,ue+(ze-1)*E),O!=null&&(Ye=3*lt+$e+131074>>2,b(O[q+ze-1],255&Ye,Ye>>16,he,Oe+(ze-1)*E)))}}function He(){bi[Eu]=na,bi[Li]=Va,bi[Tu]=qc,bi[Mr]=ku,bi[Fl]=No,bi[za]=Ss,bi[xo]=Co,bi[zl]=Va,bi[Nu]=ku,bi[Ha]=No,bi[Cu]=Ss}function et(m){return m&-16384?0>m?0:255:m>>Lu}function dt(m,b){return et((19077*m>>8)+(26149*b>>8)-14234)}function Et(m,b,E){return et((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Nt(m,b){return et((19077*m>>8)+(33050*b>>8)-17685)}function Kt(m,b,E,T,M){T[M+0]=dt(m,E),T[M+1]=Et(m,b,E),T[M+2]=Nt(m,b)}function Rn(m,b,E,T,M){T[M+0]=Nt(m,b),T[M+1]=Et(m,b,E),T[M+2]=dt(m,E)}function Mn(m,b,E,T,M){var O=Et(m,b,E);b=O<<3&224|Nt(m,b)>>3,T[M+0]=248&dt(m,E)|O>>5,T[M+1]=b}function jn(m,b,E,T,M){var O=240&Nt(m,b)|15;T[M+0]=240&dt(m,E)|Et(m,b,E)>>4,T[M+1]=O}function gi(m,b,E,T,M){T[M+0]=255,Kt(m,b,E,T,M+1)}function ni(m,b,E,T,M){Rn(m,b,E,T,M),T[M+3]=255}function Ci(m,b,E,T,M){Kt(m,b,E,T,M),T[M+3]=255}function lr(m,b){return 0>m?0:m>b?b:m}function Ds(m,b,E){K[m]=function(T,M,O,q,B,G,Y,le,_e){for(var we=le+(-2&_e)*E;le!=we;)b(T[M+0],O[q+0],B[G+0],Y,le),b(T[M+1],O[q+0],B[G+0],Y,le+E),M+=2,++q,++G,le+=2*E;1&_e&&b(T[M+0],O[q+0],B[G+0],Y,le)}}function wu(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function Ua(m,b,E,T,M){switch(m>>>30){case 3:_o(b,E,T,M,0);break;case 2:Bs(b,E,T,M);break;case 1:kr(b,E,T,M)}}function Oa(m,b){var E,T,M=b.M,O=b.Nb,q=m.oc,B=m.pc+40,G=m.oc,Y=m.pc+584,le=m.oc,_e=m.pc+600;for(E=0;16>E;++E)q[B+32*E-1]=129;for(E=0;8>E;++E)G[Y+32*E-1]=129,le[_e+32*E-1]=129;for(0<M?q[B-1-32]=G[Y-1-32]=le[_e-1-32]=129:(o(q,B-32-1,127,21),o(G,Y-32-1,127,9),o(le,_e-32-1,127,9)),T=0;T<m.za;++T){var we=b.ya[b.aa+T];if(0<T){for(E=-1;16>E;++E)i(q,B+32*E-4,q,B+32*E+12,4);for(E=-1;8>E;++E)i(G,Y+32*E-4,G,Y+32*E+4,4),i(le,_e+32*E-4,le,_e+32*E+4,4)}var ge=m.Gd,Be=m.Hd+T,Le=we.ad,ue=we.Hc;if(0<M&&(i(q,B-32,ge[Be].y,0,16),i(G,Y-32,ge[Be].f,0,8),i(le,_e-32,ge[Be].ea,0,8)),we.Za){var he=q,Oe=B-32+16;for(0<M&&(T>=m.za-1?o(he,Oe,ge[Be].y[15],4):i(he,Oe,ge[Be+1].y,0,4)),E=0;4>E;E++)he[Oe+128+E]=he[Oe+256+E]=he[Oe+384+E]=he[Oe+0+E];for(E=0;16>E;++E,ue<<=2)he=q,Oe=B+Jn[E],qn[we.Ob[E]](he,Oe),Ua(ue,Le,16*+E,he,Oe)}else if(he=wu(T,M,we.Ob[0]),Gi[he](q,B),ue!=0)for(E=0;16>E;++E,ue<<=2)Ua(ue,Le,16*+E,q,B+Jn[E]);for(E=we.Gc,he=wu(T,M,we.Dd),rs[he](G,Y),rs[he](le,_e),ue=Le,he=G,Oe=Y,255&(we=E>>0)&&(170&we?ys(ue,256,he,Oe):Hi(ue,256,he,Oe)),we=le,ue=_e,255&(E>>=8)&&(170&E?ys(Le,320,we,ue):Hi(Le,320,we,ue)),M<m.Ub-1&&(i(ge[Be].y,0,q,B+480,16),i(ge[Be].f,0,G,Y+224,8),i(ge[Be].ea,0,le,_e+224,8)),E=8*O*m.B,ge=m.sa,Be=m.ta+16*T+16*O*m.R,Le=m.qa,we=m.ra+8*T+E,ue=m.Ha,he=m.Ia+8*T+E,E=0;16>E;++E)i(ge,Be+E*m.R,q,B+32*E,16);for(E=0;8>E;++E)i(Le,we+E*m.B,G,Y+32*E,8),i(ue,he+E*m.B,le,_e+32*E,8)}}function vs(m,b,E,T,M,O,q,B,G){var Y=[0],le=[0],_e=0,we=G!=null?G.kd:0,ge=G??new kl;if(m==null||12>E)return 7;ge.data=m,ge.w=b,ge.ha=E,b=[b],E=[E],ge.gb=[ge.gb];e:{var Be=b,Le=E,ue=ge.gb;if(e(m!=null),e(Le!=null),e(ue!=null),ue[0]=0,12<=Le[0]&&!n(m,Be[0],"RIFF")){if(n(m,Be[0]+8,"WEBP")){ue=3;break e}var he=nt(m,Be[0]+4);if(12>he||4294967286<he){ue=3;break e}if(we&&he>Le[0]-8){ue=7;break e}ue[0]=he,Be[0]+=12,Le[0]-=12}ue=0}if(ue!=0)return ue;for(he=0<ge.gb[0],E=E[0];;){e:{var Oe=m;Le=b,ue=E;var ze=Y,Ue=le,Xe=Be=[0];if((Ye=_e=[_e])[0]=0,8>ue[0])ue=7;else{if(!n(Oe,Le[0],"VP8X")){if(nt(Oe,Le[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var $e=nt(Oe,Le[0]+8),lt=1+Qe(Oe,Le[0]+12);if(2147483648<=lt*(Oe=1+Qe(Oe,Le[0]+15))){ue=3;break e}Xe!=null&&(Xe[0]=$e),ze!=null&&(ze[0]=lt),Ue!=null&&(Ue[0]=Oe),Le[0]+=18,ue[0]-=18,Ye[0]=1}ue=0}}if(_e=_e[0],Be=Be[0],ue!=0)return ue;if(Le=!!(2&Be),!he&&_e)return 3;if(O!=null&&(O[0]=!!(16&Be)),q!=null&&(q[0]=Le),B!=null&&(B[0]=0),q=Y[0],Be=le[0],_e&&Le&&G==null){ue=0;break}if(4>E){ue=7;break}if(he&&_e||!he&&!_e&&!n(m,b[0],"ALPH")){E=[E],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{$e=m,ue=b,he=E;var Ye=ge.gb;ze=ge.na,Ue=ge.P,Xe=ge.Sa,lt=22,e($e!=null),e(he!=null),Oe=ue[0];var en=he[0];for(e(ze!=null),e(Xe!=null),ze[0]=null,Ue[0]=null,Xe[0]=0;;){if(ue[0]=Oe,he[0]=en,8>en){ue=7;break e}var Gt=nt($e,Oe+4);if(4294967286<Gt){ue=3;break e}var Wt=8+Gt+1&-2;if(lt+=Wt,0<Ye&&lt>Ye){ue=3;break e}if(!n($e,Oe,"VP8 ")||!n($e,Oe,"VP8L")){ue=0;break e}if(en[0]<Wt){ue=7;break e}n($e,Oe,"ALPH")||(ze[0]=$e,Ue[0]=Oe+8,Xe[0]=Gt),Oe+=Wt,en-=Wt}}if(E=E[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ue!=0)break}E=[E],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ye=m,ue=b,he=E,ze=ge.gb[0],Ue=ge.Ja,Xe=ge.xa,$e=ue[0],Oe=!n(Ye,$e,"VP8 "),lt=!n(Ye,$e,"VP8L"),e(Ye!=null),e(he!=null),e(Ue!=null),e(Xe!=null),8>he[0])ue=7;else{if(Oe||lt){if(Ye=nt(Ye,$e+4),12<=ze&&Ye>ze-12){ue=3;break e}if(we&&Ye>he[0]-8){ue=7;break e}Ue[0]=Ye,ue[0]+=8,he[0]-=8,Xe[0]=lt}else Xe[0]=5<=he[0]&&Ye[$e+0]==47&&!(Ye[$e+4]>>5),Ue[0]=he[0];ue=0}if(E=E[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],b=b[0],ue!=0)break;if(4294967286<ge.Ja)return 3;if(B==null||Le||(B[0]=ge.xa?2:1),q=[q],Be=[Be],ge.xa){if(5>E){ue=7;break}B=q,we=Be,Le=O,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(he=[0],Ye=[0],ze=[0],ce(Ue=new L,m,b,E),mt(Ue,he,Ye,ze)?(B!=null&&(B[0]=he[0]),we!=null&&(we[0]=Ye[0]),Le!=null&&(Le[0]=ze[0]),m=1):m=0):m=0}else{if(10>E){ue=7;break}B=Be,m==null||10>E||!xr(m,b+3,E-3)?m=0:(we=m[b+0]|m[b+1]<<8|m[b+2]<<16,Le=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=ge.Ja||!Le||!m?m=0:(q&&(q[0]=Le),B&&(B[0]=m),m=1))}if(!m||(q=q[0],Be=Be[0],_e&&(Y[0]!=q||le[0]!=Be)))return 3;G!=null&&(G[0]=ge,G.offset=b-G.w,e(4294967286>b-G.w),e(G.offset==G.ha-E));break}return ue==0||ue==7&&_e&&G==null?(O!=null&&(O[0]|=ge.na!=null&&0<ge.na.length),T!=null&&(T[0]=q),M!=null&&(M[0]=Be),0):ue}function Us(m,b,E){var T=b.width,M=b.height,O=0,q=0,B=T,G=M;if(b.Da=m!=null&&0<m.Da,b.Da&&(B=m.cd,G=m.bd,O=m.v,q=m.j,11>E||(O&=-2,q&=-2),0>O||0>q||0>=B||0>=G||O+B>T||q+G>M))return 0;if(b.v=O,b.j=q,b.va=O+B,b.o=q+G,b.U=B,b.T=G,b.da=m!=null&&0<m.da,b.da){if(!Ct(B,G,E=[m.ib],O=[m.hb]))return 0;b.ib=E[0],b.hb=O[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*T/4&&b.hb<3*M/4,b.Kb=0),1}function Pl(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Os(m,b,E,T){if(T==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var M=E.cd,O=E.bd,q=-2&E.v,B=-2&E.j;if(0>q||0>B||0>=M||0>=O||q+M>m||B+O>b)return 2;m=M,b=O}if(E.da){if(!Ct(m,b,M=[E.ib],O=[E.hb]))return 2;m=M[0],b=O[0]}}T.width=m,T.height=b;e:{var G=T.width,Y=T.height;if(m=T.S,0>=G||0>=Y||!(m>=Eu&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){q=O=M=b=0;var le=(B=G*Pu[m])*Y;if(11>m||(O=(Y+1)/2*(b=(G+1)/2),m==12&&(q=(M=G)*Y)),(Y=a(le+2*O+q))==null){m=1;break e}T.sd=Y,11>m?((G=T.f.RGBA).eb=Y,G.fb=0,G.A=B,G.size=le):((G=T.f.kb).y=Y,G.O=0,G.fa=B,G.Fd=le,G.f=Y,G.N=0+le,G.Ab=b,G.Cd=O,G.ea=Y,G.W=0+le+O,G.Db=b,G.Ed=O,m==12&&(G.F=Y,G.J=0+le+2*O),G.Tc=q,G.lb=M)}if(b=1,M=T.S,O=T.width,q=T.height,M>=Eu&&13>M)if(11>M)m=T.f.RGBA,b&=(B=Math.abs(m.A))*(q-1)+O<=m.size,b&=B>=O*Pu[M],b&=m.eb!=null;else{m=T.f.kb,B=(O+1)/2,le=(q+1)/2,G=Math.abs(m.fa),Y=Math.abs(m.Ab);var _e=Math.abs(m.Db),we=Math.abs(m.lb),ge=we*(q-1)+O;b&=G*(q-1)+O<=m.Fd,b&=Y*(le-1)+B<=m.Cd,b=(b&=_e*(le-1)+B<=m.Ed)&G>=O&Y>=B&_e>=B,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,M==12&&(b&=we>=O,b&=ge<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=Pl(T)),m}var Bi=64,Qo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bo=24,wo=32,qa=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(m){return m},K.Predictor2=function(m,b,E){return b[E+0]},K.Predictor3=function(m,b,E){return b[E+1]},K.Predictor4=function(m,b,E){return b[E-1]},K.Predictor5=function(m,b,E){return Ke(Ke(m,b[E+1]),b[E+0])},K.Predictor6=function(m,b,E){return Ke(m,b[E-1])},K.Predictor7=function(m,b,E){return Ke(m,b[E+0])},K.Predictor8=function(m,b,E){return Ke(b[E-1],b[E+0])},K.Predictor9=function(m,b,E){return Ke(b[E+0],b[E+1])},K.Predictor10=function(m,b,E){return Ke(Ke(m,b[E-1]),Ke(b[E+0],b[E+1]))},K.Predictor11=function(m,b,E){var T=b[E+0];return 0>=Mt(T>>24&255,m>>24&255,(b=b[E-1])>>24&255)+Mt(T>>16&255,m>>16&255,b>>16&255)+Mt(T>>8&255,m>>8&255,b>>8&255)+Mt(255&T,255&m,255&b)?T:m},K.Predictor12=function(m,b,E){var T=b[E+0];return(ft((m>>24&255)+(T>>24&255)-((b=b[E-1])>>24&255))<<24|ft((m>>16&255)+(T>>16&255)-(b>>16&255))<<16|ft((m>>8&255)+(T>>8&255)-(b>>8&255))<<8|ft((255&m)+(255&T)-(255&b)))>>>0},K.Predictor13=function(m,b,E){var T=b[E-1];return(at((m=Ke(m,b[E+0]))>>24&255,T>>24&255)<<24|at(m>>16&255,T>>16&255)<<16|at(m>>8&255,T>>8&255)<<8|at(m>>0&255,T>>0&255))>>>0};var _u=K.PredictorAdd0;K.PredictorAdd1=Pt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Dl=K.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",(function(m){return m>>8&255}),(function(m){return m})),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(m){return m}),(function(m){return m>>8&255}));var Su,ts=K.ColorIndexInverseTransform,Ul=K.MapARGB,Dc=K.VP8LColorIndexInverseTransformAlpha,zi=K.MapAlpha,Rr=K.VP8LPredictorsAdd=[];Rr.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var ur,Ir,qs,ns,is,Ba,Ri,_o,Bs,ys,kr,Hi,Lr,So,Ao,Zi,Fa,cr,bs,gn,vn,$n,Xn,ws,_s,Ii,Zo,fr,ea=a(511),Au=a(2041),Ol=a(225),ql=a(767),xu=0,Fs=Au,Bl=Ol,ki=ql,vi=ea,Eu=0,Li=1,Tu=2,Mr=3,Fl=4,za=5,xo=6,zl=7,Nu=8,Ha=9,Cu=10,Pr=[2,3,7],Ga=[3,3,11],ta=[280,256,256,256,40],Ru=[0,1,1,1,0],Hl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ur=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Eo=8,Or=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dr=null,Uf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Iu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Of=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ht=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gi=[],qn=[],rs=[],To=1,Oc=2,zs=[],bi=[];Me("UpsampleRgbLinePair",Kt,3),Me("UpsampleBgrLinePair",Rn,3),Me("UpsampleRgbaLinePair",Ci,4),Me("UpsampleBgraLinePair",ni,4),Me("UpsampleArgbLinePair",gi,4),Me("UpsampleRgba4444LinePair",jn,2),Me("UpsampleRgb565LinePair",Mn,2);var na=K.UpsampleRgbLinePair,qc=K.UpsampleBgrLinePair,Va=K.UpsampleRgbaLinePair,ku=K.UpsampleBgraLinePair,No=K.UpsampleArgbLinePair,Ss=K.UpsampleRgba4444LinePair,Co=K.UpsampleRgb565LinePair,Br=16,ja=1<<Br-1,ia=-227,Ro=482,Lu=6,Io=0,wi=a(256),Mu=a(256),qf=a(256),vh=a(256),yh=a(Ro-ia),bh=a(Ro-ia);Ds("YuvToRgbRow",Kt,3),Ds("YuvToBgrRow",Rn,3),Ds("YuvToRgbaRow",Ci,4),Ds("YuvToBgraRow",ni,4),Ds("YuvToArgbRow",gi,4),Ds("YuvToRgba4444Row",jn,2),Ds("YuvToRgb565Row",Mn,2);var Jn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$a=[0,2,8],Gl=[8,7,6,4,4,2,2,2,1,1,1,1],Vl=1;this.WebPDecodeRGBA=function(m,b,E,T,M){var O=Li,q=new Wo,B=new Yi;q.ba=B,B.S=O,B.width=[B.width],B.height=[B.height];var G=B.width,Y=B.height,le=new br;if(le==null||m==null)var _e=2;else e(le!=null),_e=vs(m,b,E,le.width,le.height,le.Pd,le.Qd,le.format,null);if(_e!=0?G=0:(G!=null&&(G[0]=le.width[0]),Y!=null&&(Y[0]=le.height[0]),G=1),G){B.width=B.width[0],B.height=B.height[0],T!=null&&(T[0]=B.width),M!=null&&(M[0]=B.height);e:{if(T=new xa,(M=new kl).data=m,M.w=b,M.ha=E,M.kd=1,b=[0],e(M!=null),((m=vs(M.data,M.w,M.ha,null,null,null,b,null,M))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(q!=null),T.data=M.data,T.w=M.w+M.offset,T.ha=M.ha-M.offset,T.put=wr,T.ac=ai,T.bc=Ki,T.ma=q,M.xa){if((m=Ar())==null){q=1;break e}if((function(we,ge){var Be=[0],Le=[0],ue=[0];t:for(;;){if(we==null)return 0;if(ge==null)return we.a=2,0;if(we.l=ge,we.a=0,ce(we.m,ge.data,ge.w,ge.ha),!mt(we.m,Be,Le,ue)){we.a=3;break t}if(we.xb=Oc,ge.width=Be[0],ge.height=Le[0],!ds(Be[0],Le[0],1,we,null))break t;return 1}return e(we.a!=0),0})(m,T)){if(T=(b=Os(T.width,T.height,q.Oa,q.ba))==0){t:{T=m;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((E=T.l)!=null),e((M=E.ma)!=null),T.xb!=0){if(T.ca=M.ba,T.tb=M.tb,e(T.ca!=null),!Us(M.Oa,E,Mr)){T.a=2;break n}if(!so(T,E.width)||E.da)break n;if((E.da||nn(T.ca.S))&&be(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&be()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ct(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Ti(T,T.V,T.Ba,T.c,T.i,E.o,Go))break n;M.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(b=m.a)}else b=m.a}else{if((m=new Ea)==null){q=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,qi(m,T)){if((b=Os(T.width,T.height,q.Oa,q.ba))==0){if(m.Aa=0,E=q.Oa,e((M=m)!=null),E!=null){if(0<(G=0>(G=E.Md)?0:100<G?255:255*G/100)){for(Y=le=0;4>Y;++Y)12>(_e=M.pb[Y]).lc&&(_e.ia=G*Gl[0>_e.lc?0:_e.lc]>>3),le|=_e.ia;le&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=E.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}Sl(m,T)||(b=m.a)}}else b=m.a}b==0&&q.Oa!=null&&q.Oa.fd&&(b=Pl(q.ba))}q=b}O=q!=0?null:11>O?B.f.RGBA.eb:B.f.kb.y}else O=null;return O};var Pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(K,me){for(var Te="",V=0;V<4;V++)Te+=String.fromCharCode(K[me++]);return Te}function g(K,me){return(K[me+0]<<0|K[me+1]<<8|K[me+2]<<16)>>>0}function w(K,me){return(K[me+0]<<0|K[me+1]<<8|K[me+2]<<16|K[me+3]<<24)>>>0}new f;var A=[0],S=[0],R=[],N=new f,k=t,C=(function(K,me){var Te={},V=0,j=!1,ie=0,ee=0;if(Te.frames=[],!(function(H,J,te,oe){for(var ve=0;ve<oe;ve++)if(H[J+ve]!=te.charCodeAt(ve))return!0;return!1})(K,me,"RIFF",4)){var Ie,$;for(w(K,me+=4),me+=8;me<K.length;){var re=h(K,me),ce=w(K,me+=4);me+=4;var Ne=ce+(1&ce);switch(re){case"VP8 ":case"VP8L":Te.frames[V]===void 0&&(Te.frames[V]={}),(L=Te.frames[V]).src_off=j?ee:me-8,L.src_size=ie+ce+8,V++,j&&(j=!1,ie=0,ee=0);break;case"VP8X":(L=Te.header={}).feature_flags=K[me];var Re=me+4;L.canvas_width=1+g(K,Re),Re+=3,L.canvas_height=1+g(K,Re),Re+=3;break;case"ALPH":j=!0,ie=Ne+8,ee=me-8;break;case"ANIM":(L=Te.header).bgcolor=w(K,me),Re=me+4,L.loop_count=(Ie=K)[($=Re)+0]<<0|Ie[$+1]<<8,Re+=2;break;case"ANMF":var W,L;(L=Te.frames[V]={}).offset_x=2*g(K,me),me+=3,L.offset_y=2*g(K,me),me+=3,L.width=1+g(K,me),me+=3,L.height=1+g(K,me),me+=3,L.duration=g(K,me),me+=3,W=K[me++],L.dispose=1&W,L.blend=W>>1&1}re!="ANMF"&&(me+=Ne)}return Te}})(k,0);C.response=k,C.rgbaoutput=!0,C.dataurl=!1;var U=C.header?C.header:null,z=C.frames?C.frames:null;if(U){U.loop_counter=U.loop_count,A=[U.canvas_height],S=[U.canvas_width];for(var Z=0;Z<z.length&&z[Z].blend!=0;Z++);}var fe=z[0],pe=N.WebPDecodeRGBA(k,fe.src_off,fe.src_size,S,A);fe.rgba=pe,fe.imgwidth=S[0],fe.imgheight=A[0];for(var Q=0;Q<S[0]*A[0]*4;Q++)R[Q]=pe[Q];return this.width=S,this.height=A,this.data=R,this}(function(t){var e=function(){return typeof q0=="function"},n=function(A,S,R,N){var k=4,C=u;switch(N){case t.image_compression.FAST:k=1,C=a;break;case t.image_compression.MEDIUM:k=6,C=c;break;case t.image_compression.SLOW:k=9,C=f}A=i(A,S,R,C);var U=q0(A,{level:k});return t.__addimage__.arrayBufferToBinaryString(U)},i=function(A,S,R,N){for(var k,C,U,z=A.length/S,Z=new Uint8Array(A.length+z),fe=g(),pe=0;pe<z;pe+=1){if(U=pe*S,k=A.subarray(U,U+S),N)Z.set(N(k,R,C),U+pe);else{for(var Q,K=fe.length,me=[];Q<K;Q+=1)me[Q]=fe[Q](k,R,C);var Te=w(me.concat());Z.set(me[Te],U+pe)}C=k}return Z},o=function(A){var S=Array.apply([],A);return S.unshift(0),S},a=function(A,S){var R,N=[],k=A.length;N[0]=1;for(var C=0;C<k;C+=1)R=A[C-S]||0,N[C+1]=A[C]-R+256&255;return N},u=function(A,S,R){var N,k=[],C=A.length;k[0]=2;for(var U=0;U<C;U+=1)N=R&&R[U]||0,k[U+1]=A[U]-N+256&255;return k},c=function(A,S,R){var N,k,C=[],U=A.length;C[0]=3;for(var z=0;z<U;z+=1)N=A[z-S]||0,k=R&&R[z]||0,C[z+1]=A[z]+256-(N+k>>>1)&255;return C},f=function(A,S,R){var N,k,C,U,z=[],Z=A.length;z[0]=4;for(var fe=0;fe<Z;fe+=1)N=A[fe-S]||0,k=R&&R[fe]||0,C=R&&R[fe-S]||0,U=h(N,k,C),z[fe+1]=A[fe]-U+256&255;return z},h=function(A,S,R){if(A===S&&S===R)return A;var N=Math.abs(S-R),k=Math.abs(A-R),C=Math.abs(A+S-R-R);return N<=k&&N<=C?A:k<=C?S:R},g=function(){return[o,a,u,c,f]},w=function(A){var S=A.map((function(R){return R.reduce((function(N,k){return N+Math.abs(k)}),0)}));return S.indexOf(Math.min.apply(null,S))};t.processPNG=function(A,S,R,N){var k,C,U,z,Z,fe,pe,Q,K,me,Te,V,j,ie,ee,Ie=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(U=new R8(A)).imgData,C=U.bits,k=U.colorSpace,Z=U.colors,[4,6].indexOf(U.colorType)!==-1){if(U.bits===8){K=(Q=U.pixelBitlength==32?new Uint32Array(U.decodePixels().buffer):U.pixelBitlength==16?new Uint16Array(U.decodePixels().buffer):new Uint8Array(U.decodePixels().buffer)).length,Te=new Uint8Array(K*U.colors),me=new Uint8Array(K);var re,ce=U.pixelBitlength-U.bits;for(ie=0,ee=0;ie<K;ie++){for(j=Q[ie],re=0;re<ce;)Te[ee++]=j>>>re&255,re+=U.bits;me[ie]=j>>>re&255}}if(U.bits===16){K=(Q=new Uint32Array(U.decodePixels().buffer)).length,Te=new Uint8Array(K*(32/U.pixelBitlength)*U.colors),me=new Uint8Array(K*(32/U.pixelBitlength)),V=U.colors>1,ie=0,ee=0;for(var Ne=0;ie<K;)j=Q[ie++],Te[ee++]=j>>>0&255,V&&(Te[ee++]=j>>>16&255,j=Q[ie++],Te[ee++]=j>>>0&255),me[Ne++]=j>>>16&255;C=8}N!==t.image_compression.NONE&&e()?(A=n(Te,U.width*U.colors,U.colors,N),pe=n(me,U.width,1,N)):(A=Te,pe=me,Ie=void 0)}if(U.colorType===3&&(k=this.color_spaces.INDEXED,fe=U.palette,U.transparency.indexed)){var Re=U.transparency.indexed,W=0;for(ie=0,K=Re.length;ie<K;++ie)W+=Re[ie];if((W/=255)===K-1&&Re.indexOf(0)!==-1)z=[Re.indexOf(0)];else if(W!==K){for(Q=U.decodePixels(),me=new Uint8Array(Q.length),ie=0,K=Q.length;ie<K;ie++)me[ie]=Re[Q[ie]];pe=n(me,U.width,1)}}var L=(function(H){var J;switch(H){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J})(N);return Ie===this.decode.FLATE_DECODE&&($="/Predictor "+L+" "),$+="/Colors "+Z+" /BitsPerComponent "+C+" /Columns "+U.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(pe&&this.__addimage__.isArrayBuffer(pe)||this.__addimage__.isArrayBufferView(pe))&&(pe=this.__addimage__.arrayBufferToBinaryString(pe)),{alias:R,data:A,index:S,filter:Ie,decodeParameters:$,transparency:z,palette:fe,sMask:pe,predictor:L,width:U.width,height:U.height,bitsPerComponent:C,colorSpace:k}}}})(_t.API),(function(t){t.processGIF89A=function(e,n,i,o){var a=new I8(e),u=a.width,c=a.height,f=[];a.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:u,height:c},g=new t0(100).encode(h,100);return t.processJPEG.call(this,g,n,i,o)},t.processGIF87A=t.processGIF89A})(_t.API),Ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ws.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){En.log("bit decode error:"+n)}},Ws.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var a=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*o*4,c=0;c<8&&8*o+c<this.width;c++){var f=this.palette[a>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ws.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<t;o++){var a=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*o*4,c=a>>4,f=15&a,h=this.palette[c];if(this.data[u]=h.blue,this.data[u+1]=h.green,this.data[u+2]=h.red,this.data[u+3]=255,2*o+1>=this.width)break;h=this.palette[f],this.data[u+4]=h.blue,this.data[u+4+1]=h.green,this.data[u+4+2]=h.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Ws.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(o<this.palette.length){var u=this.palette[o];this.data[a]=u.red,this.data[a+1]=u.green,this.data[a+2]=u.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ws.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,f=(a>>10&e)/e*255|0,h=a>>15?255:0,g=i*this.width*4+4*o;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=h}this.pos+=t}},Ws.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,h=(u>>11)/e*255|0,g=o*this.width*4+4*a;this.data[g]=h,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=t}},Ws.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=a,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},Ws.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=a,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=u}},Ws.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,i,o){var a=new Ws(e,!1),u=a.width,c=a.height,f={data:a.getData(),width:u,height:c},h=new t0(100).encode(f,100);return t.processJPEG.call(this,h,n,i,o)}})(_t.API),p2.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,i,o){var a=new p2(e),u=a.width,c=a.height,f={data:a.getData(),width:u,height:c},h=new t0(100).encode(f,100);return t.processJPEG.call(this,h,n,i,o)}})(_t.API),_t.API.processRGBA=function(t,e,n){for(var i=t.data,o=i.length,a=new Uint8Array(o/4*3),u=new Uint8Array(o/4),c=0,f=0,h=0;h<o;h+=4){var g=i[h],w=i[h+1],A=i[h+2],S=i[h+3];a[c++]=g,a[c++]=w,a[c++]=A,u[f++]=S}var R=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:R,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},cc=_t.API,Od=cc.getCharWidthsArray=function(t,e){var n,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:o.metadata.Unicode.widths,f=c.fof?c.fof:1,h=e.kerning?e.kerning:o.metadata.Unicode.kerning,g=h.fof?h.fof:1,w=e.doKerning!==!1,A=0,S=t.length,R=0,N=c[0]||f,k=[];for(n=0;n<S;n++)i=t.charCodeAt(n),typeof o.metadata.widthOfString=="function"?k.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+u*(1e3/a)||0)/1e3):(A=w&&mn(h[i])==="object"&&!isNaN(parseInt(h[i][R],10))?h[i][R]/g:0,k.push((c[i]||N)/f+A)),R=i;return k},c2=cc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return cc.processArabic&&(t=cc.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,o)/n:Od.apply(this,arguments).reduce((function(a,u){return a+u}),0)},f2=function(t,e,n,i){for(var o=[],a=0,u=t.length,c=0;a!==u&&c+e[a]<n;)c+=e[a],a++;o.push(t.slice(0,a));var f=a;for(c=0;a!==u;)c+e[a]>i&&(o.push(t.slice(f,a)),c=0,f=a),c+=e[a],a++;return f!==a&&o.push(t.slice(f,a)),o},d2=function(t,e,n){n||(n={});var i,o,a,u,c,f,h,g=[],w=[g],A=n.textIndent||0,S=0,R=0,N=t.split(" "),k=Od.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var C=Array(f).join(" "),U=[];N.map((function(Z){(Z=Z.split(/\s*\n/)).length>1?U=U.concat(Z.map((function(fe,pe){return(pe&&fe.length?`
`:"")+fe}))):U.push(Z[0])})),N=U,f=c2.apply(this,[C,n])}for(a=0,u=N.length;a<u;a++){var z=0;if(i=N[a],f&&i[0]==`
`&&(i=i.substr(1),z=1),A+S+(R=(o=Od.apply(this,[i,n])).reduce((function(Z,fe){return Z+fe}),0))>e||z){if(R>e){for(c=f2.apply(this,[i,o,e-(A+S),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);R=o.slice(i.length-(g[0]?g[0].length:0)).reduce((function(Z,fe){return Z+fe}),0)}else g=[i];w.push(g),A=R+f,S=k}else g.push(i),A+=S+R,S=k}return h=f?function(Z,fe){return(fe?C:"")+Z.join(" ")}:function(Z){return Z.join(" ")},w.map(h)},cc.splitTextToSize=function(t,e,n){var i,o=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=n.lineIndent;var c,f,h=[];for(c=0,f=i.length;c<f;c++)h=h.concat(d2.apply(this,[i[c],u,a]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},o=0;o<e.length;o++)n[e[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=e[o];var a=function(w){return"0x"+parseInt(w,10).toString(16)},u=t.__fontmetrics__.compress=function(w){var A,S,R,N,k=["{"];for(var C in w){if(A=w[C],isNaN(parseInt(C,10))?S="'"+C+"'":(C=parseInt(C,10),S=(S=a(C).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof A=="number")A<0?(R=a(A).slice(3),N="-"):(R=a(A).slice(2),N=""),R=N+R.slice(0,-1)+i[R.slice(-1)];else{if(mn(A)!=="object")throw new Error("Don't know what to do with value type "+mn(A)+".");R=u(A)}k.push(S+R)}return k.push("}"),k.join("")},c=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,S,R,N,k={},C=1,U=k,z=[],Z="",fe="",pe=w.length-1,Q=1;Q<pe;Q+=1)(N=w[Q])=="'"?A?(R=A.join(""),A=void 0):A=[]:A?A.push(N):N=="{"?(z.push([U,R]),U={},R=void 0):N=="}"?((S=z.pop())[0][S[1]]=U,R=void 0,U=S[0]):N=="-"?C=-1:R===void 0?n.hasOwnProperty(N)?(Z+=n[N],R=parseInt(Z,16)*C,C=1,Z=""):Z+=N:n.hasOwnProperty(N)?(fe+=n[N],U[R]=parseInt(fe,16)*C,C=1,R=void 0,fe=""):fe+=N;return k},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var A=w.font,S=g.Unicode[A.postScriptName];S&&(A.metadata.Unicode={},A.metadata.Unicode.widths=S.widths,A.metadata.Unicode.kerning=S.kerning);var R=h.Unicode[A.postScriptName];R&&(A.metadata.Unicode.encoding=R,A.encoding=R.codePages[0])}])})(_t.API),(function(t){var e=function(n){for(var i=n.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=n.charCodeAt(a);return o};t.API.events.push(["addFont",function(n){var i=void 0,o=n.font,a=n.instance;if(!o.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=a.existsFileInVFS(o.postScriptName)===!1?a.loadFile(o.postScriptName):a.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Ef(c)),u.metadata=t.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,i)}}])})(_t),(function(t){function e(){return(xt.canvg?Promise.resolve(xt.canvg):L0(()=>import("./index.es-um1ePCQN.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}_t.API.addSvgAsImage=function(n,i,o,a,u,c,f,h){if(isNaN(i)||isNaN(o))throw En.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(u))throw En.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=a,g.height=u;var w=g.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,g.width,g.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return e().then((function(R){return R.fromString(w,n,A)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(R){return R.render(A)})).then((function(){S.addImage(g.toDataURL("image/jpeg",1),i,o,a,u,f,h)}))}})(),_t.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,n);return this},_t.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,o,a,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],h=0,g=0,w=0;function A(R,N){var k,C=!1;for(k=0;k<R.length;k+=1)R[k]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var S=c.length;for(w=0;w<S;w+=1)n[c[w]].value=n[c[w]].defaultValue,n[c[w]].explicitSet=!1}if(mn(t)==="object"){for(o in t)if(a=t[o],A(c,o)&&a!==void 0){if(n[o].type==="boolean"&&typeof a=="boolean")n[o].value=a;else if(n[o].type==="name"&&A(n[o].valueSet,a))n[o].value=a;else if(n[o].type==="integer"&&Number.isInteger(a))n[o].value=a;else if(n[o].type==="array"){for(h=0;h<a.length;h+=1)if(i=!0,a[h].length===1&&typeof a[h][0]=="number")f.push(String(a[h]-1));else if(a[h].length>1){for(g=0;g<a[h].length;g+=1)typeof a[h][g]!="number"&&(i=!1);i===!0&&f.push([a[h][0]-1,a[h][1]-1].join(" "))}n[o].value="["+f.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var R,N=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?N.push("/"+R+" /"+n[R].value):N.push("/"+R+" "+n[R].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+u.length+c.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(o+a+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(_t.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,u){for(var c,f=u.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],w=0,A=a.length;w<A;++w){if(c=u.metadata.characterToGlyph(a.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=a.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(h[4-c.length],c)}return g.join("")},i=function(a){var u,c,f,h,g,w,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(c=Object.keys(a).sort((function(S,R){return S-R}))).length;w<A;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),a[u]!==void 0&&a[u]!==null&&typeof a[u].toString=="function"&&(h=("0000"+a[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+h+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(u){var c=u.font,f=u.out,h=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),S="",R=0;R<A.length;R++)S+=String.fromCharCode(A[R]);var N=h();g({data:S,addLength1:!0,objectId:N}),f("endobj");var k=h();g({data:i(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+gc(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var U=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+gc(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+gc(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+U+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(u){var c=u.font,f=u.out,h=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,A="",S=0;S<w.length;S++)A+=String.fromCharCode(w[S]);var R=h();g({data:A,addLength1:!0,objectId:R}),f("endobj");var N=h();g({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=h();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+R+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+gc(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=h();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+gc(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]);var o=function(a){var u,c=a.text||"",f=a.x,h=a.y,g=a.options||{},w=a.mutex||{},A=w.pdfEscape,S=w.activeFontKey,R=w.fonts,N=S,k="",C=0,U="",z=R[N].encoding;if(R[N].encoding!=="Identity-H")return{text:c,x:f,y:h,options:g,mutex:w};for(U=c,N=S,Array.isArray(c)&&(U=c[0]),C=0;C<U.length;C+=1)R[N].metadata.hasOwnProperty("cmap")&&(u=R[N].metadata.cmap.unicode.codeMap[U[C].charCodeAt(0)]),u||U[C].charCodeAt(0)<256&&R[N].metadata.hasOwnProperty("Unicode")?k+=U[C]:k+="";var Z="";return parseInt(N.slice(1))<14||z==="WinAnsiEncoding"?Z=A(k,N).split("").map((function(fe){return fe.charCodeAt(0).toString(16)})).join(""):z==="Identity-H"&&(Z=n(k,R[N])),w.isHex=!0,{text:Z,x:f,y:h,options:g,mutex:w}};e.events.push(["postProcessText",function(a){var u=a.text||"",c=[],f={text:u,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(u)){var h=0;for(h=0;h<u.length;h+=1)Array.isArray(u[h])&&u[h].length===3?c.push([o(Object.assign({},f,{text:u[h][0]})).text,u[h][1],u[h][2]]):c.push(o(Object.assign({},f,{text:u[h]})).text);a.text=c}else a.text=o(Object.assign({},f,{text:u})).text}])})(_t),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(_t.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var o,a,u,c,f,h,g,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,z=0;this.__bidiEngine__={};var Z=function(V){var j=V.charCodeAt(),ie=j>>8,ee=N[ie];return ee!==void 0?w[256*ee+(255&j)]:ie===252||ie===253?"AL":C.test(ie)?"L":ie===8?"R":"N"},fe=function(V){for(var j,ie=0;ie<V.length;ie++){if((j=Z(V.charAt(ie)))==="L")return!1;if(j==="R")return!0}return!1},pe=function(V,j,ie,ee){var Ie,$,re,ce,Ne=j[ee];switch(Ne){case"L":case"R":U=!1;break;case"N":case"AN":break;case"EN":U&&(Ne="AN");break;case"AL":U=!0,Ne="R";break;case"WS":Ne="N";break;case"CS":ee<1||ee+1>=j.length||(Ie=ie[ee-1])!=="EN"&&Ie!=="AN"||($=j[ee+1])!=="EN"&&$!=="AN"?Ne="N":U&&($="AN"),Ne=$===Ie?$:"N";break;case"ES":Ne=(Ie=ee>0?ie[ee-1]:"B")==="EN"&&ee+1<j.length&&j[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&ie[ee-1]==="EN"){Ne="EN";break}if(U){Ne="N";break}for(re=ee+1,ce=j.length;re<ce&&j[re]==="ET";)re++;Ne=re<ce&&j[re]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(ce=j.length,re=ee+1;re<ce&&j[re]==="NSM";)re++;if(re<ce){var Re=V[ee],W=Re>=1425&&Re<=2303||Re===64286;if(Ie=j[re],W&&(Ie==="R"||Ie==="AL")){Ne="R";break}}}Ne=ee<1||(Ie=j[ee-1])==="B"?"N":ie[ee-1];break;case"B":U=!1,o=!0,Ne=z;break;case"S":a=!0,Ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"BN":Ne="N"}return Ne},Q=function(V,j,ie){var ee=V.split("");return ie&&K(ee,ie,{hiLevel:z}),ee.reverse(),j&&j.reverse(),ee.join("")},K=function(V,j,ie){var ee,Ie,$,re,ce,Ne=-1,Re=V.length,W=0,L=[],H=z?S:A,J=[];for(U=!1,o=!1,a=!1,Ie=0;Ie<Re;Ie++)J[Ie]=Z(V[Ie]);for($=0;$<Re;$++){if(ce=W,L[$]=pe(V,J,L,$),ee=240&(W=H[ce][R[L[$]]]),W&=15,j[$]=re=H[W][5],ee>0)if(ee===16){for(Ie=Ne;Ie<$;Ie++)j[Ie]=1;Ne=-1}else Ne=-1;if(H[W][6])Ne===-1&&(Ne=$);else if(Ne>-1){for(Ie=Ne;Ie<$;Ie++)j[Ie]=re;Ne=-1}J[$]==="B"&&(j[$]=0),ie.hiLevel|=re}a&&(function(te,oe,ve){for(var Ae=0;Ae<ve;Ae++)if(te[Ae]==="S"){oe[Ae]=z;for(var Se=Ae-1;Se>=0&&te[Se]==="WS";Se--)oe[Se]=z}})(J,j,Re)},me=function(V,j,ie,ee,Ie){if(!(Ie.hiLevel<V)){if(V===1&&z===1&&!o)return j.reverse(),void(ie&&ie.reverse());for(var $,re,ce,Ne,Re=j.length,W=0;W<Re;){if(ee[W]>=V){for(ce=W+1;ce<Re&&ee[ce]>=V;)ce++;for(Ne=W,re=ce-1;Ne<re;Ne++,re--)$=j[Ne],j[Ne]=j[re],j[re]=$,ie&&($=ie[Ne],ie[Ne]=ie[re],ie[re]=$);W=ce}W++}}},Te=function(V,j,ie){var ee=V.split(""),Ie={hiLevel:z};return ie||(ie=[]),K(ee,ie,Ie),(function($,re,ce){if(ce.hiLevel!==0&&g)for(var Ne,Re=0;Re<$.length;Re++)re[Re]===1&&(Ne=k.indexOf($[Re]))>=0&&($[Re]=k[Ne+1])})(ee,ie,Ie),me(2,ee,j,ie,Ie),me(1,ee,j,ie,Ie),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(V,j,ie){if((function(Ie,$){if($)for(var re=0;re<Ie.length;re++)$[re]=re;c===void 0&&(c=fe(Ie)),h===void 0&&(h=fe(Ie))})(V,j),u||!f||h)if(u&&f&&c^h)z=c?1:0,V=Q(V,j,ie);else if(!u&&f&&h)z=c?1:0,V=Te(V,j,ie),V=Q(V,j);else if(!u||c||f||h){if(u&&!f&&c^h)V=Q(V,j),c?(z=0,V=Te(V,j,ie)):(z=1,V=Te(V,j,ie),V=Q(V,j));else if(u&&c&&!f&&h)z=1,V=Te(V,j,ie),V=Q(V,j);else if(!u&&!f&&c^h){var ee=g;c?(z=1,V=Te(V,j,ie),z=0,g=!1,V=Te(V,j,ie),g=ee):(z=0,V=Te(V,j,ie),V=Q(V,j),z=1,g=!1,V=Te(V,j,ie),g=ee,V=Q(V,j))}}else z=0,V=Te(V,j,ie);else z=c?1:0,V=Te(V,j,ie);return V},this.__bidiEngine__.setOptions=function(V){V&&(u=V.isInputVisual,f=V.isOutputVisual,c=V.isInputRtl,h=V.isOutputRtl,g=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var o=i.text,a=(i.x,i.y,i.options||{}),u=(i.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(o)==="[object Array]"){var c=0;for(u=[],c=0;c<o.length;c+=1)Object.prototype.toString.call(o[c])==="[object Array]"?u.push([n.doBidiReorder(o[c][0]),o[c][1],o[c][2]]):u.push([n.doBidiReorder(o[c])]);i.text=u}else i.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(_t),_t.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new gl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new j8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new k8(this.contents),this.head=new M8(this),this.name=new q8(this),this.cmap=new nb(this),this.toUnicode={},this.hhea=new P8(this),this.maxp=new B8(this),this.hmtx=new F8(this),this.post=new U8(this),this.os2=new D8(this),this.loca=new V8(this),this.glyf=new z8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,o,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,h;for(h=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),(32768&(n=o>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var o,a,u,c;for(u=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)o=e.charCodeAt(a),u+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t})();var ro,gl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,o;for(o=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,o,a,u,c,f;return e=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^a)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*o+16777216*a+65536*u+256*c+f},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,o,a;for(a=[],i=0,o=e.length;i<o;i++)n=e[i],a.push(this.writeByte(n));return a},t})(),k8=(function(){var t;function e(n){var i,o,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,a=this.tableCount;0<=a?o<a:o>a;o=0<=a?++o:--o)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,o,a,u,c,f,h,g,w,A,S,R,N;for(N in S=Object.keys(n).length,f=Math.log(2),w=16*Math.floor(Math.log(S)/f),u=Math.floor(w/f),g=16*S-w,(o=new gl).writeInt(this.scalarType),o.writeShort(S),o.writeShort(w),o.writeShort(u),o.writeShort(g),a=16*S,h=o.pos+a,c=null,R=[],n)for(A=n[N],o.writeString(N),o.writeInt(t(A)),o.writeInt(h),o.writeInt(A.length),R=R.concat(A),N==="head"&&(c=h),h+=A.length;h%4;)R.push(0),h++;return o.write(R),i=2981146554-t(o.data),o.pos=c+8,o.writeUInt32(i),o.data},t=function(n){var i,o,a,u;for(n=ib.call(n);n.length%4;)n.push(0);for(a=new gl(n),o=0,i=0,u=n.length;i<u;i=i+=4)o+=a.readUInt32();return 4294967295&o},e})(),L8={}.hasOwnProperty,Fo=function(t,e){for(var n in e)L8.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};ro=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var M8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new gl).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e})(),m2=(function(){function t(e,n){var i,o,a,u,c,f,h,g,w,A,S,R,N,k,C,U,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(S=e.readUInt16(),A=S/2,e.pos+=6,a=(function(){var Z,fe;for(fe=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)fe.push(e.readUInt16());return fe})(),e.pos+=2,N=(function(){var Z,fe;for(fe=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)fe.push(e.readUInt16());return fe})(),h=(function(){var Z,fe;for(fe=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)fe.push(e.readUInt16());return fe})(),g=(function(){var Z,fe;for(fe=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)fe.push(e.readUInt16());return fe})(),o=(this.length-e.pos+this.offset)/2,c=(function(){var Z,fe;for(fe=[],f=Z=0;0<=o?Z<o:Z>o;f=0<=o?++Z:--Z)fe.push(e.readUInt16());return fe})(),f=C=0,z=a.length;C<z;f=++C)for(k=a[f],i=U=R=N[f];R<=k?U<=k:U>=k;i=R<=k?++U:--U)g[f]===0?u=i+h[f]:(u=c[g[f]/2+(i-R)-(A-f)]||0)!==0&&(u+=h[f]),this.codeMap[i]=65535&u}e.pos=w}return t.encode=function(e,n){var i,o,a,u,c,f,h,g,w,A,S,R,N,k,C,U,z,Z,fe,pe,Q,K,me,Te,V,j,ie,ee,Ie,$,re,ce,Ne,Re,W,L,H,J,te,oe,ve,Ae,Se,je,Ve,Qe;switch(ee=new gl,u=Object.keys(e).sort((function(nt,ct){return nt-ct})),n){case"macroman":for(N=0,k=(function(){var nt=[];for(R=0;R<256;++R)nt.push(0);return nt})(),U={0:0},a={},Ie=0,Ne=u.length;Ie<Ne;Ie++)U[Se=e[o=u[Ie]]]==null&&(U[Se]=++N),a[o]={old:e[o],new:U[e[o]]},k[o]=U[e[o]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(k),{charMap:a,subtable:ee.data,maxGlyphID:N+1};case"unicode":for(j=[],w=[],z=0,U={},i={},C=h=null,$=0,Re=u.length;$<Re;$++)U[fe=e[o=u[$]]]==null&&(U[fe]=++z),i[o]={old:fe,new:U[fe]},c=U[fe]-o,C!=null&&c===h||(C&&w.push(C),j.push(o),h=c),C=o;for(C&&w.push(C),w.push(65535),j.push(65535),Te=2*(me=j.length),K=2*Math.pow(Math.log(me)/Math.LN2,2),A=Math.log(K/2)/Math.LN2,Q=2*me-K,f=[],pe=[],S=[],R=re=0,W=j.length;re<W;R=++re){if(V=j[R],g=w[R],V===65535){f.push(0),pe.push(0);break}if(V-(ie=i[V].new)>=32768)for(f.push(0),pe.push(2*(S.length+me-R)),o=ce=V;V<=g?ce<=g:ce>=g;o=V<=g?++ce:--ce)S.push(i[o].new);else f.push(ie-V),pe.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*me+2*S.length),ee.writeUInt16(0),ee.writeUInt16(Te),ee.writeUInt16(K),ee.writeUInt16(A),ee.writeUInt16(Q),ve=0,L=w.length;ve<L;ve++)o=w[ve],ee.writeUInt16(o);for(ee.writeUInt16(0),Ae=0,H=j.length;Ae<H;Ae++)o=j[Ae],ee.writeUInt16(o);for(je=0,J=f.length;je<J;je++)c=f[je],ee.writeUInt16(c);for(Ve=0,te=pe.length;Ve<te;Ve++)Z=pe[Ve],ee.writeUInt16(Z);for(Qe=0,oe=S.length;Qe<oe;Qe++)N=S[Qe],ee.writeUInt16(N);return{charMap:i,subtable:ee.data,maxGlyphID:z+1}}},t})(),nb=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,o,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)i=new m2(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var o,a;return i==null&&(i="macroman"),o=m2.encode(n,i),(a=new gl).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},e})(),P8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),D8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var i,o;for(o=[],i=0;i<10;++i)o.push(n.readByte());return o})(),this.charRange=(function(){var i,o;for(o=[],i=0;i<4;++i)o.push(n.readInt());return o})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(n.readInt());return o})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),U8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="post",e.prototype.parse=function(n){var i,o,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var u;for(o=n.readUInt16(),this.glyphNameIndex=[],u=0;0<=o?u<o:u>o;u=0<=o?++u:--u)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)i=n.readByte(),a.push(this.names.push(n.readString(i)));return a;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var c,f,h;for(h=[],u=c=0,f=this.file.maxp.numGlyphs;0<=f?c<f:c>f;u=0<=f?++c:--c)h.push(n.readUInt32());return h}).call(this)}},e})(),O8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},q8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="name",e.prototype.parse=function(n){var i,o,a,u,c,f,h,g,w,A,S;for(n.pos=this.offset,n.readShort(),i=n.readShort(),f=n.readShort(),o=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+f+n.readShort()});for(h={},u=w=0,A=o.length;w<A;u=++w)a=o[u],n.pos=a.offset,g=n.readString(a.length),c=new O8(g,a),h[S=a.nameID]==null&&(h[S]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),B8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),F8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,o,a,u,c,f,h;for(n.pos=this.offset,this.metrics=[],i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,w;for(w=[],i=g=0;0<=a?g<a:g>a;i=0<=a?++g:--g)w.push(n.readInt16());return w})(),this.widths=(function(){var g,w,A,S;for(S=[],g=0,w=(A=this.metrics).length;g<w;g++)u=A[g],S.push(u.advance);return S}).call(this),o=this.widths[this.widths.length-1],h=[],i=c=0;0<=a?c<a:c>a;i=0<=a?++c:--c)h.push(this.widths.push(o));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),ib=[].slice,z8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,o,a,u,c,f,h,g,w,A;return n in this.cache?this.cache[n]:(u=this.file.loca,i=this.file.contents,o=u.indexOf(n),(a=u.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+o,c=(f=new gl(i.read(a))).readShort(),g=f.readShort(),A=f.readShort(),h=f.readShort(),w=f.readShort(),this.cache[n]=c===-1?new G8(f,g,A,h,w):new H8(f,c,g,A,h,w),this.cache[n]))},e.prototype.encode=function(n,i,o){var a,u,c,f,h;for(c=[],u=[],f=0,h=i.length;f<h;f++)a=n[i[f]],u.push(c.length),a&&(c=c.concat(a.encode(o)));return u.push(c.length),{table:c,offsets:u}},e})(),H8=(function(){function t(e,n,i,o,a,u){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=o,this.xMax=a,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),G8=(function(){function t(e,n,i,o,a){var u,c;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new gl(ib.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),V8=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,ro),e.prototype.tag="loca",e.prototype.parse=function(n){var i,o;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,u;for(u=[],o=0,a=this.length;o<a;o+=2)u.push(2*n.readUInt16());return u}).call(this):(function(){var a,u;for(u=[],o=0,a=this.length;o<a;o+=4)u.push(n.readUInt32());return u}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var o=new Uint32Array(this.offsets.length),a=0,u=0,c=0;c<o.length;++c)if(o[c]=a,u<i.length&&i[u]==c){++u,o[c]=a;var f=this.offsets[c],h=this.offsets[c+1]-f;h>0&&(a+=h)}for(var g=new Array(4*o.length),w=0;w<o.length;++w)g[4*w+3]=255&o[w],g[4*w+2]=(65280&o[w])>>8,g[4*w+1]=(16711680&o[w])>>16,g[4*w]=(4278190080&o[w])>>24;return g},e})(),j8=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,o,a;for(n in o=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[n],e[n]=o[i];return e},t.prototype.glyphsFor=function(e){var n,i,o,a,u,c,f;for(o={},u=0,c=e.length;u<c;u++)o[a=e[u]]=this.font.glyf.glyphFor(a);for(a in n=[],o)(i=o[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in f=this.glyphsFor(n))i=f[a],o[a]=i;return o},t.prototype.encode=function(e,n){var i,o,a,u,c,f,h,g,w,A,S,R,N,k,C;for(o in i=nb.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),S={0:0},C=i.charMap)S[(f=C[o]).old]=f.new;for(R in A=i.maxGlyphID,u)R in S||(S[R]=A++);return g=(function(U){var z,Z;for(z in Z={},U)Z[U[z]]=z;return Z})(S),w=Object.keys(g).sort((function(U,z){return U-z})),N=(function(){var U,z,Z;for(Z=[],U=0,z=w.length;U<z;U++)c=w[U],Z.push(g[c]);return Z})(),a=this.font.glyf.encode(u,N,S),h=this.font.loca.encode(a.offsets,N),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();_t.API.PDFObject=(function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,o,a,u;if(Array.isArray(n))return"["+(function(){var c,f,h;for(h=[],c=0,f=n.length;c<f;c++)i=n[c],h.push(e.convert(i));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in a=["<<"],n)u=n[o],a.push("/"+o+" "+e.convert(u));return a.push(">>"),a.join(`
`)}return""+n},e})();const $8=(t,e)=>{const n=new _t,i=20;let o=20;const a=n.internal.pageSize.getWidth(),u=a-i*2,c=(g,w,A="normal",S=[0,0,0])=>{if(n.setFontSize(w),n.setFont("helvetica",A),n.setTextColor(S[0],S[1],S[2]),!g)return;const R=n.splitTextToSize(g,u);n.text(R,i,o),o+=R.length*(w*.4)+2,o>n.internal.pageSize.getHeight()-20&&(n.addPage(),o=20)},f=(g,w)=>{if(!w)return;n.setFontSize(9),n.setFont("helvetica","bold"),n.setTextColor(50,50,50),n.text(` ${g}:`,i,o),n.setFont("helvetica","normal"),n.setTextColor(80,80,80);const A=n.splitTextToSize(w,u-35);n.text(A,i+35,o),o+=A.length*4+1,o>n.internal.pageSize.getHeight()-20&&(n.addPage(),o=20)};c(`Yatra Travel Guide: ${e}`,24,"bold",[13,148,136]),o+=5,c(t.title,18,"bold"),o+=3,c(t.overview,11,"italic",[80,80,80]),o+=8,n.setDrawColor(200,200,200),n.line(i,o-5,a-i,o-5),t.days.forEach(g=>{c(`Day ${g.day}`,16,"bold",[15,23,42]),o+=2,g.segments.forEach(w=>{const A=`${w.timeOfDay.toUpperCase()} - ${w.title}`;n.setFillColor(245,245,245),n.rect(i-2,o-5,a-i*2+4,8,"F"),c(A,11,"bold",[0,0,0]),o+=2,c(w.description,10,"normal",[40,40,40]),o+=2,f("Food",w.foodRecommendations),f("Hidden Gems",w.hiddenGems),f("Insider Tips",w.insiderTips),f("Transport",w.transportation),f("Safety",w.safety),f("Budget",w.budget),w.addOns&&f("Add-ons",w.addOns),o+=6}),o+=5});const h=n.getNumberOfPages();for(let g=1;g<=h;g++)n.setPage(g),n.setFontSize(8),n.setTextColor(150,150,150),n.text(`Generated by Yatra AI - Page ${g} of ${h}`,a/2,n.internal.pageSize.getHeight()-10,{align:"center"});n.save(`Yatra_${e}_Itinerary.pdf`)},g2=t=>t===0?{label:"Clear Sky",iconType:"sun"}:t>=1&&t<=3?{label:"Partly Cloudy",iconType:"cloud"}:t>=45&&t<=48?{label:"Foggy",iconType:"cloud"}:t>=51&&t<=67?{label:"Rainy",iconType:"rain"}:t>=71&&t<=77?{label:"Snow",iconType:"snow"}:t>=80&&t<=82?{label:"Showers",iconType:"rain"}:t>=95&&t<=99?{label:"Thunderstorm",iconType:"storm"}:{label:"Clear",iconType:"sun"},J8=async(t,e)=>{try{const i=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&daily=weathercode,temperature_2m_max,temperature_2m_min&current_weather=true&timezone=auto`)).json();if(!i||!i.daily)return null;const o=i.daily.time.slice(0,3).map((a,u)=>({date:new Date(a).toLocaleDateString("en-US",{weekday:"short"}),maxTemp:Math.round(i.daily.temperature_2m_max[u]),minTemp:Math.round(i.daily.temperature_2m_min[u]),weatherCode:i.daily.weathercode[u]}));return{current:{temperature:Math.round(i.current_weather.temperature),weatherCode:i.current_weather.weathercode},forecast:o}}catch(n){return console.error("Weather fetch failed:",n),null}},Y8=({isOpen:t,onClose:e,url:n})=>{const[i,o]=pt.useState(!1);if(!t)return null;const a=async()=>{try{await navigator.clipboard.writeText(n),o(!0),setTimeout(()=>o(!1),2e3)}catch(c){console.error("Failed to copy!",c)}},u=()=>{const c=encodeURIComponent("Check out my Yatra Trip!"),f=encodeURIComponent(`Hey,

I used Yatra to plan an amazing trip. Check out my itinerary here:

${n}

Enjoy!`);window.location.href=`mailto:?subject=${c}&body=${f}`};return D.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:e}),D.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl p-6 shadow-2xl animate-in zoom-in-95 duration-300 border dark:border-slate-800",children:[D.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:D.jsx(T2,{size:20})}),D.jsxs("div",{className:"text-center mb-6",children:[D.jsx("div",{className:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 text-brand-600 dark:text-brand-400 rounded-full flex items-center justify-center mx-auto mb-4",children:D.jsx(o_,{size:24})}),D.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Share your Trip"}),D.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Anyone with this link can view your itinerary."})]}),D.jsx("div",{className:"mb-6",children:D.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",children:[D.jsx("input",{type:"text",readOnly:!0,value:n,className:"flex-1 bg-transparent text-sm text-slate-600 dark:text-slate-300 outline-none px-2 font-medium truncate"}),D.jsxs("button",{onClick:a,className:`
                p-2 rounded-lg text-sm font-semibold transition-all flex items-center gap-1.5
                ${i?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-white dark:bg-slate-700 shadow-sm border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-600"}
              `,children:[i?D.jsx($0,{size:16}):D.jsx(Kw,{size:16}),i?"Copied":"Copy"]})]})}),D.jsx("div",{className:"grid grid-cols-1 gap-3",children:D.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl font-semibold bg-brand-600 text-white hover:bg-brand-700 transition-colors shadow-lg shadow-brand-200 dark:shadow-none",children:[D.jsx(A2,{size:18})," Send via Email"]})})]})]})},K8=({itinerary:t,locationName:e,onReset:n,darkMode:i,coordinates:o})=>{const[a,u]=pt.useState(1),[c,f]=pt.useState(!1),[h,g]=pt.useState(null),[w,A]=pt.useState(!1),[S,R]=pt.useState(null);pt.useEffect(()=>{(async()=>{var Z,fe;let U,z;if(o?(U=o.lat,z=o.lng):(fe=(Z=t.days[0])==null?void 0:Z.segments[0])!=null&&fe.coordinates&&(U=t.days[0].segments[0].coordinates.lat,z=t.days[0].segments[0].coordinates.lng),U&&z){const pe=await J8(U,z);R(pe)}})()},[o,t]);const N=async()=>{if(h){A(!0);return}f(!0);try{const C=await iN(t,e),U=`${window.location.origin}?trip=${C}`;g(U),A(!0)}catch{alert("Failed to create share link. Please try again.")}finally{f(!1)}},k=()=>{$8(t,e)};return D.jsxs("div",{className:"max-w-7xl mx-auto pb-20 animate-in fade-in duration-700 slide-in-from-bottom-4",children:[D.jsx(Y8,{isOpen:w,onClose:()=>A(!1),url:h||""}),D.jsxs("div",{className:"relative mb-8 md:mb-12",children:[D.jsxs("div",{className:"absolute top-0 right-0 hidden md:flex items-center gap-2",children:[D.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm rounded-full text-sm font-semibold text-slate-700 dark:text-slate-300 hover:text-brand-600 dark:hover:text-brand-400 hover:border-brand-200 dark:hover:border-brand-800 hover:shadow-md transition-all",children:[D.jsx(B1,{size:16}),"PDF"]}),D.jsxs("button",{onClick:N,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-brand-600 border border-brand-600 shadow-sm rounded-full text-sm font-semibold text-white hover:bg-brand-700 hover:shadow-md transition-all disabled:opacity-70",children:[c?D.jsx(Tf,{size:16,className:"animate-spin"}):D.jsx(F1,{size:16}),"Share"]})]}),D.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[D.jsxs("div",{className:"text-center md:text-left w-full md:w-auto",children:[D.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-brand-100 dark:bg-brand-900/30 text-brand-800 dark:text-brand-300 text-sm font-medium mb-4",children:[D.jsx(x2,{size:16}),D.jsxs("span",{children:["Trip to ",e]})]}),D.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4",children:t.title}),D.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl leading-relaxed",children:t.overview})]}),S&&D.jsx("div",{className:"w-full md:w-auto flex-shrink-0 bg-white/60 dark:bg-slate-800/60 backdrop-blur-md border border-white/40 dark:border-slate-700 p-4 rounded-2xl shadow-sm animate-in slide-in-from-right-4",children:D.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[v2(g2(S.current.weatherCode).iconType,32),D.jsxs("div",{children:[D.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:[S.current.temperature,""]}),D.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Current"})]})]}),D.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700 mx-2"}),D.jsx("div",{className:"flex gap-4",children:S.forecast.map((C,U)=>D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"text-xs font-bold text-slate-400 mb-1",children:C.date}),v2(g2(C.weatherCode).iconType,20),D.jsxs("div",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mt-1",children:[C.maxTemp,""]})]},U))})]})})]}),D.jsxs("div",{className:"md:hidden mt-6 flex justify-center gap-3",children:[D.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm rounded-full text-sm font-semibold text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:[D.jsx(B1,{size:16}),"PDF"]}),D.jsxs("button",{onClick:N,disabled:c,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-brand-600 border border-brand-600 shadow-sm rounded-full text-sm font-semibold text-white hover:bg-brand-700 transition-all",children:[c?D.jsx(Tf,{size:16,className:"animate-spin"}):D.jsx(F1,{size:16}),"Share"]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 relative",children:[D.jsxs("div",{className:"space-y-12 order-2 lg:order-1",children:[t.days.map(C=>D.jsx("div",{id:`day-${C.day}`,onMouseEnter:()=>u(C.day),className:"scroll-mt-24",children:D.jsx(X8,{day:C})},C.day)),D.jsx("div",{className:"mt-16 text-center",children:D.jsx("button",{onClick:n,className:"px-8 py-3 bg-slate-900 dark:bg-brand-600 text-white rounded-full font-semibold shadow-lg hover:bg-slate-800 dark:hover:bg-brand-700 transition-colors",children:"Plan Another Trip"})})]}),D.jsx("div",{className:"order-1 lg:order-2 lg:h-[calc(100vh-120px)] lg:sticky lg:top-24",children:D.jsx("div",{className:"h-[400px] lg:h-full w-full rounded-3xl overflow-hidden shadow-xl border border-slate-200 dark:border-slate-800 relative",children:D.jsx(W8,{itinerary:t,activeDay:a,darkMode:i})})})]})]})},v2=(t,e)=>{const n="text-slate-600 dark:text-slate-300";switch(t){case"sun":return D.jsx(lu,{size:e,className:"text-amber-500"});case"cloud":return D.jsx(Jw,{size:e,className:n});case"rain":return D.jsx(Gw,{size:e,className:"text-blue-400"});case"storm":return D.jsx(zw,{size:e,className:"text-purple-500"});case"snow":return D.jsx(jw,{size:e,className:"text-cyan-300"});default:return D.jsx(lu,{size:e,className:n})}},W8=({itinerary:t,activeDay:e,darkMode:n})=>{const i=pt.useRef(null),o=pt.useRef(null),a=pt.useRef([]),u=pt.useRef(null);return pt.useEffect(()=>{if(!o.current||!window.L)return;i.current||(i.current=window.L.map(o.current).setView([20.5937,78.9629],5)),u.current&&i.current.removeLayer(u.current);const c=n?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",f=n?'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>':'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';u.current=window.L.tileLayer(c,{attribution:f}).addTo(i.current),a.current.forEach(N=>i.current.removeLayer(N)),a.current=[];const h=[],g=[];t.days.forEach(N=>{N.segments.forEach(k=>{if(k.coordinates){const C=[k.coordinates.lat,k.coordinates.lng];h.push(C),N.day===e&&g.push(C)}})});const w=window.L,A=(N,k)=>w.divIcon({className:"custom-div-icon",html:`<div style="background-color: ${N}; width: 30px; height: 30px; border-radius: 50%; border: 3px solid ${n?"#1e293b":"white"}; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-family: sans-serif;">${k||""}</div>`,iconSize:[30,30],iconAnchor:[15,15]}),S=n?"#2dd4bf":"#0d9488";if(g.length>0){const N=w.polyline(g,{color:S,weight:4,opacity:.8,dashArray:"10, 10"}).addTo(i.current);a.current.push(N)}let R=1;t.days.forEach(N=>{const k=N.day===e;N.segments.forEach(C=>{if(C.coordinates){const U=w.marker([C.coordinates.lat,C.coordinates.lng],{icon:A(k?S:n?"#475569":"#94a3b8",k?R:void 0),opacity:k?1:.6}).bindPopup(`<b>${C.title}</b><br>${C.timeOfDay}`);U.addTo(i.current),a.current.push(U),k&&R++}}),k&&(R=1)}),g.length>0?i.current.fitBounds(w.latLngBounds(g),{padding:[50,50]}):h.length>0&&i.current.fitBounds(w.latLngBounds(h),{padding:[50,50]})},[t,e,n]),D.jsx("div",{ref:o,className:"w-full h-full bg-slate-100 dark:bg-slate-900"})},X8=({day:t})=>D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"sticky top-24 lg:top-4 z-30 mb-8",children:D.jsxs("span",{className:"inline-block px-6 py-2 bg-slate-900 dark:bg-slate-700 text-white text-xl font-bold rounded-r-full shadow-lg",children:["Day ",t.day]})}),D.jsxs("div",{className:"border-l-2 border-slate-200 dark:border-slate-800 ml-6 md:ml-10 space-y-12 pl-8 md:pl-12 pb-4 pt-2",children:[t.segments.map((e,n)=>D.jsx(Q8,{segment:e,index:n},n)),t.suggestedStays&&t.suggestedStays.length>0&&D.jsxs("div",{className:"relative mt-8 pt-4",children:[D.jsx("div",{className:"absolute -left-[41px] md:-left-[59px] top-6 w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-800 border-4 border-white dark:border-slate-900 z-20 flex items-center justify-center",children:D.jsx(q1,{size:12,className:"text-slate-500"})}),D.jsxs("h4",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:[D.jsx(q1,{size:16})," Where to Rest"]}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.suggestedStays.map((e,n)=>D.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm flex flex-col hover:border-brand-200 dark:hover:border-brand-800 transition-colors group",children:[D.jsxs("div",{className:"flex justify-between items-start mb-2",children:[D.jsx("h5",{className:"font-bold text-slate-800 dark:text-slate-200 group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:e.name}),D.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:e.type})]}),D.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 line-clamp-2",children:e.description}),D.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs",children:[D.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:e.priceRange}),D.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[D.jsx("span",{className:"font-bold",children:e.rating}),D.jsx(lu,{size:10,className:"fill-current"})]})]})]},n))})]})]})]}),Zl=({icon:t,title:e,content:n,colorClass:i="bg-slate-50 text-slate-700 dark:bg-slate-700 dark:text-slate-300"})=>n?D.jsxs("div",{className:`p-3 rounded-xl border border-transparent dark:border-slate-700/50 text-sm ${i}`,children:[D.jsxs("div",{className:"flex items-center gap-2 mb-1.5 font-bold opacity-80 uppercase tracking-wider text-[10px]",children:[t,e]}),D.jsx("div",{className:"leading-relaxed text-xs md:text-sm",children:n})]}):null,Q8=({segment:t,index:e})=>{const n=i=>{const o=i.toLowerCase();return o.includes("morning")?D.jsx(lu,{className:"text-amber-500",size:20}):o.includes("afternoon")||o.includes("lunch")?D.jsx(lu,{className:"text-orange-500",size:20}):o.includes("evening")||o.includes("dinner")?D.jsx(C_,{className:"text-indigo-500",size:20}):D.jsx(J0,{className:"text-slate-400",size:20})};return D.jsxs("div",{className:"relative group",children:[t.travelEstimate&&e>0&&D.jsx("div",{className:"absolute -top-10 -left-[20px] md:-left-[20px] flex items-center gap-2 z-0",children:D.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 text-xs font-semibold px-3 py-1 rounded-full border border-slate-200 dark:border-slate-700 flex items-center gap-1.5 shadow-sm whitespace-nowrap",children:[t.travelEstimate.toLowerCase().includes("walk")?D.jsx(Qw,{size:12}):D.jsx(Mw,{size:12}),t.travelEstimate]})}),D.jsx("div",{className:"absolute -left-[41px] md:-left-[59px] top-6 w-6 h-6 rounded-full bg-white dark:bg-slate-900 border-4 border-brand-200 dark:border-brand-900 group-hover:border-brand-500 dark:group-hover:border-brand-500 transition-colors z-20 flex items-center justify-center shadow-sm",children:D.jsx("div",{className:"w-2 h-2 bg-brand-500 rounded-full"})}),D.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[D.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-700 rounded-lg",children:n(t.timeOfDay)}),D.jsxs("div",{children:[D.jsx("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider block mb-0.5",children:t.timeOfDay}),D.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white",children:t.title})]})]}),t.location&&D.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-brand-600 dark:text-brand-400 bg-brand-50 dark:bg-brand-900/20 px-3 py-1.5 rounded-full self-start",children:[D.jsx(b_,{size:12}),t.location]})]}),D.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:t.description}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[D.jsx(Zl,{icon:D.jsx(O_,{size:14}),title:"Nearby Food",content:t.foodRecommendations,colorClass:"bg-orange-50 text-orange-800 dark:bg-orange-900/20 dark:text-orange-200"}),D.jsx(Zl,{icon:D.jsx(i0,{size:14}),title:"Hidden Gems",content:t.hiddenGems,colorClass:"bg-purple-50 text-purple-800 dark:bg-purple-900/20 dark:text-purple-200"}),D.jsx(Zl,{icon:D.jsx(r_,{size:14}),title:"Insider Tips",content:t.insiderTips,colorClass:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200"}),D.jsx(Zl,{icon:D.jsx(I_,{size:14}),title:"Transport",content:t.transportation,colorClass:"bg-blue-50 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200"}),D.jsx(Zl,{icon:D.jsx(A_,{size:14}),title:"Safety Notes",content:t.safety,colorClass:"bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-200"}),D.jsx(Zl,{icon:D.jsx(B_,{size:14}),title:"Budget Tips",content:t.budget,colorClass:"bg-emerald-50 text-emerald-800 dark:bg-emerald-900/20 dark:text-emerald-200"}),t.addOns&&D.jsx("div",{className:"md:col-span-2",children:D.jsx(Zl,{icon:D.jsx(p_,{size:14}),title:"Add-on Places",content:t.addOns,colorClass:"bg-slate-50 text-slate-600 dark:bg-slate-700/50 dark:text-slate-300"})})]})]})]})},fm={uid:"mock-user-123",displayName:"Demo Traveler",email:"demo@yatra.ai",photoURL:"https://ui-avatars.com/api/?name=Demo+Traveler&background=0d9488&color=fff"},gh=t=>{t?localStorage.setItem("yatra_user",JSON.stringify(t)):localStorage.removeItem("yatra_user"),window.dispatchEvent(new Event("auth-change"))},Z8=async()=>{await new Promise(e=>setTimeout(e,800));const t={...fm,displayName:"Google User"};return gh(t),t},eR=async()=>{await new Promise(e=>setTimeout(e,800));const t={...fm,displayName:"Microsoft User"};return gh(t),t},rb=async(t,e)=>{await new Promise(i=>setTimeout(i,800));const n={...fm,email:t,displayName:t.split("@")[0],photoURL:`https://ui-avatars.com/api/?name=${t}&background=random`};return gh(n),n},tR=async(t,e)=>rb(t),nR=async()=>{gh(null)},iR=t=>{const e=localStorage.getItem("yatra_user");t(e?JSON.parse(e):null);const n=()=>{const i=localStorage.getItem("yatra_user");t(i?JSON.parse(i):null)};return window.addEventListener("auth-change",n),()=>window.removeEventListener("auth-change",n)},rR=({onLoginSuccess:t,onGuestAccess:e,darkMode:n,toggleTheme:i})=>{const[o,a]=pt.useState(!1),[u,c]=pt.useState("signin"),[f,h]=pt.useState(""),[g,w]=pt.useState(""),[A,S]=pt.useState(null),R=async k=>{a(!0),S(null);try{let C;k==="google"?C=await Z8():C=await eR(),t(C)}catch(C){console.error("Login failed",C),S("Unable to sign in. Please try again.")}finally{a(!1)}},N=async k=>{if(k.preventDefault(),!(!f||!g)){a(!0),S(null);try{let C;u==="signup"?C=await tR(f,g):C=await rb(f,g),t(C)}catch(C){console.error(C),S("Authentication failed.")}finally{a(!1)}}};return D.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-950 font-sans transition-colors duration-300",children:[D.jsxs("div",{className:"hidden lg:flex w-1/2 relative overflow-hidden bg-slate-900 items-center justify-center",children:[D.jsxs("div",{className:"absolute inset-0 z-0",children:[D.jsx("img",{src:"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?q=80&w=2071&auto=format&fit=crop",alt:"Taj Mahal India",className:"w-full h-full object-cover opacity-60 mix-blend-overlay"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-slate-900/10"})]}),D.jsxs("div",{className:"relative z-10 max-w-xl px-12 text-white",children:[D.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-sm font-medium mb-8",children:[D.jsx(x2,{size:14,className:"text-teal-400"}),D.jsx("span",{children:"AI-Powered Travel Companion"})]}),D.jsxs("h1",{className:"text-6xl font-bold leading-tight mb-6 tracking-tight",children:["Journeys worth ",D.jsx("br",{}),D.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-emerald-400",children:"remembering."})]}),D.jsx("p",{className:"text-lg text-slate-300 leading-relaxed mb-10 max-w-md",children:"Create personalized itineraries for India's most breathtaking destinations in seconds. Your smart guide awaits."}),D.jsxs("div",{className:"flex gap-4",children:[D.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(k=>D.jsx("img",{src:`https://randomuser.me/api/portraits/thumb/women/${k+20}.jpg`,className:"w-10 h-10 rounded-full border-2 border-slate-900",alt:"User"},k))}),D.jsxs("div",{className:"flex flex-col justify-center text-sm",children:[D.jsx("span",{className:"font-bold text-white",children:"10k+ Travelers"}),D.jsx("span",{className:"text-slate-400",children:"exploring right now"})]})]})]})]}),D.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 bg-white dark:bg-slate-950 relative",children:[D.jsxs("div",{className:"absolute top-8 right-8 flex items-center gap-4",children:[D.jsx("button",{onClick:i,className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:n?D.jsx(lu,{size:20}):D.jsx(J0,{size:20})}),D.jsxs("div",{className:"flex items-center gap-2 text-brand-700 dark:text-brand-500 font-bold text-xl",children:[D.jsx(E2,{className:"transform -rotate-45"})," Yatra"]})]}),D.jsxs("div",{className:"max-w-md w-full animate-in slide-in-from-right-8 duration-700",children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:u==="signin"?"Welcome Back":"Create Account"}),D.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u==="signin"?"Enter your credentials to access your trips.":"Sign up to start planning your dream vacation."})]}),A&&D.jsx("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm border border-red-100 dark:border-red-900/30",children:A}),D.jsxs("form",{onSubmit:N,className:"space-y-4 mb-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address"}),D.jsxs("div",{className:"relative",children:[D.jsx("input",{type:"email",required:!0,value:f,onChange:k=>h(k.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",placeholder:"you@example.com"}),D.jsx(A2,{className:"absolute right-3 top-3.5 text-slate-400",size:18})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),D.jsx("input",{type:"password",required:!0,value:g,onChange:k=>w(k.target.value),minLength:6,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",placeholder:""})]}),D.jsxs("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-slate-900 dark:bg-brand-600 hover:bg-slate-800 dark:hover:bg-brand-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:[o?D.jsx(Tf,{size:18,className:"animate-spin"}):u==="signin"?D.jsx(u_,{size:18}):D.jsx(M_,{size:18}),u==="signin"?"Sign In":"Create Account"]})]}),D.jsxs("div",{className:"relative my-8",children:[D.jsx("div",{className:"absolute inset-0 flex items-center",children:D.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-800"})}),D.jsx("div",{className:"relative flex justify-center text-sm",children:D.jsx("span",{className:"px-4 bg-white dark:bg-slate-950 text-slate-400",children:"or continue with"})})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("button",{onClick:()=>R("google"),disabled:o,className:"w-full flex items-center justify-center gap-3 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:border-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 p-4 rounded-2xl transition-all duration-200 shadow-sm disabled:opacity-70",children:[D.jsxs("svg",{className:"w-5 h-5 shrink-0",viewBox:"0 0 24 24",children:[D.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),D.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),D.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),D.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),D.jsx("span",{className:"font-semibold",children:"Continue with Google"})]}),D.jsxs("button",{onClick:()=>R("microsoft"),disabled:o,className:"w-full flex items-center justify-center gap-3 bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:border-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 p-4 rounded-2xl transition-all duration-200 shadow-sm disabled:opacity-70",children:[D.jsxs("svg",{className:"w-5 h-5 shrink-0",viewBox:"0 0 23 23",children:[D.jsx("path",{fill:"#f25022",d:"M1 1h10v10H1z"}),D.jsx("path",{fill:"#00a4ef",d:"M1 12h10v10H1z"}),D.jsx("path",{fill:"#7fba00",d:"M12 1h10v10H12z"}),D.jsx("path",{fill:"#ffb900",d:"M12 12h10v10H12z"})]}),D.jsx("span",{className:"font-semibold",children:"Continue with Microsoft"})]})]}),D.jsxs("div",{className:"mt-8 text-center space-y-4",children:[D.jsx("button",{onClick:()=>c(u==="signin"?"signup":"signin"),className:"text-brand-600 dark:text-brand-400 font-semibold hover:underline text-sm",children:u==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"}),D.jsx("div",{children:D.jsxs("button",{onClick:e,className:"text-slate-500 dark:text-slate-400 font-medium hover:text-slate-900 dark:hover:text-slate-200 text-sm flex items-center justify-center gap-1 mx-auto transition-colors",children:["Continue as Guest ",D.jsx(Iw,{size:14})]})})]}),D.jsx("p",{className:"mt-8 text-center text-xs text-slate-400 dark:text-slate-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})]})},y2=["https://images.unsplash.com/photo-1595053826286-2e5960912c8d?q=80&w=2070&auto=format&fit=crop","https://images.unsplash.com/photo-1564507592333-c60657eea523?q=80&w=2071&auto=format&fit=crop","https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?q=80&w=2071&auto=format&fit=crop","https://images.unsplash.com/photo-1477587458883-47145ed94245?q=80&w=2067&auto=format&fit=crop","https://images.unsplash.com/photo-1514222134-b57cbb8ce073?q=80&w=2000&auto=format&fit=crop"],sR=()=>{const[t,e]=pt.useState(0);return pt.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%y2.length)},5e3);return()=>clearInterval(n)},[]),D.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:y2.map((n,i)=>D.jsxs("div",{className:`absolute inset-0 transition-opacity duration-[2000ms] ease-in-out ${i===t?"opacity-100":"opacity-0"}`,children:[D.jsx("img",{src:n,alt:"Hero Background",className:"w-full h-full object-cover animate-ken-burns"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-slate-900/30"}),D.jsx("div",{className:"absolute inset-0 bg-black/20"})]},i))})},n0=({messages:t})=>{const[e,n]=pt.useState(0),[i,o]=pt.useState(0);return pt.useEffect(()=>{const a=setInterval(()=>{n(c=>(c+1)%t.length)},2e3),u=setInterval(()=>{o(c=>{if(c>=95)return c;const f=Math.max(.5,(100-c)/40);return c+f})},100);return()=>{clearInterval(a),clearInterval(u)}},[t]),D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] animate-in fade-in duration-500 z-10 relative px-4 text-center",children:[D.jsxs("div",{className:"relative mb-8",children:[D.jsx("div",{className:"absolute inset-0 bg-brand-400/30 rounded-full blur-2xl animate-pulse"}),D.jsxs("div",{className:"relative w-24 h-24 bg-white/10 backdrop-blur-md rounded-full border border-white/20 flex items-center justify-center shadow-2xl",children:[D.jsx(E2,{className:"text-brand-400 animate-pulse",size:40}),D.jsx("div",{className:"absolute inset-0 border-t-2 border-brand-400 rounded-full animate-spin"})]})]}),D.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 drop-shadow-sm mb-2 h-10 transition-all duration-300",children:t[e]}),D.jsx("div",{className:"w-full max-w-xs h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full overflow-hidden mt-6",children:D.jsx("div",{className:"h-full bg-gradient-to-r from-brand-400 to-brand-600 transition-all duration-100 ease-out",style:{width:`${i}%`}})})]})};class oR extends w2.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error boundary caught:",e,n)}render(){var e;return this.state.hasError?D.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif"},children:[D.jsx("h1",{children:" Something went wrong"}),D.jsx("p",{children:(e=this.state.error)==null?void 0:e.message}),D.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}const aR=()=>{var Ie;const[t,e]=pt.useState(null),[n,i]=pt.useState(!0),[o,a]=pt.useState(In.IDLE),[u,c]=pt.useState(""),[f,h]=pt.useState([]),[g,w]=pt.useState([]),[A,S]=pt.useState(null),[R,N]=pt.useState(null),[k,C]=pt.useState(null),[U,z]=pt.useState(!1),[Z,fe]=pt.useState(!1);pt.useEffect(()=>{const $=localStorage.getItem("theme"),re=window.matchMedia("(prefers-color-scheme: dark)").matches;$==="dark"||!$&&re?(fe(!0),document.documentElement.classList.add("dark")):(fe(!1),document.documentElement.classList.remove("dark"))},[]);const pe=()=>{Z?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),fe(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),fe(!0))};pt.useEffect(()=>{const $=iR(ce=>{e(ce),i(!1)}),re=setTimeout(()=>{i(ce=>ce&&!1)},4e3);return()=>{$(),clearTimeout(re)}},[]),pt.useEffect(()=>{if(t&&o===In.IDLE&&!U){const re=new URLSearchParams(window.location.search).get("trip");re&&Q(re)}},[t]);const Q=async $=>{z(!0);try{const re=await rN($);re?(N(re.itinerary),c(re.location),a(In.VIEWING_PLAN)):C("The shared trip could not be found.")}catch{C("Failed to load shared trip.")}finally{z(!1);const re=new URL(window.location.href);re.searchParams.delete("trip"),window.history.replaceState({},"",re)}},K=async $=>{if($.preventDefault(),!!u.trim()){a(In.SEARCHING),C(null);try{const re=await tN(u);h(re),a(In.SELECTING)}catch{C("Failed to find attractions. Please check your connection or try a different city."),a(In.IDLE)}}},me=pt.useCallback($=>{w(re=>re.find(Ne=>Ne.id===$.id)?re.filter(Ne=>Ne.id!==$.id):[...re,$])},[]),Te=async()=>{if(g.length!==0){a(In.PLANNING),C(null);try{const $=await nN(u,g);N($),a(In.VIEWING_PLAN)}catch{C("Failed to create itinerary. AI might be busy, please try again."),a(In.SELECTING)}}},V=()=>{a(In.IDLE),c(""),h([]),w([]),N(null),C(null)},j=async()=>{await nR(),e(null),V()},ie=$=>{e($)},ee=()=>{e({uid:"guest",displayName:"Guest Traveler",photoURL:null})};return n?D.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:D.jsxs("div",{className:"flex flex-col items-center gap-4",children:[D.jsx(Tf,{className:"animate-spin text-brand-500",size:40}),D.jsx("p",{className:"text-slate-400 font-medium tracking-wide",children:"INITIALIZING NATKHAT..."})]})}):t?D.jsxs("div",{className:`min-h-screen font-sans selection:bg-brand-200 selection:text-brand-900 transition-colors duration-500 ${o===In.IDLE?"overflow-hidden":"bg-slate-50 dark:bg-slate-950"}`,children:[o===In.IDLE&&D.jsx(sR,{}),A&&D.jsx(J6,{attraction:A,isOpen:!!A,onClose:()=>S(null),isSelected:g.some($=>$.id===A.id),onToggle:me}),D.jsx("header",{className:`fixed top-0 w-full z-40 transition-all duration-300 ${o===In.IDLE?"bg-transparent py-6":"glass-panel border-b border-white/10 dark:border-slate-800 py-3"}`,children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:V,children:[D.jsx("div",{className:"w-10 h-10 bg-brand-600 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-brand-500/30 group-hover:scale-105 transition-transform",children:"N"}),D.jsx("span",{className:`font-bold text-2xl tracking-tight hidden sm:block ${o===In.IDLE?"text-white":"text-slate-800 dark:text-white"}`,children:"Natkhat"})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("button",{onClick:pe,className:`p-2.5 rounded-full transition-colors backdrop-blur-md ${o===In.IDLE?"bg-white/10 text-white hover:bg-white/20":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:Z?D.jsx(lu,{size:20}):D.jsx(J0,{size:20})}),D.jsxs("div",{className:`flex items-center gap-3 pl-4 border-l ${o===In.IDLE?"border-white/20":"border-slate-200 dark:border-slate-700"}`,children:[D.jsxs("div",{className:"text-right hidden sm:block",children:[D.jsx("p",{className:`text-sm font-bold leading-tight ${o===In.IDLE?"text-white":"text-slate-800 dark:text-slate-200"}`,children:t.displayName||"Traveler"}),D.jsx("p",{className:`text-xs ${o===In.IDLE?"text-white/70":"text-slate-500 dark:text-slate-400"}`,children:t.uid==="guest"?"Guest Access":"Pro Member"})]}),t.photoURL?D.jsx("img",{src:t.photoURL,alt:"User",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-700 shadow-lg object-cover"}):D.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-100 dark:bg-brand-900/30 flex items-center justify-center border-2 border-white dark:border-slate-700 shadow-lg text-brand-700 dark:text-brand-400",children:D.jsx(D_,{size:20})}),D.jsx("button",{onClick:j,className:`ml-2 p-2 rounded-lg transition-colors ${o===In.IDLE?"text-white/70 hover:bg-white/10 hover:text-white":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,title:"Sign Out",children:D.jsx(f_,{size:20})})]})]})]})}),D.jsxs("main",{className:`min-h-screen transition-all duration-500 ${o===In.IDLE?"flex items-center justify-center px-4":"pt-24 px-6 max-w-7xl mx-auto"}`,children:[U&&D.jsx(n0,{messages:["Retrieving trip from the cloud...","Loading destination map...","Getting everything ready..."]}),o===In.IDLE&&!U&&D.jsxs("div",{className:"relative z-10 w-full max-w-4xl text-center text-white animate-in slide-up fade-in duration-700",children:[D.jsxs("div",{className:"mb-8 inline-flex items-center gap-2 px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full border border-white/20 shadow-2xl",children:[D.jsx(i0,{size:16,className:"text-teal-300"}),D.jsx("span",{className:"text-sm font-semibold tracking-wide text-teal-50",children:"AI-POWERED LOCAL GUIDE"})]}),D.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 tracking-tighter drop-shadow-2xl",children:["Discover ",D.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300",children:"Hidden"})," ",D.jsx("br",{}),"India."]}),D.jsx("p",{className:"text-lg md:text-2xl text-slate-200 mb-12 max-w-2xl mx-auto font-light leading-relaxed drop-shadow-lg",children:"Experience the incredible diversity of India. Enter a destination, and let AI craft your perfect journey."}),D.jsxs("form",{onSubmit:K,className:"w-full max-w-xl mx-auto relative group",children:[D.jsx("div",{className:"absolute inset-0 bg-white/30 rounded-3xl blur-md group-hover:bg-white/40 transition-colors"}),D.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl rounded-3xl border border-white/30 p-2 flex items-center shadow-2xl transition-transform hover:scale-[1.02]",children:[D.jsx("div",{className:"pl-4 text-white/70",children:D.jsx(Vd,{size:24})}),D.jsx("input",{type:"text",placeholder:"Search by city (e.g. 'Delhi') or category (e.g. 'Museums in Jaipur')",value:u,onChange:$=>c($.target.value),className:"w-full bg-transparent border-none text-xl text-white placeholder-white/60 px-4 py-4 focus:ring-0 outline-none font-medium",autoFocus:!0}),D.jsx("button",{type:"submit",disabled:!u.trim(),className:"bg-white text-slate-900 hover:bg-teal-50 px-8 py-4 rounded-2xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:"Explore"})]})]}),k&&D.jsxs("div",{className:"mt-8 mx-auto max-w-md p-4 bg-red-500/20 backdrop-blur-md text-red-100 rounded-xl border border-red-500/30 flex items-center justify-center gap-2",children:[D.jsx(n_,{size:18})," ",k]}),D.jsxs("div",{className:"mt-16 flex justify-center gap-4 text-sm font-medium text-white/50",children:[D.jsx("span",{children:"Popular:"}),D.jsx("button",{onClick:()=>c("Goa"),className:"hover:text-white underline decoration-teal-400 decoration-2 underline-offset-4",children:"Goa"}),D.jsx("button",{onClick:()=>c("Jaipur"),className:"hover:text-white underline decoration-teal-400 decoration-2 underline-offset-4",children:"Jaipur"}),D.jsx("button",{onClick:()=>c("Kerala"),className:"hover:text-white underline decoration-teal-400 decoration-2 underline-offset-4",children:"Kerala"})]})]}),o===In.SEARCHING&&D.jsx(n0,{messages:[`Scouting best spots in ${u}...`,"Checking ratings and reviews...","Filtering for top-rated experiences..."]}),o===In.SELECTING&&D.jsxs("div",{className:"animate-in slide-in-from-bottom-8 duration-500 pb-24",children:[D.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[D.jsxs("div",{children:[D.jsx("button",{onClick:V,className:"text-sm text-slate-400 hover:text-brand-600 mb-2 font-medium flex items-center gap-1",children:" Back to Search"}),D.jsxs("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:["Top Attractions in ",u]}),D.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"Select the places you'd like to visit. We'll handle the logistics."})]}),D.jsxs("div",{className:"text-sm font-bold bg-white dark:bg-slate-800 px-6 py-3 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-lg text-slate-900 dark:text-slate-200 flex items-center gap-3",children:[D.jsx("span",{className:"w-3 h-3 bg-brand-500 rounded-full animate-pulse"}),D.jsx("span",{className:"text-brand-600 dark:text-brand-400 text-xl",children:g.length})," selected"]})]}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:f.map(($,re)=>D.jsx(aN,{attraction:$,index:re,isSelected:g.some(ce=>ce.id===$.id),onToggle:me,onViewDetails:S},$.id))}),D.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-30 transition-all duration-300 w-full max-w-sm px-6",children:D.jsxs("button",{onClick:Te,disabled:g.length===0,className:`
                    w-full flex items-center justify-center gap-3 px-8 py-4 rounded-full font-bold text-lg shadow-2xl transition-all transform
                    ${g.length>0?"bg-slate-900 dark:bg-brand-600 text-white hover:scale-105 hover:bg-slate-800 dark:hover:bg-brand-700":"bg-slate-200 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed translate-y-20 opacity-0"}
                  `,children:[D.jsx(i0,{size:20,className:g.length>0?"text-yellow-400 animate-pulse":""}),"Create Itinerary"]})}),k&&D.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 p-4 bg-red-50 dark:bg-red-900/90 text-red-600 dark:text-white rounded-lg shadow-xl border border-red-100 dark:border-red-800 z-50 animate-in fade-in slide-in-from-top-4",children:k})]}),o===In.PLANNING&&D.jsx(n0,{messages:["Designing your perfect route...","Finding hidden gems nearby...","Locating best local food spots...","Calculating travel times...","Checking safety & budget tips...","Finalizing your itinerary..."]}),o===In.VIEWING_PLAN&&R&&D.jsx(K8,{itinerary:R,locationName:u,onReset:V,darkMode:Z,coordinates:(Ie=f[0])==null?void 0:Ie.coordinates})]})]}):D.jsx(rR,{onLoginSuccess:ie,onGuestAccess:ee,darkMode:Z,toggleTheme:pe})},lR=()=>D.jsx(oR,{children:D.jsx(aR,{})}),sb=document.getElementById("root");if(!sb)throw new Error("Could not find root element to mount to");const uR=Aw.createRoot(sb);uR.render(D.jsx(w2.StrictMode,{children:D.jsx(lR,{})}));export{mn as _,cR as c,b2 as g};
